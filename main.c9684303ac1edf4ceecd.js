(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.r(e),n.d(e,"Component",function(){return o}),n.d(e,"ComponentContainer",function(){return c}),n.d(e,"Provider",function(){return a});var r=n("mrSG"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.__assign)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=Object(r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.__read)(o.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:u});c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.__awaiter)(this,void 0,void 0,function(){var t;return Object(r.__generator)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.__spreadArray)(Object(r.__spreadArray)([],Object(r.__read)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.__read)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,c=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:c,options:a});try{for(var l=Object(r.__values)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.__read)(h.value,2),f=d[1];c===this.normalizeInstanceIdentifier(d[0])&&f.resolve(u)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,c),u},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var o=Object(r.__values)(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(c){}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"6Uf2":function(t,e,n){"use strict";(function(t){var e=n("zIRd"),r=n("/6Yf"),i=n("qOnz"),o=n("mrSG"),s=n("q/0M"),a="";function c(t){a=t}var u,l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(i.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(i.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(i.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(n){}return new h},f=d("localStorage"),p=d("sessionStorage"),m=new s.Logger("@firebase/database"),g=(u=1,function(){return u++}),v=function(t){var e=Object(i.stringToByteArray)(t),n=new i.Sha1;n.update(e);var r=n.digest();return i.base64.encodeByteArray(r)},b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var o=t[r];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?n+=b.apply(null,o):n+="object"==typeof o?Object(i.stringify)(o):o,n+=" "}return n},y=null,_=!0,w=function(t,e){Object(i.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=s.LogLevel.VERBOSE,y=m.log.bind(m),e&&p.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,p.remove("logging_enabled"))},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===_&&(_=!1,null===y&&!0===p.get("logging_enabled")&&w(!0)),y){var n=b.apply(null,t);y(n)}},T=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];C.apply(void 0,Object(o.__spreadArray)([t],Object(o.__read)(e)))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+b.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(t)));m.error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+b.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(t)));throw m.error(n),new Error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+b.apply(void 0,Object(o.__spreadArray)([],Object(o.__read)(t)));m.warn(n)},x=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",I="[MAX_NAME]",A=function(t,e){if(t===e)return 0;if(t===k||e===I)return-1;if(e===k||t===I)return 1;var n=F(t),r=F(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},P=function(t,e){return t===e?0:t<e?-1:1},D=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(i.stringify)(e))},R=function(t){if("object"!=typeof t||null===t)return Object(i.stringify)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",o=0;o<e.length;o++)0!==o&&(r+=","),r+=Object(i.stringify)(e[o]),r+=":",r+=R(t[e[o]]);return r+"}"},N=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function M(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var j=function(t){var e,n,r,o,s;Object(i.assert)(!x(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var c=a.join(""),u="";for(s=0;s<64;s+=8){var l=parseInt(c.substr(s,8),2).toString(16);1===l.length&&(l="0"+l),u+=l}return u.toLowerCase()},L=new RegExp("^-?(0*)\\d{1,10}$"),F=function(t){if(L.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},U=function(t){try{t()}catch(e){setTimeout(function(){throw O("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},V=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},B=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(function(t){return n.appCheck=t})}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise(function(n,r){setTimeout(function(){e.appCheck?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(function(e){return e.addTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){O('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),q=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(t){return r.auth_=t})}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):new Promise(function(n,r){setTimeout(function(){e.auth_?e.getToken(t).then(n,r):n(null)},0)})},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)})},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';O(t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),z=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),H=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,W="websocket",K="long_polling",G=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}();function Y(t,e,n){var r;if(Object(i.assert)("string"==typeof e,"typeof type must == string"),Object(i.assert)("object"==typeof n,"typeof params must == object"),e===W)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==K)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);var o=[];return M(n,function(t,e){o.push(t+"="+e)}),r+o.join("&")}var $=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(i.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(i.deepCopy)(this.counters_)},t}(),Q={},X={};function J(t){var e=t.toString();return Q[e]||(Q[e]=new $),Q[e]}var Z=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&U(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),tt="start",et="close",nt=function(){function t(t,e,n,r,i,o,s){var a=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=T(t),this.stats_=J(e),this.urlFn=function(t){return a.appCheckToken&&(t.ac=a.appCheckToken),Y(e,K,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Z(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(i.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new rt(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.__read)(t,5),i=r[0],s=r[1],a=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===tt)n.id=s,n.password=a;else{if(i!==et)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(o.__read)(t,2),i=r[0],s=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),n.appCheckToken&&(t.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(i.isNodeSdk)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(i.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(i.base64Encode)(e),r=N(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(i.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(i.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),rt=function(){function t(e,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(i.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(s='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(c){C("frame writing exception"),c.stack&&C(c.stack),C(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||C("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;Object(i.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){C("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),it=null;"undefined"!=typeof MozWebSocket?it=MozWebSocket:"undefined"!=typeof WebSocket&&(it=WebSocket);var ot=function(){function t(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=T(this.connId),this.stats_=J(n),this.connURL=t.connectionURL_(n,s,a,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var o={v:"5"};return!Object(i.isNodeSdk)()&&"undefined"!=typeof location&&location.hostname&&H.test(location.hostname)&&(o.r="f"),e&&(o.s=e),n&&(o.ls=n),r&&(o.ac=r),Y(t,W,o)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(Object(i.isNodeSdk)()){var r={headers:{"User-Agent":"Firebase/5/"+a+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}};this.nodeAdmin?r.headers.Authorization=this.authToken||"":r.headers["X-Firebase-AppCheck"]=this.appCheckToken||"";var o=process.env,s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(r.proxy={origin:s}),this.mySock=new it(this.connURL,[],r)}else this.mySock=new it(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(u){this.log_("Error instantiating WebSocket.");var c=u.message||u.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==it&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(i.jsonEval)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(i.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(i.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=N(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),st=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[nt,ot]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=ot&&ot.isAvailable(),s=i&&!ot.previouslyFailed();if(e.webSocketOnly&&(i||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[ot];else{var a=this.transports_=[];try{for(var c=Object(o.__values)(t.ALL_TRANSPORTS),u=c.next();!u.done;u=c.next()){var l=u.value;l&&l.isAvailable()&&a.push(l)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),at=function(){function t(t,e,n,r,i,o,s,a,c,u){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=T("c:"+this.id+":"),this.transportManager_=new st(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=V(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=D("t",t),n=D("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=D("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),V(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):V(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ct=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ut=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(i.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(o.__spreadArray)([],Object(o.__read)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(i.assert)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),lt=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(i.isMobileCordova)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(o.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ut),ht=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function dt(){return new ht("")}function ft(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pt(t){return t.pieces_.length-t.pieceNum_}function mt(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new ht(t.pieces_,e)}function gt(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function vt(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function bt(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ht(e,0)}function yt(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ht)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ht(n,0)}function _t(t){return t.pieceNum_>=t.pieces_.length}function wt(t,e){var n=ft(t),r=ft(e);if(null===n)return e;if(n===r)return wt(mt(t),mt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ct(t,e){for(var n=vt(t,0),r=vt(e,0),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Tt(t,e){if(pt(t)!==pt(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Et(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(pt(t)>pt(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var St=function(){return function(t,e){this.errorPrefix_=e,this.parts_=vt(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(i.stringLength)(this.parts_[n]);Ot(this)}}();function Ot(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+xt(t))}function xt(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}var kt,It,At=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return Object(o.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(i.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ut),Pt=1e3,Dt=function(t){function e(n,r,o,s,a,c,u,l){var h=t.call(this)||this;if(h.repoInfo_=n,h.applicationId_=r,h.onDataUpdate_=o,h.onConnectStatus_=s,h.onServerInfoUpdate_=a,h.authTokenProvider_=c,h.appCheckTokenProvider_=u,h.authOverride_=l,h.id=e.nextPersistentConnectionId_++,h.log_=T("p:"+h.id+":"),h.interruptReasons_={},h.listens=new Map,h.outstandingPuts_=[],h.outstandingGets_=[],h.outstandingPutCount_=0,h.outstandingGetCount_=0,h.onDisconnectRequestQueue_=[],h.connected_=!1,h.reconnectDelay_=Pt,h.maxReconnectDelay_=3e5,h.securityDebugCallback_=null,h.lastSessionId=null,h.establishConnectionTimer_=null,h.visible_=!1,h.requestCBHash_={},h.requestNumber_=0,h.realtime_=null,h.authToken_=null,h.appCheckToken_=null,h.forceTokenRefresh_=!1,h.invalidAuthTokenCount_=0,h.invalidAppCheckTokenCount_=0,h.firstConnection_=!0,h.lastConnectionAttemptTime_=null,h.lastConnectionEstablishedTime_=null,l&&!Object(i.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return At.getInstance().on("visible",h.onVisible_,h),-1===n.host.indexOf("fblocal")&&lt.getInstance().on("online",h.onOnline_,h),h}return Object(o.__extends)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,o={r:r,a:t,b:e};this.log_(Object(i.stringify)(o)),Object(i.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new i.Deferred,r={p:t._path.toString(),q:t._queryObject},o={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var s=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[s];void 0!==t&&o===t&&(delete e.outstandingGets_[s],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+s+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var o=t._queryIdentifier,s=t._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),Object(i.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(i.assert)(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,function(s){var a=s.d,c=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(i,o),t.onComplete&&t.onComplete(c,a))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(i.contains)(t,"w")){var n=Object(i.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',o=e._path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(i.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(i.isValidFormat)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(e){var n=e.s,r=e.d||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)})},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(i.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(i.stringify)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"apc"===t?this.onAppCheckRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+Object(i.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(i.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Pt),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return Object(o.__awaiter)(this,void 0,void 0,function(){var t,n,r,s,a,c,u,l,h,d,f,p,m,g=this;return Object(o.__generator)(this,function(v){switch(v.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,a=this.lastSessionId,c=!1,u=null,this.realtime_={close:l=function(){u?u.close():(c=!0,r())},sendRequest:function(t){Object(i.assert)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=o.__read.apply(void 0,[v.sent(),2]),f=d[0],p=d[1],c?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=p&&p.token,u=new at(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,function(t){O(t+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")},a)),[3,4];case 3:return m=v.sent(),this.log_("Failed to get token: "+m),c||(this.repoInfo_.nodeAdmin&&O(m),l()),[3,4];case 4:return[2]}})})},e.prototype.interrupt=function(t){C("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){C("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(i.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Pt,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return R(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new ht(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){C("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){C("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=Object(o.__values)(this.listens.values()),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var c=(n=void 0,Object(o.__values)(a.values())),u=c.next();!u.done;u=c.next())this.sendListen_(u.value)}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(i.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+a.replace(/\./g,"-")]=1,Object(i.isMobileCordova)()?t["framework.cordova"]=1:Object(i.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=lt.getInstance().currentlyOnline();return Object(i.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ct),Rt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Nt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Rt(k,t),r=new Rt(k,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Rt.MIN},t}(),Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return kt},set:function(t){kt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return A(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(i.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Rt.MIN},e.prototype.maxPost=function(){return new Rt(I,kt)},e.prototype.makePost=function(t,e){return Object(i.assert)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Rt(t,kt)},e.prototype.toString=function(){return".key"},e}(Nt),jt=new Mt,Lt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ft=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Vt.EMPTY_NODE,this.right=null!=o?o:Vt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Vt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Vt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Ut=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ft(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Vt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ft.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ft.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Lt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Lt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Lt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Lt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Ut,t}();function Bt(t,e){return A(t.name,e.name)}function qt(t,e){return A(t,e)}var zt,Ht,Wt,Kt,Gt,Yt=function(t){return"number"==typeof t?"number:"+j(t):"string:"+t},$t=function(t){if(t.isLeafNode()){var e=t.val();Object(i.assert)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(i.contains)(e,".sv"),"Priority must be a string or number.")}else Object(i.assert)(t===It||t.isEmpty(),"priority of unexpected type.");Object(i.assert)(t===It||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Qt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(i.assert)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),$t(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return zt},set:function(t){zt=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return _t(e)?this:".priority"===ft(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=ft(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(i.assert)(".priority"!==r||1===pt(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(mt(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Yt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?j(this.value_):this.value_,this.lazyHash_=v(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(i.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(n),s=t.VALUE_TYPE_ORDER.indexOf(r);return Object(i.assert)(o>=0,"Unknown leaf type: "+n),Object(i.assert)(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-o},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Xt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Rt.MIN},e.prototype.maxPost=function(){return new Rt(I,new Qt("[PRIORITY-POST]",Wt))},e.prototype.makePost=function(t,e){var n=Ht(t);return new Rt(e,new Qt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Nt)),Jt=Math.log(2),Zt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Jt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),te=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Ft(s,o.node,Ft.BLACK,null,null);var c=parseInt(a/2,10)+e,u=i(e,c),l=i(c+1,r);return o=t[c],s=n?n(o):o,new Ft(s,o.node,Ft.BLACK,u,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var u=i(o+1,a),l=t[o],h=n?n(l):l;c(new Ft(h,l.node,r,null,u))},c=function(t){r?(r.left=t,r=t):(o=t,r=t)},u=0;u<e.count;++u){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(u+1));l?a(h,Ft.BLACK):(a(h,Ft.BLACK),a(h,Ft.RED))}return o}(new Zt(t.length));return new Vt(r||e,o)},ee={},ne=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(i.assert)(ee&&Xt,"ChildrenNode.ts has not been loaded"),Kt=Kt||new t({".priority":ee},{".priority":Xt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(i.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Vt?e:null},t.prototype.hasIndex=function(t){return Object(i.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(i.assert)(e!==jt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,s=[],a=!1,c=n.getIterator(Rt.Wrap),u=c.getNext();u;)a=a||e.isDefinedOn(u.node),s.push(u),u=c.getNext();r=a?te(s,e.getCompare()):ee;var l=e.toString(),h=Object(o.__assign)({},this.indexSet_);h[l]=e;var d=Object(o.__assign)({},this.indexes_);return d[l]=r,new t(d,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(i.map)(this.indexes_,function(t,o){var s=Object(i.safeGet)(r.indexSet_,o);if(Object(i.assert)(s,"Missing index implementation for "+o),t===ee){if(s.isDefinedOn(e.node)){for(var a=[],c=n.getIterator(Rt.Wrap),u=c.getNext();u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),te(a,s.getCompare())}return ee}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Rt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(i.map)(this.indexes_,function(t){if(t===ee)return t;var r=n.get(e.name);return r?t.remove(new Rt(e.name,r)):t}),this.indexSet_)},t}(),re=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&$t(this.priorityNode_),this.children_.isEmpty()&&Object(i.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Gt||(Gt=new t(new Vt(qt),null,ne.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Gt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Gt:e},t.prototype.getChild=function(t){var e=ft(t);return null===e?this:this.getImmediateChild(e).getChild(mt(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(i.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Rt(e,n),o=void 0,s=void 0;n.isEmpty()?(o=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));var a=o.isEmpty()?Gt:this.priorityNode_;return new t(o,a,s)},t.prototype.updateChild=function(t,e){var n=ft(t);if(null===n)return e;Object(i.assert)(".priority"!==ft(t)||1===pt(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(mt(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Xt,function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Yt(this.getPriority().val())+":"),this.forEachChild(Xt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":v(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Rt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Rt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Rt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Rt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Rt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ie?-1:0},t.prototype.withIndex=function(e){if(e===jt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===jt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Xt),r=e.getIterator(Xt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===jt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),ie=new(function(t){function e(){return t.call(this,new Vt(qt),re.EMPTY_NODE,ne.Default)||this}return Object(o.__extends)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return re.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(re));function oe(t,e){if(void 0===e&&(e=null),null===t)return re.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(i.assert)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Qt(t,oe(e));if(t instanceof Array){var n=re.EMPTY_NODE;return M(t,function(e,r){if(Object(i.contains)(t,e)&&"."!==e.substring(0,1)){var o=oe(r);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}}),n.updatePriority(oe(e))}var r=[],o=!1;if(M(t,function(t,e){if("."!==t.substring(0,1)){var n=oe(e);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new Rt(t,n)))}}),0===r.length)return re.EMPTY_NODE;var s=te(r,Bt,function(t){return t.name},qt);if(o){var a=te(r,Xt.getCompare());return new re(s,oe(e),new ne({".priority":a},{".priority":Xt}))}return new re(s,oe(e),ne.Default)}Object.defineProperties(Rt,{MIN:{value:new Rt(k,re.EMPTY_NODE)},MAX:{value:new Rt(I,ie)}}),Mt.__EMPTY_NODE=re.EMPTY_NODE,Qt.__childrenNodeConstructor=re,It=ie,Wt=ie,Ht=oe;var se,ae,ce=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(i.assert)(!_t(e)&&".priority"!==ft(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(o.__extends)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?A(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=oe(t),r=re.EMPTY_NODE.updateChild(this.indexPath_,n);return new Rt(e,r)},e.prototype.maxPost=function(){var t=re.EMPTY_NODE.updateChild(this.indexPath_,ie);return new Rt(I,t)},e.prototype.toString=function(){return vt(this.indexPath_,0).join("/")},e}(Nt),ue=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?A(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Rt.MIN},e.prototype.maxPost=function(){return Rt.MAX},e.prototype.makePost=function(t,e){var n=oe(t);return new Rt(e,n)},e.prototype.toString=function(){return".value"},e}(Nt)),le="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",he=(se=0,ae=[],function(t){var e,n=t===se;se=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=le.charAt(t%64),t=Math.floor(t/64);Object(i.assert)(0===t,"Cannot push at time == 0");var o=r.join("");if(n){for(e=11;e>=0&&63===ae[e];e--)ae[e]=0;ae[e]++}else for(e=0;e<12;e++)ae[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)o+=le.charAt(ae[e]);return Object(i.assert)(20===o.length,"nextPushId: Length should be 20."),o}),de=function(t){if("2147483647"===t)return"-";var e=F(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return I;var o=le.charAt(le.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},fe=function(t){if("-2147483648"===t)return k;var e=F(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=le.charAt(le.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function pe(t){return{type:"value",snapshotNode:t}}function me(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ge(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ve(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var be=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,o,s){Object(i.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=s&&(n.isEmpty()?t.hasChild(e)?s.trackChildChange(ge(e,a)):Object(i.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(me(e,n)):s.trackChildChange(ve(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Xt,function(t,r){e.hasChild(t)||n.trackChildChange(ge(t,r))}),e.isLeafNode()||e.forEachChild(Xt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ve(e,r,i))}else n.trackChildChange(me(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?re.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ye=function(){function t(e){this.indexedFilter_=new be(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Rt(e,n))||(n=re.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=re.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(re.EMPTY_NODE);var i=this;return e.forEachChild(Xt,function(t,e){i.matches(new Rt(t,e))||(r=r.updateImmediateChild(t,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),_e=function(){function t(t){this.rangedFilter_=new ye(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Rt(e,n))||(n=re.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=re.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=re.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(re.EMPTY_NODE);var a=void 0,c=void 0,u=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();u=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),u=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)s=i.getNext(),!h&&u(a,s)<=0&&(h=!0),h&&o<this.limit_&&u(s,c)<=0?o++:r=r.updateImmediateChild(s.name,re.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,o){var s;if(this.reverse_){var a=this.index_.getCompare();s=function(t,e){return a(e,t)}}else s=this.index_.getCompare();var c=t;Object(i.assert)(c.numChildren()===this.limit_,"");var u=new Rt(e,n),l=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),h=this.rangedFilter_.matches(u);if(c.hasChild(e)){for(var d=c.getImmediateChild(e),f=r.getChildAfterChild(this.index_,l,this.reverse_);null!=f&&(f.name===e||c.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:s(f,u);if(h&&!n.isEmpty()&&p>=0)return null!=o&&o.trackChildChange(ve(e,n,d)),c.updateImmediateChild(e,n);null!=o&&o.trackChildChange(ge(e,d));var m=c.updateImmediateChild(e,re.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=o&&o.trackChildChange(me(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}return n.isEmpty()?t:h&&s(l,u)>=0?(null!=o&&(o.trackChildChange(ge(l.name,l.node)),o.trackChildChange(me(e,n))),c.updateImmediateChild(e,n).updateImmediateChild(l.name,re.EMPTY_NODE)):t},t}(),we=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(i.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(i.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(i.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Xt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function Ce(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Te(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ee(t,e){var n=t.copy();return n.index_=e,n}function Se(t){var e,n={};return t.isDefault()||(t.index_===Xt?e="$priority":t.index_===ue?e="$value":t.index_===jt?e="$key":(Object(i.assert)(t.index_ instanceof ce,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(i.stringify)(e),t.startSet_&&(n.startAt=Object(i.stringify)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(i.stringify)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(i.stringify)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(i.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}function Oe(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==Xt&&(e.i=t.index_.toString()),e}var xe=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=T("p:rest:"),o.listens_={},o}return Object(o.__extends)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(i.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,o){var s=this,a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);var c=e.getListenId_(t,r),u={};this.listens_[c]=u;var l=Se(t._queryParams);this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&s.onDataUpdate_(a,n,!1,r),Object(i.safeGet)(s.listens_,c)===u&&o(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Se(t._queryParams),r=t._path.toString(),o=new i.Deferred;return this.restRequest_(r+".json",n,function(t,n){var i=n;404===t&&(i=null,t=null),null===t?(e.onDataUpdate_(r,i,!1,null),o.resolve(i)):o.reject(new Error(i))}),o.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(s){var a=Object(o.__read)(s,2),c=a[0],u=a[1];c&&c.accessToken&&(e.auth=c.accessToken),u&&u.token&&(e.ac=u.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(i.querystring)(e);r.log_("Sending REST request for "+l);var h=new XMLHttpRequest;h.onreadystatechange=function(){if(n&&4===h.readyState){r.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);var t=null;if(h.status>=200&&h.status<300){try{t=Object(i.jsonEval)(h.responseText)}catch(e){O("Failed to parse JSON response for "+l+": "+h.responseText)}n(null,t)}else 401!==h.status&&404!==h.status&&O("Got unsuccessful REST response for "+l+" Status: "+h.status),n(h.status);n=null}},h.open("GET",l,!0),h.send()})},e}(ct),ke=function(){function t(){this.rootNode_=re.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();function Ie(){return{value:null,children:new Map}}function Ae(t,e,n){if(_t(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=ft(e);t.children.has(r)||t.children.set(r,Ie()),Ae(t.children.get(r),e=mt(e),n)}}function Pe(t,e){if(_t(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(Xt,function(e,n){Ae(t,new ht(e),n)}),Pe(t,e)}if(t.children.size>0){var r=ft(e);return e=mt(e),t.children.has(r)&&Pe(t.children.get(r),e)&&t.children.delete(r),0===t.children.size}return!0}function De(t,e,n){null!==t.value?n(e,t.value):function(t,e){t.children.forEach(function(t,n){e(n,t)})}(t,function(t,r){De(r,new ht(e.toString()+"/"+t),n)})}var Re=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(o.__assign)({},t);return this.last_&&M(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Ne=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Re(t);var n=1e4+2e4*Math.random();V(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;M(e,function(e,o){o>0&&Object(i.contains)(t.statsToReport_,e)&&(n[e]=o,r=!0)}),r&&this.server_.reportStats(n),V(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Me=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function je(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Le,Fe=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Me.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(_t(this.path)){if(null!=this.affectedTree.value)return Object(i.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ht(e));return new t(dt(),n,this.revert)}return Object(i.assert)(ft(this.path)===e,"operationForChild called for unrelated child."),new t(mt(this.path),this.affectedTree,this.revert)},t}(),Ue=function(){function t(t,e){this.source=t,this.path=e,this.type=Me.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return _t(this.path)?new t(this.source,dt()):new t(this.source,mt(this.path))},t}(),Ve=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Me.OVERWRITE}return t.prototype.operationForChild=function(e){return _t(this.path)?new t(this.source,dt(),this.snap.getImmediateChild(e)):new t(this.source,mt(this.path),this.snap)},t}(),Be=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Me.MERGE}return t.prototype.operationForChild=function(e){if(_t(this.path)){var n=this.children.subtree(new ht(e));return n.isEmpty()?null:n.value?new Ve(this.source,dt(),n.value):new t(this.source,dt(),n)}return Object(i.assert)(ft(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,mt(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),qe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(_t(t))return this.isFullyInitialized()&&!this.filtered_;var e=ft(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ze=function(){return function(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}();function He(t,e,n,r,o,s){var a=r.filter(function(t){return t.type===n});a.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(i.assertionError)("Should only compare child_ events.");var r=new Rt(e.childName,e.snapshotNode),o=new Rt(n.childName,n.snapshotNode);return t.index_.compare(r,o)}(t,e,n)}),a.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,s);o.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}function We(t,e){return{eventCache:t,serverCache:e}}function Ke(t,e,n,r){return We(new qe(e,n,r),t.serverCache)}function Ge(t,e,n,r){return We(t.eventCache,new qe(e,n,r))}function Ye(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function $e(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Qe=function(){function t(t,e){void 0===e&&(Le||(Le=new Vt(P)),e=Le),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return M(e,function(t,e){n=n.set(new ht(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:dt(),value:this.value};if(_t(t))return null;var n=ft(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(mt(t),e);return null!=i?{path:yt(new ht(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(_t(e))return this;var n=ft(e),r=this.children.get(n);return null!==r?r.subtree(mt(e)):new t(null)},t.prototype.set=function(e,n){if(_t(e))return new t(n,this.children);var r=ft(e),i=(this.children.get(r)||new t(null)).set(mt(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(_t(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=ft(e),r=this.children.get(n);if(r){var i=r.remove(mt(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(_t(t))return this.value;var e=ft(t),n=this.children.get(e);return n?n.get(mt(t)):null},t.prototype.setTree=function(e,n){if(_t(e))return n;var r,i=ft(e),o=(this.children.get(i)||new t(null)).setTree(mt(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(dt(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(yt(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,dt(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(_t(t))return null;var i=ft(t),o=this.children.get(i);return o?o.findOnPath_(mt(t),yt(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,dt(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(_t(e))return this;this.value&&r(n,this.value);var i=ft(e),o=this.children.get(i);return o?o.foreachOnPath_(mt(e),yt(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(dt(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(yt(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),Xe=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Qe(null))},t}();function Je(t,e,n){if(_t(e))return new Xe(new Qe(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=wt(i,e);return o=o.updateChild(s,n),new Xe(t.writeTree_.set(i,o))}var a=new Qe(n),c=t.writeTree_.setTree(e,a);return new Xe(c)}function Ze(t,e,n){var r=t;return M(n,function(t,n){r=Je(r,yt(e,t),n)}),r}function tn(t,e){if(_t(e))return Xe.empty();var n=t.writeTree_.setTree(e,new Qe(null));return new Xe(n)}function en(t,e){return null!=nn(t,e)}function nn(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(wt(n.path,e)):null}function rn(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Xt,function(t,n){e.push(new Rt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Rt(t,n.value))}),e}function on(t,e){if(_t(e))return t;var n=nn(t,e);return new Xe(null!=n?new Qe(n):t.writeTree_.subtree(e))}function sn(t){return t.writeTree_.isEmpty()}function an(t,e){return cn(dt(),t.writeTree_,e)}function cn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,o){".priority"===e?(Object(i.assert)(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=cn(yt(t,e),o,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(yt(t,".priority"),r)),n}function un(t,e){return _n(e,t)}function ln(t,e){if(t.snap)return Et(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Et(yt(t.path,n),e))return!0;return!1}function hn(t){return t.visible}function dn(t,e,n){for(var r=Xe.empty(),o=0;o<t.length;++o){var s=t[o];if(e(s)){var a=s.path,c=void 0;if(s.snap)Et(n,a)?r=Je(r,c=wt(n,a),s.snap):Et(a,n)&&(c=wt(a,n),r=Je(r,dt(),s.snap.getChild(c)));else{if(!s.children)throw Object(i.assertionError)("WriteRecord should have .snap or .children");if(Et(n,a))r=Ze(r,c=wt(n,a),s.children);else if(Et(a,n))if(_t(c=wt(a,n)))r=Ze(r,dt(),s.children);else{var u=Object(i.safeGet)(s.children,ft(c));if(u){var l=u.getChild(mt(c));r=Je(r,dt(),l)}}}}}return r}function fn(t,e,n,r,i){if(r||i){var o=on(t.visibleWrites,e);return!i&&sn(o)?n:i||null!=n||en(o,dt())?an(dn(t.allWrites,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Et(t.path,e)||Et(e,t.path))},e),n||re.EMPTY_NODE):null}var s=nn(t.visibleWrites,e);if(null!=s)return s;var a=on(t.visibleWrites,e);return sn(a)?n:null!=n||en(a,dt())?an(a,n||re.EMPTY_NODE):null}function pn(t,e,n,r){return fn(t.writeTree,t.treePath,e,n,r)}function mn(t,e){return function(t,e,n){var r=re.EMPTY_NODE,i=nn(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Xt,function(t,e){r=r.updateImmediateChild(t,e)}),r;if(n){var o=on(t.visibleWrites,e);return n.forEachChild(Xt,function(t,e){var n=an(on(o,new ht(t)),e);r=r.updateImmediateChild(t,n)}),rn(o).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}return rn(on(t.visibleWrites,e)).forEach(function(t){r=r.updateImmediateChild(t.name,t.node)}),r}(t.writeTree,t.treePath,e)}function gn(t,e,n,r){return function(t,e,n,r,o){Object(i.assert)(r||o,"Either existingEventSnap or existingServerSnap must exist");var s=yt(e,n);if(en(t.visibleWrites,s))return null;var a=on(t.visibleWrites,s);return sn(a)?o.getChild(n):an(a,o.getChild(n))}(t.writeTree,t.treePath,e,n,r)}function vn(t,e){return function(t,e){return nn(t.visibleWrites,e)}(t.writeTree,yt(t.treePath,e))}function bn(t,e,n){return function(t,e,n,r){var i=yt(e,n),o=nn(t.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?an(on(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function yn(t,e){return _n(yt(t.treePath,e),t.writeTree)}function _n(t,e){return{treePath:t,writeTree:e}}var wn=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(i.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(i.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(n,ve(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(n,ge(n,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(n,me(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw Object(i.assertionError)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ve(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Cn=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Tn=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new qe(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bn(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:$e(this.viewCache_),i=function(t,e,n,r,i,o){return function(t,e,n,r,i,o,s){var a,c=on(t.visibleWrites,e),u=nn(c,dt());if(null!=u)a=u;else{if(null==n)return[];a=an(c,n)}if((a=a.withIndex(s)).isEmpty()||a.isLeafNode())return[];for(var l=[],h=s.getCompare(),d=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),f=d.getNext();f&&l.length<1;)0!==h(f,r)&&l.push(f),f=d.getNext();return l}(t.writeTree,t.treePath,e,n,0,i,o)}(this.writes_,r,e,0,n,t);return 0===i.length?null:i[0]},t}();function En(t,e,n,r,o,s){var a=e.eventCache;if(null!=vn(r,n))return e;var c=void 0,u=void 0;if(_t(n))if(Object(i.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=$e(e),h=mn(r,l instanceof re?l:re.EMPTY_NODE);c=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{var d=pn(r,$e(e));c=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{var f=ft(n);if(".priority"===f){Object(i.assert)(1===pt(n),"Can't have a priority with additional path components");var p=a.getNode(),m=gn(r,n,p,u=e.serverCache.getNode());c=null!=m?t.filter.updatePriority(p,m):a.getNode()}else{var g=mt(n),v=void 0;if(a.isCompleteForChild(f)){u=e.serverCache.getNode();var b=gn(r,n,a.getNode(),u);v=null!=b?a.getNode().getImmediateChild(f).updateChild(g,b):a.getNode().getImmediateChild(f)}else v=bn(r,f,e.serverCache);c=null!=v?t.filter.updateChild(a.getNode(),f,v,g,o,s):a.getNode()}}return Ke(e,c,a.isFullyInitialized()||_t(n),t.filter.filtersNodes())}function Sn(t,e,n,r,i,o,s,a){var c,u=e.serverCache,l=s?t.filter:t.filter.getIndexedFilter();if(_t(n))c=l.updateFullNode(u.getNode(),r,null);else if(l.filtersNodes()&&!u.isFiltered()){var h=u.getNode().updateChild(n,r);c=l.updateFullNode(u.getNode(),h,null)}else{var d=ft(n);if(!u.isCompleteForPath(n)&&pt(n)>1)return e;var f=mt(n),p=u.getNode().getImmediateChild(d).updateChild(f,r);c=".priority"===d?l.updatePriority(u.getNode(),p):l.updateChild(u.getNode(),d,p,f,Cn,null)}var m=Ge(e,c,u.isFullyInitialized()||_t(n),l.filtersNodes());return En(t,m,n,i,new Tn(i,m,o),a)}function On(t,e,n,r,i,o,s){var a,c,u=e.eventCache,l=new Tn(i,e,o);if(_t(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,s),a=Ke(e,c,!0,t.filter.filtersNodes());else{var h=ft(n);if(".priority"===h)c=t.filter.updatePriority(e.eventCache.getNode(),r),a=Ke(e,c,u.isFullyInitialized(),u.isFiltered());else{var d=mt(n),f=u.getNode().getImmediateChild(h),p=void 0;if(_t(d))p=r;else{var m=l.getCompleteChild(h);p=null!=m?".priority"===gt(d)&&m.getChild(bt(d)).isEmpty()?m:m.updateChild(d,r):re.EMPTY_NODE}a=f.equals(p)?e:Ke(e,t.filter.updateChild(u.getNode(),h,p,d,l,s),u.isFullyInitialized(),t.filter.filtersNodes())}}return a}function xn(t,e){return t.eventCache.isCompleteForChild(e)}function kn(t,e,n){return n.foreach(function(t,n){e=e.updateChild(t,n)}),e}function In(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var c,u=e;c=_t(n)?r:new Qe(null).setTree(n,r);var l=e.serverCache.getNode();return c.children.inorderTraversal(function(n,r){if(l.hasChild(n)){var c=kn(0,e.serverCache.getNode().getImmediateChild(n),r);u=Sn(t,u,new ht(n),c,i,o,s,a)}}),c.children.inorderTraversal(function(n,r){var c=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!c){var h=kn(0,e.serverCache.getNode().getImmediateChild(n),r);u=Sn(t,u,new ht(n),h,i,o,s,a)}}),u}var An,Pn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new be(r.getIndex()),o=(n=r).loadsAllData()?new be(n.getIndex()):n.hasLimit()?new _e(n):new ye(n);this.processor_=function(t){return{filter:t}}(o);var s=e.serverCache,a=e.eventCache,c=i.updateFullNode(re.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(re.EMPTY_NODE,a.getNode(),null),l=new qe(c,s.isFullyInitialized(),i.filtersNodes()),h=new qe(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=We(h,l),this.eventGenerator_=new ze(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Dn(t,e){var n=$e(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!_t(e)&&!n.getImmediateChild(ft(e)).isEmpty())?n.getChild(e):null}function Rn(t){return 0===t.eventRegistrations_.length}function Nn(t,e,n){var r=[];if(n){Object(i.assert)(null==e,"A cancel should cancel all event registrations.");var o=t.query._path;t.eventRegistrations_.forEach(function(t){var e=t.createCancelEvent(n,o);e&&r.push(e)})}if(e){for(var s=[],a=0;a<t.eventRegistrations_.length;++a){var c=t.eventRegistrations_[a];if(c.matches(e)){if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(a+1));break}}else s.push(c)}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function Mn(t,e,n,r){e.type===Me.MERGE&&null!==e.source.queryId&&(Object(i.assert)($e(t.viewCache_),"We should always have a full cache before handling merges"),Object(i.assert)(Ye(t.viewCache_),"Missing event cache, even though we have a server cache"));var o,s,a=t.viewCache_,c=function(t,e,n,r,o){var s,a,c=new wn;if(n.type===Me.OVERWRITE){var u=n;u.source.fromUser?s=On(t,e,u.path,u.snap,r,o,c):(Object(i.assert)(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!_t(u.path),s=Sn(t,e,u.path,u.snap,r,o,a,c))}else if(n.type===Me.MERGE){var l=n;l.source.fromUser?s=function(t,e,n,r,i,o,s){var a=e;return r.foreach(function(r,c){var u=yt(n,r);xn(e,ft(u))&&(a=On(t,a,u,c,i,o,s))}),r.foreach(function(r,c){var u=yt(n,r);xn(e,ft(u))||(a=On(t,a,u,c,i,o,s))}),a}(t,e,l.path,l.children,r,o,c):(Object(i.assert)(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=In(t,e,l.path,l.children,r,o,a,c))}else if(n.type===Me.ACK_USER_WRITE){var h=n;s=h.revert?function(t,e,n,r,o,s){var a;if(null!=vn(r,n))return e;var c=new Tn(r,e,o),u=e.eventCache.getNode(),l=void 0;if(_t(n)||".priority"===ft(n)){var h=void 0;if(e.serverCache.isFullyInitialized())h=pn(r,$e(e));else{var d=e.serverCache.getNode();Object(i.assert)(d instanceof re,"serverChildren would be complete if leaf node"),h=mn(r,d)}l=t.filter.updateFullNode(u,h=h,s)}else{var f=ft(n),p=bn(r,f,e.serverCache);null==p&&e.serverCache.isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(l=null!=p?t.filter.updateChild(u,f,p,mt(n),c,s):e.eventCache.getNode().hasChild(f)?t.filter.updateChild(u,f,re.EMPTY_NODE,mt(n),c,s):u).isEmpty()&&e.serverCache.isFullyInitialized()&&(a=pn(r,$e(e))).isLeafNode()&&(l=t.filter.updateFullNode(l,a,s))}return a=e.serverCache.isFullyInitialized()||null!=vn(r,dt()),Ke(e,l,a,t.filter.filtersNodes())}(t,e,h.path,r,o,c):function(t,e,n,r,i,o,s){if(null!=vn(i,n))return e;var a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(_t(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Sn(t,e,n,c.getNode().getChild(n),i,o,a,s);if(_t(n)){var u=new Qe(null);return c.getNode().forEachChild(jt,function(t,e){u=u.set(new ht(t),e)}),In(t,e,n,u,i,o,a,s)}return e}var l=new Qe(null);return r.foreach(function(t,e){var r=yt(n,t);c.isCompleteForPath(r)&&(l=l.set(t,c.getNode().getChild(r)))}),In(t,e,n,l,i,o,a,s)}(t,e,h.path,h.affectedTree,r,o,c)}else{if(n.type!==Me.LISTEN_COMPLETE)throw Object(i.assertionError)("Unknown operation type: "+n.type);s=function(t,e,n,r,i){var o=e.serverCache;return En(t,Ge(e,o.getNode(),o.isFullyInitialized()||_t(n),o.isFiltered()),n,r,Cn,i)}(t,e,n.path,r,c)}var d=c.getChanges();return function(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ye(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(pe(Ye(e)))}}(e,s,d),{viewCache:s,changes:d}}(t.processor_,a,e,n,r);return o=t.processor_,s=c.viewCache,Object(i.assert)(s.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Object(i.assert)(s.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Object(i.assert)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=c.viewCache,jn(t,c.changes,c.viewCache.eventCache.getNode(),null)}function jn(t,e,n,r){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),He(t,i,"child_removed",e,r,n),He(t,i,"child_added",e,r,n),He(t,i,"child_moved",o,r,n),He(t,i,"child_changed",e,r,n),He(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}var Ln,Fn=function(){return function(){this.views=new Map}}();function Un(t,e,n,r){var s,a,c=e.source.queryId;if(null!==c){var u=t.views.get(c);return Object(i.assert)(null!=u,"SyncTree gave us an op for an invalid query."),Mn(u,e,n,r)}var l=[];try{for(var h=Object(o.__values)(t.views.values()),d=h.next();!d.done;d=h.next())l=l.concat(Mn(u=d.value,e,n,r))}catch(f){s={error:f}}finally{try{d&&!d.done&&(a=h.return)&&a.call(h)}finally{if(s)throw s.error}}return l}function Vn(t,e,n,r,i){var o=t.views.get(e._queryIdentifier);if(!o){var s=pn(n,i?r:null),a=!1;s?a=!0:r instanceof re?(s=mn(n,r),a=!1):(s=re.EMPTY_NODE,a=!1);var c=We(new qe(s,a,!1),new qe(r,i,!1));return new Pn(e,c)}return o}function Bn(t){var e,n,r=[];try{for(var i=Object(o.__values)(t.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;a.query._queryParams.loadsAllData()||r.push(a)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function qn(t,e){var n,r,i=null;try{for(var s=Object(o.__values)(t.views.values()),a=s.next();!a.done;a=s.next())i=i||Dn(a.value,e)}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}function zn(t,e){return e._queryParams.loadsAllData()?Kn(t):t.views.get(e._queryIdentifier)}function Hn(t,e){return null!=zn(t,e)}function Wn(t){return null!=Kn(t)}function Kn(t){var e,n;try{for(var r=Object(o.__values)(t.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;if(s.query._queryParams.loadsAllData())return s}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}var Gn=1,Yn=function(){return function(t){this.listenProvider_=t,this.syncPointTree_=new Qe(null),this.pendingWriteTree_={visibleWrites:Xe.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}();function $n(t,e,n,r,o){return function(t,e,n,r,o){Object(i.assert)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(t.visibleWrites=Je(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,o),o?er(t,new Ve({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Qn(t,e,n){void 0===n&&(n=!1);var r=function(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function(t,e){var n=t.allWrites.findIndex(function(t){return t.writeId===e});Object(i.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);for(var o=r.visible,s=!1,a=t.allWrites.length-1;o&&a>=0;){var c=t.allWrites[a];c.visible&&(a>=n&&ln(c,r.path)?o=!1:Et(r.path,c.path)&&(s=!0)),a--}return!!o&&(s?(function(t){t.visibleWrites=dn(t.allWrites,hn,dt()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=tn(t.visibleWrites,r.path):M(r.children,function(e){t.visibleWrites=tn(t.visibleWrites,yt(r.path,e))}),!0))}(t.pendingWriteTree_,e)){var o=new Qe(null);return null!=r.snap?o=o.set(dt(),!0):M(r.children,function(t){o=o.set(new ht(t),!0)}),er(t,new Fe(r.path,o,n))}return[]}function Xn(t,e,n){return er(t,new Ve({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function Jn(t,e,n,r){var s=e._path,a=t.syncPointTree_.get(s),c=[];if(a&&("default"===e._queryIdentifier||Hn(a,e))){var u=function(t,e,n,r){var s,a,c=e._queryIdentifier,u=[],l=[],h=Wn(t);if("default"===c)try{for(var d=Object(o.__values)(t.views.entries()),f=d.next();!f.done;f=d.next()){var p,m=Object(o.__read)(f.value,2),g=m[0];l=l.concat(Nn(p=m[1],n,r)),Rn(p)&&(t.views.delete(g),p.query._queryParams.loadsAllData()||u.push(p.query))}}catch(v){s={error:v}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(s)throw s.error}}else(p=t.views.get(c))&&(l=l.concat(Nn(p,n,r)),Rn(p)&&(t.views.delete(c),p.query._queryParams.loadsAllData()||u.push(p.query)));return h&&!Wn(t)&&u.push(new(Object(i.assert)(An,"Reference.ts has not been loaded"),An)(e._repo,e._path)),{removed:u,events:l}}(a,e,n,r);0===a.views.size&&(t.syncPointTree_=t.syncPointTree_.remove(s));var l=u.removed;c=u.events;var h=-1!==l.findIndex(function(t){return t._queryParams.loadsAllData()}),d=t.syncPointTree_.findOnPath(s,function(t,e){return Wn(e)});if(h&&!d){var f=t.syncPointTree_.subtree(s);if(!f.isEmpty())for(var p=function(t){return t.fold(function(t,e,n){if(e&&Wn(e))return[Kn(e)];var r=[];return e&&(r=Bn(e)),M(n,function(t,e){r=r.concat(e)}),r})}(f),m=0;m<p.length;++m){var g=p[m],v=g.query,b=ir(t,g);t.listenProvider_.startListening(lr(v),or(t,v),b.hashFn,b.onComplete)}}!d&&l.length>0&&!r&&(h?t.listenProvider_.stopListening(lr(e),null):l.forEach(function(e){var n=t.queryToTagMap.get(sr(e));t.listenProvider_.stopListening(lr(e),n)})),function(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=sr(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}(t,l)}return c}function Zn(t,e,n){var r=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,function(t,e){var n=wt(t,r);o=o||qn(e,n),s=s||Wn(e)});var a,c=t.syncPointTree_.get(r);c?(s=s||Wn(c),o=o||qn(c,dt())):(c=new Fn,t.syncPointTree_=t.syncPointTree_.set(r,c)),null!=o?a=!0:(a=!1,o=re.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=qn(e,dt());n&&(o=o.updateImmediateChild(t,n))}));var u=Hn(c,e);if(!u&&!e._queryParams.loadsAllData()){var l=sr(e);Object(i.assert)(!t.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=Gn++;t.queryToTagMap.set(l,h),t.tagToQueryMap.set(h,l)}var d=function(t,e,n,r,i,o){var s=Vn(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),function(t,e){t.eventRegistrations_.push(e)}(s,n),function(t,e){var n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Xt,function(t,e){r.push(me(t,e))}),n.isFullyInitialized()&&r.push(pe(n.getNode())),jn(t,r,n.getNode(),e)}(s,n)}(c,e,n,un(t.pendingWriteTree_,r),o,a);if(!u&&!s){var f=zn(c,e);d=d.concat(function(t,e,n){var r=e._path,o=or(t,e),s=ir(t,n),a=t.listenProvider_.startListening(lr(e),o,s.hashFn,s.onComplete),c=t.syncPointTree_.subtree(r);if(o)Object(i.assert)(!Wn(c.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=c.fold(function(t,e,n){if(!_t(t)&&e&&Wn(e))return[Kn(e).query];var r=[];return e&&(r=r.concat(Bn(e).map(function(t){return t.query}))),M(n,function(t,e){r=r.concat(e)}),r}),l=0;l<u.length;++l){var h=u[l];t.listenProvider_.stopListening(lr(h),or(t,h))}return a}(t,e,f))}return d}function tr(t,e,n){var r=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,function(t,n){var r=qn(n,wt(t,e));if(r)return r});return fn(r,e,i,n,!0)}function er(t,e){return nr(e,t.syncPointTree_,null,un(t.pendingWriteTree_,dt()))}function nr(t,e,n,r){if(_t(t.path))return rr(t,e,n,r);var i=e.get(dt());null==n&&null!=i&&(n=qn(i,dt()));var o=[],s=ft(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){var u=n?n.getImmediateChild(s):null,l=yn(r,s);o=o.concat(nr(a,c,u,l))}return i&&(o=o.concat(Un(i,t,r,n))),o}function rr(t,e,n,r){var i=e.get(dt());null==n&&null!=i&&(n=qn(i,dt()));var o=[];return e.children.inorderTraversal(function(e,i){var s=n?n.getImmediateChild(e):null,a=yn(r,e),c=t.operationForChild(e);c&&(o=o.concat(rr(c,i,s,a)))}),i&&(o=o.concat(Un(i,t,r,n))),o}function ir(t,e){var n=e.query,r=or(t,n);return{hashFn:function(){return(function(t){return t.viewCache_.serverCache.getNode()}(e)||re.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?function(t,e,n){var r=ar(t,n);if(r){var i=cr(r),o=i.path,s=i.queryId,a=wt(o,e);return ur(t,o,new Ue(je(s),a))}return[]}(t,n._path,r):function(t,e){return er(t,new Ue({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(t,n._path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}(e,n);return Jn(t,n,null,i)}}}function or(t,e){var n=sr(e);return t.queryToTagMap.get(n)}function sr(t){return t._path.toString()+"$"+t._queryIdentifier}function ar(t,e){return t.tagToQueryMap.get(e)}function cr(t){var e=t.indexOf("$");return Object(i.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ht(t.substr(0,e))}}function ur(t,e,n){var r=t.syncPointTree_.get(e);return Object(i.assert)(r,"Missing sync point for query tag that we're tracking"),Un(r,n,un(t.pendingWriteTree_,e),null)}function lr(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Object(i.assert)(Ln,"Reference.ts has not been loaded"),Ln)(t._repo,t._path):t}var hr=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),dr=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=yt(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return tr(this.syncTree_,this.path_)},t}(),fr=function(t,e,n){return t&&"object"==typeof t?(Object(i.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?pr(t[".sv"],e,n):"object"==typeof t[".sv"]?mr(t[".sv"],e):void Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},pr=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(i.assert)(!1,"Unexpected server value: "+t)}},mr=function(t,e,n){t.hasOwnProperty("increment")||Object(i.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(i.assert)(!1,"Unexpected increment value: "+r);var o=e.node();if(Object(i.assert)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var s=o.getValue();return"number"!=typeof s?r:s+r},gr=function(t,e,n,r){return br(e,new dr(n,t),r)},vr=function(t,e,n){return br(t,new hr(e),n)};function br(t,e,n){var r,i=t.getPriority().val(),o=fr(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=fr(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Qt(a,oe(o)):t}var c=t;return r=c,o!==c.getPriority().val()&&(r=r.updatePriority(new Qt(o))),c.forEachChild(Xt,function(t,i){var o=br(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var yr=function(){return function(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}}();function _r(t,e){for(var n=e instanceof ht?e:new ht(e),r=t,o=ft(n);null!==o;){var s=Object(i.safeGet)(r.node.children,o)||{children:{},childCount:0};r=new yr(o,r,s),o=ft(n=mt(n))}return r}function wr(t){return t.node.value}function Cr(t,e){t.node.value=e,xr(t)}function Tr(t){return t.node.childCount>0}function Er(t,e){M(t.node.children,function(n,r){e(new yr(n,t,r))})}function Sr(t,e,n,r){n&&!r&&e(t),Er(t,function(t){Sr(t,e,!0,r)}),n&&r&&e(t)}function Or(t){return new ht(null===t.parent?t.name:Or(t.parent)+"/"+t.name)}function xr(t){null!==t.parent&&function(t,e,n){var r=function(t){return void 0===wr(t)&&!Tr(t)}(n),o=Object(i.contains)(t.node.children,e);r&&o?(delete t.node.children[e],t.node.childCount--,xr(t)):r||o||(t.node.children[e]=n.node,t.node.childCount++,xr(t))}(t.parent,t.name,t)}var kr=/[\[\].#$\/\u0000-\u001F\u007F]/,Ir=/[\[\].#$\u0000-\u001F\u007F]/,Ar=10485760,Pr=function(t){return"string"==typeof t&&0!==t.length&&!kr.test(t)},Dr=function(t){return"string"==typeof t&&0!==t.length&&!Ir.test(t)},Rr=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!x(t)||t&&"object"==typeof t&&Object(i.contains)(t,".sv")},Nr=function(t,e,n,r){r&&void 0===e||Mr(Object(i.errorPrefix)(t,"value"),e,n)},Mr=function(t,e,n){var r=n instanceof ht?new St(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+xt(r));if("function"==typeof e)throw new Error(t+"contains a function "+xt(r)+" with contents = "+e.toString());if(x(e))throw new Error(t+"contains "+e.toString()+" "+xt(r));if("string"==typeof e&&e.length>Ar/3&&Object(i.stringLength)(e)>Ar)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+xt(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var o=!1,s=!1;if(M(e,function(e,n){if(".value"===e)o=!0;else if(".priority"!==e&&".sv"!==e&&(s=!0,!Pr(e)))throw new Error(t+" contains an invalid key ("+e+") "+xt(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,c;!function(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Object(i.stringLength)(e),Ot(t)}(r,e),Mr(t,n,r),c=(a=r).parts_.pop(),a.byteLength_-=Object(i.stringLength)(c),a.parts_.length>0&&(a.byteLength_-=1)}),o&&s)throw new Error(t+' contains ".value" child '+xt(r)+" in addition to actual children.")}},jr=function(t,e,n,r){if(!r||void 0!==e){var o=Object(i.errorPrefix)(t,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(o+" must be an object containing the children to replace.");var s=[];M(e,function(t,e){var r=new ht(t);if(Mr(o,e,yt(n,r)),".priority"===gt(r)&&!Rr(e))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=vt(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Pr(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Ct);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&Et(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},Lr=function(t,e,n){if(!n||void 0!==e){if(x(e))throw new Error(Object(i.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Rr(e))throw new Error(Object(i.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Fr=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(i.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ur=function(t,e,n,r){if(!(r&&void 0===n||Pr(n)))throw new Error(Object(i.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Vr=function(t,e,n,r){if(!(r&&void 0===n||Dr(n)))throw new Error(Object(i.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Br=function(t,e){if(".info"===ft(e))throw new Error(t+" failed = Can't modify data under /.info/")},qr=function(t,e){var n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!Pr(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Dr(t)}(n))throw new Error(Object(i.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},zr=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(i.errorPrefix)(t,e)+"must be a boolean.")},Hr=function(){return function(){this.eventLists_=[],this.recursionDepth_=0}}();function Wr(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||Tt(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Kr(t,e,n){Wr(t,n),Yr(t,function(t){return Tt(t,e)})}function Gr(t,e,n){Wr(t,n),Yr(t,function(t){return Et(t,e)||Et(e,t)})}function Yr(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?($r(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function $r(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();y&&C("event: "+n.toString()),U(r)}}}var Qr="repo_interrupt",Xr=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hr,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ie(),this.transactionQueueTree_=new yr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Jr(t){var e=t.infoData_.getNode(new ht(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Zr(t){return(e=(e={timestamp:Jr(t)})||{}).timestamp=e.timestamp||(new Date).getTime(),e;var e}function ti(t,e,n,r,o){t.dataUpdateCount++;var s=new ht(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var a=[];if(o)if(r){var c=Object(i.map)(n,function(t){return oe(t)});a=function(t,e,n,r){var i=ar(t,r);if(i){var o=cr(i),s=o.path,a=o.queryId,c=wt(s,e),u=Qe.fromObject(n);return ur(t,s,new Be(je(a),c,u))}return[]}(t.serverSyncTree_,s,c,o)}else{var u=oe(n);a=function(t,e,n,r){var i=ar(t,r);if(null!=i){var o=cr(i),s=o.path,a=o.queryId,c=wt(s,e);return ur(t,s,new Ve(je(a),c,n))}return[]}(t.serverSyncTree_,s,u,o)}else if(r){var l=Object(i.map)(n,function(t){return oe(t)});a=function(t,e,n){var r=Qe.fromObject(n);return er(t,new Be({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{var h=oe(n);a=Xn(t.serverSyncTree_,s,h)}var d=s;a.length>0&&(d=fi(t,s)),Gr(t.eventQueue_,d,a)}function ei(t,e){ni(t,"connected",e),!1===e&&function(t){ui(t,"onDisconnectEvents");var e=Zr(t),n=Ie();De(t.onDisconnect_,dt(),function(r,i){var o=gr(r,i,t.serverSyncTree_,e);Ae(n,r,o)});var r=[];De(n,dt(),function(e,n){r=r.concat(Xn(t.serverSyncTree_,e,n));var i=bi(t,e);fi(t,i)}),t.onDisconnect_=Ie(),Gr(t.eventQueue_,dt(),r)}(t)}function ni(t,e,n){var r=new ht("/.info/"+e),i=oe(n);t.infoData_.updateSnapshot(r,i);var o=Xn(t.infoSyncTree_,r,i);Gr(t.eventQueue_,r,o)}function ri(t){return t.nextWriteId_++}function ii(t,e,n,r,i){ui(t,"set",{path:e.toString(),value:n,priority:r});var o=Zr(t),s=oe(n,r),a=tr(t.serverSyncTree_,e),c=vr(s,a,o),u=ri(t),l=$n(t.serverSyncTree_,e,c,u,!0);Wr(t.eventQueue_,l),t.server_.put(e.toString(),s.val(!0),function(n,r){var o="ok"===n;o||O("set at "+e+" failed: "+n);var s=Qn(t.serverSyncTree_,u,!o);Gr(t.eventQueue_,e,s),li(0,i,n,r)});var h=bi(t,e);fi(t,h),Gr(t.eventQueue_,h,[])}function oi(t,e,n){t.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&Pe(t.onDisconnect_,e),li(0,n,r,i)})}function si(t,e,n,r){var i=oe(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),function(n,o){"ok"===n&&Ae(t.onDisconnect_,e,i),li(0,r,n,o)})}function ai(t,e,n){var r;r=".info"===ft(e._path)?Jn(t.infoSyncTree_,e,n):Jn(t.serverSyncTree_,e,n),Kr(t.eventQueue_,e._path,r)}function ci(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Qr)}function ui(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),C.apply(void 0,Object(o.__spreadArray)([r],Object(o.__read)(e)))}function li(t,e,n,r){e&&U(function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}})}function hi(t,e,n){return tr(t.serverSyncTree_,e,n)||re.EMPTY_NODE}function di(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||vi(t,e),wr(e)){var n=mi(t,e);Object(i.assert)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return 0===t.status})&&function(t,e,n){for(var r=n.map(function(t){return t.currentWriteId}),o=hi(t,e,r),s=o,a=o.hash(),c=0;c<n.length;c++){var u=n[c];Object(i.assert)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var l=wt(e,u.path);s=s.updateChild(l,u.currentOutputSnapshotRaw)}var h=s.val(!0),d=e;t.server_.put(d.toString(),h,function(r){ui(t,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=function(e){n[e].status=2,i=i.concat(Qn(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push(function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)}),n[e].unwatcher()},a=0;a<n.length;a++)s(a);for(vi(t,_r(t.transactionQueueTree_,e)),di(t,t.transactionQueueTree_),Gr(t.eventQueue_,e,i),a=0;a<o.length;a++)U(o[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=3===n[a].status?4:0;else for(O("transaction at "+d.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=4,n[a].abortReason=r;fi(t,e)}},a)}(t,Or(e),n)}else Tr(e)&&Er(e,function(e){di(t,e)})}function fi(t,e){var n=pi(t,e),r=Or(n);return function(t,e,n){if(0!==e.length){for(var r=[],o=[],s=e.filter(function(t){return 0===t.status}).map(function(t){return t.currentWriteId}),a=function(a){var c,u=e[a],l=wt(n,u.path),h=!1;if(Object(i.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)h=!0,c=u.abortReason,o=o.concat(Qn(t.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)h=!0,c="maxretry",o=o.concat(Qn(t.serverSyncTree_,u.currentWriteId,!0));else{var d=hi(t,u.path,s);u.currentInputSnapshot=d;var f=e[a].update(d.val());if(void 0!==f){Mr("transaction failed: Data returned ",f,u.path);var p=oe(f);"object"==typeof f&&null!=f&&Object(i.contains)(f,".priority")||(p=p.updatePriority(d.getPriority()));var m=u.currentWriteId,g=Zr(t),v=vr(p,d,g);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=v,u.currentWriteId=ri(t),s.splice(s.indexOf(m),1),o=(o=o.concat($n(t.serverSyncTree_,u.path,v,u.currentWriteId,u.applyLocally))).concat(Qn(t.serverSyncTree_,m,!0))}else h=!0,c="nodata",o=o.concat(Qn(t.serverSyncTree_,u.currentWriteId,!0))}Gr(t.eventQueue_,n,o),o=[],h&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===c?function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)}:function(){return e[a].onComplete(new Error(c),!1,null)}))},c=0;c<e.length;c++)a(c);for(vi(t,t.transactionQueueTree_),c=0;c<r.length;c++)U(r[c]);di(t,t.transactionQueueTree_)}}(t,mi(t,n),r),r}function pi(t,e){var n,r=t.transactionQueueTree_;for(n=ft(e);null!==n&&void 0===wr(r);)r=_r(r,n),n=ft(e=mt(e));return r}function mi(t,e){var n=[];return gi(t,e,n),n.sort(function(t,e){return t.order-e.order}),n}function gi(t,e,n){var r=wr(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Er(e,function(e){gi(t,e,n)})}function vi(t,e){var n=wr(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Cr(e,n.length>0?n:void 0)}Er(e,function(e){vi(t,e)})}function bi(t,e){var n=Or(pi(t,e)),r=_r(t.transactionQueueTree_,e);return function(t,e,n){for(var r=t.parent;null!==r;){if(e(r))return!0;r=r.parent}}(r,function(e){yi(t,e)}),yi(t,r),Sr(r,function(e){yi(t,e)}),n}function yi(t,e){var n=wr(e);if(n){for(var r=[],o=[],s=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(Object(i.assert)(s===a-1,"All SENT items should be at beginning of queue."),s=a,n[a].status=3,n[a].abortReason="set"):(Object(i.assert)(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),o=o.concat(Qn(t.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===s?Cr(e,void 0):n.length=s+1,Gr(t.eventQueue_,Or(e),o),a=0;a<r.length;a++)U(r[a])}}var _i=function(t,e){var n=wi(t),r=n.namespace;return"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new G(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new ht(n.pathString)}},wi=function(t){var e="",n="",r="",i="",s="",a=!0,c="https",u=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(c=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(h,d)),h<d&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,d)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=Object(o.__values)(t.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(0!==a.length){var c=a.split("=");2===c.length?r[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):O("Invalid query segment '"+a+"' in query '"+t+"'")}}}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,d)));(l=e.indexOf(":"))>=0?(a="https"===c||"wss"===c,u=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:c,pathString:i,namespace:s}},Ci=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(i.stringify)(this.snapshot.exportVal())},t}(),Ti=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),Ei=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return Object(i.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),Si=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new i.Deferred;return oi(this._repo,this._path,t.wrapCallback(function(){})),t.promise},t.prototype.remove=function(){Br("OnDisconnect.remove",this._path);var t=new i.Deferred;return si(this._repo,this._path,null,t.wrapCallback(function(){})),t.promise},t.prototype.set=function(t){Br("OnDisconnect.set",this._path),Nr("OnDisconnect.set",t,this._path,!1);var e=new i.Deferred;return si(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t.prototype.setWithPriority=function(t,e){Br("OnDisconnect.setWithPriority",this._path),Nr("OnDisconnect.setWithPriority",t,this._path,!1),Lr("OnDisconnect.setWithPriority",e,!1);var n=new i.Deferred;return function(t,e,n,r,i){var o=oe(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),function(n,r){"ok"===n&&Ae(t.onDisconnect_,e,o),li(0,i,n,r)})}(this._repo,this._path,t,e,n.wrapCallback(function(){})),n.promise},t.prototype.update=function(t){Br("OnDisconnect.update",this._path),jr("OnDisconnect.update",t,this._path,!1);var e=new i.Deferred;return function(t,e,n,r){if(Object(i.isEmpty)(n))return C("onDisconnect().update() called with empty data.  Don't do anything."),void li(0,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,function(i,o){"ok"===i&&M(n,function(n,r){var i=oe(r);Ae(t.onDisconnect_,yt(e,n),i)}),li(0,r,i,o)})}(this._repo,this._path,t,e.wrapCallback(function(){})),e.promise},t}(),Oi=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return _t(this._path)?null:gt(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ai(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Oe(this._queryParams),e=R(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Oe(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!((e=Object(i.getModularInstance)(e))instanceof t))return!1;var n=this._repo===e._repo,r=Tt(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+function(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)},t}();function xi(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function ki(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===jt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==k)throw new Error(r);if("string"!=typeof e)throw new Error(o)}if(t.hasEnd()){if(t.getIndexEndName()!==I)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(t.getIndex()===Xt){if(null!=e&&!Rr(e)||null!=n&&!Rr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(i.assert)(t.getIndex()instanceof ce||t.getIndex()===ue,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ii(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Ai=function(t){function e(e,n){return t.call(this,e,n,new we,!1)||this}return Object(o.__extends)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=bt(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(Oi),Pi=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new ht(e),r=Ni(this.ref,e);return new t(this._node.getChild(n),r,Xt)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,i){return e(new t(i,Ni(n.ref,r),Xt))})},t.prototype.hasChild=function(t){var e=new ht(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Di(t,e){return(t=Object(i.getModularInstance)(t))._checkNotDeleted("ref"),void 0!==e?Ni(t._root,e):t._root}function Ri(t,e){(t=Object(i.getModularInstance)(t))._checkNotDeleted("refFromURL");var n=_i(e,t._repo.repoInfo_.nodeAdmin);qr("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||S("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Di(t,n.path.toString())}function Ni(t,e){var n;return null===ft((t=Object(i.getModularInstance)(t))._path)?((n=e)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vr("child","path",n,!1)):Vr("child","path",e,!1),new Ai(t._repo,yt(t._path,e))}function Mi(t,e){t=Object(i.getModularInstance)(t),Br("push",t._path),Nr("push",e,t._path,!0);var n,r=Jr(t._repo),o=he(r),s=Ni(t,o),a=Ni(t,o);return n=null!=e?Li(a,e).then(function(){return a}):Promise.resolve(a),s.then=n.then.bind(n),s.catch=n.then.bind(n,void 0),s}function ji(t){return Br("remove",t._path),Li(t,null)}function Li(t,e){t=Object(i.getModularInstance)(t),Br("set",t._path),Nr("set",e,t._path,!1);var n=new i.Deferred;return ii(t._repo,t._path,e,null,n.wrapCallback(function(){})),n.promise}function Fi(t,e){t=Object(i.getModularInstance)(t),Br("setPriority",t._path),Lr("setPriority",e,!1);var n=new i.Deferred;return ii(t._repo,yt(t._path,".priority"),e,null,n.wrapCallback(function(){})),n.promise}function Ui(t,e,n){if(Br("setWithPriority",t._path),Nr("setWithPriority",e,t._path,!1),Lr("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new i.Deferred;return ii(t._repo,t._path,e,n,r.wrapCallback(function(){})),r.promise}function Vi(t,e){jr("update",e,t._path,!1);var n=new i.Deferred;return function(t,e,n,r){ui(t,"update",{path:e.toString(),value:n});var o=!0,s=Zr(t),a={};if(M(n,function(n,r){o=!1,a[n]=gr(yt(e,n),oe(r),t.serverSyncTree_,s)}),o)C("update() called with empty data.  Don't do anything."),li(0,r,"ok",void 0);else{var c=ri(t),u=function(t,e,n,r){!function(t,e,n,r){Object(i.assert)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Ze(t.visibleWrites,e,n),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r);var o=Qe.fromObject(n);return er(t,new Be({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,o))}(t.serverSyncTree_,e,a,c);Wr(t.eventQueue_,u),t.server_.merge(e.toString(),n,function(n,i){var o="ok"===n;o||O("update at "+e+" failed: "+n);var s=Qn(t.serverSyncTree_,c,!o),a=s.length>0?fi(t,e):e;Gr(t.eventQueue_,a,s),li(0,r,n,i)}),M(n,function(n){var r=bi(t,yt(e,n));fi(t,r)}),Gr(t.eventQueue_,e,[])}}(t._repo,t._path,e,n.wrapCallback(function(){})),n.promise}var Bi=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new Ci("value",this,new Pi(t.snapshotNode,new Ai(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Ti(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),qi=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return this.eventType===("children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new Ti(this,t,e):null},t.prototype.createEvent=function(t,e){Object(i.assert)(null!=t.childName,"Child events should have a childName.");var n=Ni(new Ai(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Ci(t.type,this,new Pi(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function zi(t,e,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var s=n,a=function(e,n){ai(t._repo,t,u),s(e,n)};a.userCallback=n.userCallback,a.context=n.context,n=a}var c=new Ei(n,o||void 0),u="value"===e?new Bi(c):new qi(e,c);return function(t,e,n){var r;r=".info"===ft(e._path)?Zn(t.infoSyncTree_,e,n):Zn(t.serverSyncTree_,e,n),Kr(t.eventQueue_,e._path,r)}(t._repo,t,u),function(){return ai(t._repo,t,u)}}function Hi(t,e,n,r){return zi(t,"value",e,n,r)}function Wi(t,e,n,r){return zi(t,"child_added",e,n,r)}function Ki(t,e,n,r){return zi(t,"child_changed",e,n,r)}function Gi(t,e,n,r){return zi(t,"child_moved",e,n,r)}function Yi(t,e,n,r){return zi(t,"child_removed",e,n,r)}function $i(t,e,n){var r=null,i=n?new Ei(n):null;"value"===e?r=new Bi(i):e&&(r=new qi(e,i)),ai(t._repo,t,r)}var Qi=function(){return function(){}}(),Xi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.__extends)(e,t),e.prototype._apply=function(t){Nr("endAt",this._value,t._path,!0);var e=Te(t._queryParams,this._value,this._key);if(Ii(e),ki(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Oi(t._repo,t._path,e,t._orderByCalled)},e}(Qi);function Ji(t,e){return Ur("endAt","key",e,!0),new Xi(t,e)}var Zi=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.__extends)(e,t),e.prototype._apply=function(t){Nr("endBefore",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===jt?("string"==typeof n&&(n=fe(n)),i=Te(e,n,r)):i=Te(e,n,null==r?k:fe(r)),i.endBeforeSet_=!0,i);if(Ii(o),ki(o),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Oi(t._repo,t._path,o,t._orderByCalled)},e}(Qi);function to(t,e){return Ur("endBefore","key",e,!0),new Zi(t,e)}var eo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.__extends)(e,t),e.prototype._apply=function(t){Nr("startAt",this._value,t._path,!0);var e=Ce(t._queryParams,this._value,this._key);if(Ii(e),ki(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Oi(t._repo,t._path,e,t._orderByCalled)},e}(Qi);function no(t,e){return void 0===t&&(t=null),Ur("startAt","key",e,!0),new eo(t,e)}var ro=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.__extends)(e,t),e.prototype._apply=function(t){Nr("startAfter",this._value,t._path,!1);var e,n,r,i,o=(n=this._value,r=this._key,(e=t._queryParams).index_===jt?("string"==typeof n&&(n=de(n)),i=Ce(e,n,r)):i=Ce(e,n,null==r?I:de(r)),i.startAfterSet_=!0,i);if(Ii(o),ki(o),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Oi(t._repo,t._path,o,t._orderByCalled)},e}(Qi);function io(t,e){return Ur("startAfter","key",e,!0),new ro(t,e)}var oo=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Oi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="l",n),t._orderByCalled);var e,n},e}(Qi);function so(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new oo(t)}var ao=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return Object(o.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Oi(t._repo,t._path,(e=this._limit,(n=t._queryParams.copy()).limitSet_=!0,n.limit_=e,n.viewFrom_="r",n),t._orderByCalled);var e,n},e}(Qi);function co(t){if("number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ao(t)}var uo=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return Object(o.__extends)(e,t),e.prototype._apply=function(t){xi(t,"orderByChild");var e=new ht(this._path);if(_t(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ce(e),r=Ee(t._queryParams,n);return ki(r),new Oi(t._repo,t._path,r,!0)},e}(Qi);function lo(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Vr("orderByChild","path",t,!1),new uo(t)}var ho=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype._apply=function(t){xi(t,"orderByKey");var e=Ee(t._queryParams,jt);return ki(e),new Oi(t._repo,t._path,e,!0)},e}(Qi);function fo(){return new ho}var po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype._apply=function(t){xi(t,"orderByPriority");var e=Ee(t._queryParams,Xt);return ki(e),new Oi(t._repo,t._path,e,!0)},e}(Qi);function mo(){return new po}var go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o.__extends)(e,t),e.prototype._apply=function(t){xi(t,"orderByValue");var e=Ee(t._queryParams,ue);return ki(e),new Oi(t._repo,t._path,e,!0)},e}(Qi);function vo(){return new go}var bo=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return Object(o.__extends)(e,t),e.prototype._apply=function(t){if(Nr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Xi(this._value,this._key)._apply(new eo(this._value,this._key)._apply(t))},e}(Qi);function yo(t,e){return Ur("equalTo","key",e,!0),new bo(t,e)}function _o(t){for(var e,n,r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];var a=Object(i.getModularInstance)(t);try{for(var c=Object(o.__values)(r),u=c.next();!u.done;u=c.next()){var l=u.value;a=l._apply(a)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return a}!function(t){Object(i.assert)(!An,"__referenceConstructor has already been defined"),An=t}(Ai),function(t){Object(i.assert)(!Ln,"__referenceConstructor has already been defined"),Ln=t}(Ai);var wo={},Co=!1;function To(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),C("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var s,a=_i(o,i),c=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(s=!0,c=(a=_i(o="http://"+u+"?ns="+c.namespace,i)).repoInfo):s=!a.repoInfo.secure;var l=i&&s?new z(z.OWNER):new q(t.name,t.options,e);qr("Invalid Firebase Database URL",a),_t(a.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(t,e,n,r){var i=wo[e.name];i||(wo[e.name]=i={});var o=i[t.toURLString()];return o&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Xr(t,Co,n,r),i[t.toURLString()]=o,o}(c,t,l,new B(t.name,n));return new Eo(h,t)}var Eo=function(){function t(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(function(t,e,n){if(t.stats_=J(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new xe(t.repoInfo_,function(e,n,r,i){ti(t,e,n,r,i)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(function(){return ei(t,!0)},0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(i.stringify)(n)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}t.persistentConnection_=new Dt(t.repoInfo_,e,function(e,n,r,i){ti(t,e,n,r,i)},function(e){ei(t,e)},function(e){!function(t,e){M(e,function(e,n){ni(t,e,n)})}(t,e)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}var r,o;t.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),t.appCheckProvider_.addTokenChangeListener(function(e){t.server_.refreshAppCheckToken(e.token)}),t.statsReporter_=(r=function(){return new Ne(t.stats_,t.server_)},o=t.repoInfo_.toString(),X[o]||(X[o]=r()),X[o]),t.infoData_=new ke,t.infoSyncTree_=new Yn({startListening:function(e,n,r,i){var o=[],s=t.infoData_.getNode(e._path);return s.isEmpty()||(o=Xn(t.infoSyncTree_,e._path,s),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),ni(t,"connected",!1),t.serverSyncTree_=new Yn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);Gr(t.eventQueue_,e._path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Ai(this._repo,dt())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){var t,e,n;return this._checkNotDeleted("delete"),t=this._repo,(n=wo[e=this.app.name])&&n[t.key]===t||S("Database "+e+"("+t.repoInfo_+") has already been deleted."),ci(t),delete n[t.key],this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&S("Cannot call "+t+" on a deleted database.")},t}();function So(t){(t=Object(i.getModularInstance)(t))._checkNotDeleted("goOffline"),ci(t._repo)}function Oo(t){var e;(t=Object(i.getModularInstance)(t))._checkNotDeleted("goOnline"),(e=t._repo).persistentConnection_&&e.persistentConnection_.resume(Qr)}var xo={".sv":"timestamp"},ko=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Io(t,e,n){var r;if(t=Object(i.getModularInstance)(t),Br("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,s=new i.Deferred,a=Hi(t,function(){});return function(e,n,r,o,a,c){ui(e,"transaction on "+n);var u={path:n,update:r,onComplete:function(e,n,r){var i=null;e?s.reject(e):(i=new Pi(r,new Ai(t._repo,t._path),Xt),s.resolve(new ko(n,i)))},status:null,order:g(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=hi(e,n,void 0);u.currentInputSnapshot=l;var h=u.update(l.val());if(void 0===h)u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete&&u.onComplete(null,!1,u.currentInputSnapshot);else{Mr("transaction failed: Data returned ",h,u.path),u.status=0;var d=_r(e.transactionQueueTree_,n),f=wr(d)||[];f.push(u),Cr(d,f);var p=void 0;"object"==typeof h&&null!==h&&Object(i.contains)(h,".priority")?(p=Object(i.safeGet)(h,".priority"),Object(i.assert)(Rr(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(tr(e.serverSyncTree_,n)||re.EMPTY_NODE).getPriority().val();var m=Zr(e),v=oe(h,p),b=vr(v,l,m);u.currentOutputSnapshotRaw=v,u.currentOutputSnapshotResolved=b,u.currentWriteId=ri(e);var y=$n(e.serverSyncTree_,n,b,u.currentWriteId,u.applyLocally);Gr(e.eventQueue_,n,y),di(e,e.transactionQueueTree_)}}(t._repo,t._path,e,0,a,o),s.promise}var Ao=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){Object(i.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.remove=function(t){Object(i.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),Object(i.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},t.prototype.set=function(t,e){Object(i.validateArgCount)("OnDisconnect.set",1,2,arguments.length),Object(i.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.setWithPriority=function(t,e,n){Object(i.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},t.prototype.update=function(t,e){if(Object(i.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Object(i.validateCallback)("OnDisconnect.update","onComplete",e,!0);var o=this._delegate.update(t);return e&&o.then(function(){return e(null)},function(t){return e(t)}),o},t}(),Po=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(i.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Do=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return Object(i.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return Object(i.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return Object(i.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return Object(i.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return Object(i.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),Vr("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return Object(i.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Vr("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return Object(i.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return Object(i.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),Object(i.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(function(r){return e(new t(n._database,r))})},t.prototype.hasChildren=function(){return Object(i.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(i.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return Object(i.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new No(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Ro=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,o){var s,a=this;Object(i.validateArgCount)("Query.on",2,4,arguments.length),Object(i.validateCallback)("Query.on","callback",n,!1);var c=t.getCancelAndContextArgs_("Query.on",r,o),u=function(t,e){n.call(c.context,new Do(a.database,t),e)};u.userCallback=n,u.context=c.context;var l=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(e){case"value":return Hi(this._delegate,u,l),n;case"child_added":return Wi(this._delegate,u,l),n;case"child_removed":return Yi(this._delegate,u,l),n;case"child_changed":return Ki(this._delegate,u,l),n;case"child_moved":return Gi(this._delegate,u,l),n;default:throw new Error(Object(i.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if(Object(i.validateArgCount)("Query.off",0,3,arguments.length),Fr("Query.off",t,!0),Object(i.validateCallback)("Query.off","callback",e,!0),Object(i.validateContextObject)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,$i(this._delegate,t,r)}else $i(this._delegate,t)},t.prototype.get=function(){var t=this;return function(t){return function(t,e){var n=function(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,function(t,e){var i=wt(t,n);r=r||qn(e,i)});var i=t.syncPointTree_.get(n);i?r=r||qn(i,dt()):(i=new Fn,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,s=o?new qe(r,!0,!1):null;return Ye(Vn(i,e,un(t.pendingWriteTree_,e._path),o?s.getNode():re.EMPTY_NODE,o).viewCache_)}(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then(function(n){var r=oe(n),i=Xn(t.serverSyncTree_,e._path,r);return Kr(t.eventQueue_,e._path,i),Promise.resolve(r)},function(n){return ui(t,"get for query "+Object(i.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))})}((t=Object(i.getModularInstance)(t))._repo,t).then(function(e){return new Pi(e,new Ai(t._repo,t._path),t._queryParams.getIndex())})}(this._delegate).then(function(e){return new Do(t.database,e)})},t.prototype.once=function(e,n,r,o){var s=this;Object(i.validateArgCount)("Query.once",1,4,arguments.length),Object(i.validateCallback)("Query.once","callback",n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,o),c=new i.Deferred,u=function(t,e){var r=new Do(s.database,t);n&&n.call(a.context,r,e),c.resolve(r)};u.userCallback=n,u.context=a.context;var l=function(t){a.cancel&&a.cancel.call(a.context,t),c.reject(t)};switch(e){case"value":Hi(this._delegate,u,l,{onlyOnce:!0});break;case"child_added":Wi(this._delegate,u,l,{onlyOnce:!0});break;case"child_removed":Yi(this._delegate,u,l,{onlyOnce:!0});break;case"child_changed":Ki(this._delegate,u,l,{onlyOnce:!0});break;case"child_moved":Gi(this._delegate,u,l,{onlyOnce:!0});break;default:throw new Error(Object(i.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise},t.prototype.limitToFirst=function(e){return Object(i.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,_o(this._delegate,so(e)))},t.prototype.limitToLast=function(e){return Object(i.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,_o(this._delegate,co(e)))},t.prototype.orderByChild=function(e){return Object(i.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,_o(this._delegate,lo(e)))},t.prototype.orderByKey=function(){return Object(i.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,_o(this._delegate,fo()))},t.prototype.orderByPriority=function(){return Object(i.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,_o(this._delegate,mo()))},t.prototype.orderByValue=function(){return Object(i.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,_o(this._delegate,vo()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),Object(i.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,_o(this._delegate,no(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),Object(i.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,_o(this._delegate,io(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),Object(i.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,_o(this._delegate,Ji(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),Object(i.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,_o(this._delegate,to(e,n)))},t.prototype.equalTo=function(e,n){return Object(i.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,_o(this._delegate,yo(e,n)))},t.prototype.toString=function(){return Object(i.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return Object(i.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if(Object(i.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,Object(i.validateCallback)(t,"cancel",r.cancel,!0),r.context=n,Object(i.validateContextObject)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(i.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new No(this.database,new Ai(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),No=function(t){function e(e,n){var r=t.call(this,e,new Oi(n._repo,n._path,new we,!1))||this;return r.database=e,r._delegate=n,r}return Object(o.__extends)(e,t),e.prototype.getKey=function(){return Object(i.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return Object(i.validateArgCount)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new e(this.database,Ni(this._delegate,t))},e.prototype.getParent=function(){Object(i.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return Object(i.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){Object(i.validateArgCount)("Reference.set",1,2,arguments.length),Object(i.validateCallback)("Reference.set","onComplete",e,!0);var n=Li(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.update=function(t,e){if(Object(i.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Br("Reference.update",this._delegate._path),Object(i.validateCallback)("Reference.update","onComplete",e,!0);var o=Vi(this._delegate,t);return e&&o.then(function(){return e(null)},function(t){return e(t)}),o},e.prototype.setWithPriority=function(t,e,n){Object(i.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),Object(i.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Ui(this._delegate,t,e);return n&&r.then(function(){return n(null)},function(t){return n(t)}),r},e.prototype.remove=function(t){Object(i.validateArgCount)("Reference.remove",0,1,arguments.length),Object(i.validateCallback)("Reference.remove","onComplete",t,!0);var e=ji(this._delegate);return t&&e.then(function(){return t(null)},function(e){return t(e)}),e},e.prototype.transaction=function(t,e,n){var r=this;Object(i.validateArgCount)("Reference.transaction",1,3,arguments.length),Object(i.validateCallback)("Reference.transaction","transactionUpdate",t,!1),Object(i.validateCallback)("Reference.transaction","onComplete",e,!0),zr("Reference.transaction","applyLocally",n,!0);var o=Io(this._delegate,t,{applyLocally:n}).then(function(t){return new Po(t.committed,new Do(r.database,t.snapshot))});return e&&o.then(function(t){return e(null,t.committed,t.snapshot)},function(t){return e(t,!1,null)}),o},e.prototype.setPriority=function(t,e){Object(i.validateArgCount)("Reference.setPriority",1,2,arguments.length),Object(i.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=Fi(this._delegate,t);return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},e.prototype.push=function(t,n){var r=this;Object(i.validateArgCount)("Reference.push",0,2,arguments.length),Object(i.validateCallback)("Reference.push","onComplete",n,!0);var o=Mi(this._delegate,t),s=o.then(function(t){return new e(r.database,t)});n&&s.then(function(){return n(null)},function(t){return n(t)});var a=new e(this.database,o);return a.then=s.then.bind(s),a.catch=s.catch.bind(s,void 0),a},e.prototype.onDisconnect=function(){return Br("Reference.onDisconnect",this._delegate._path),new Ao(new Si(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Ro),Mo=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={}),(t=Object(i.getModularInstance)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&S("Cannot call useEmulator() after instance has already been initialized.");var o=t._repoInternal,s=void 0;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&S('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new z(z.OWNER);else if(r.mockUserToken){var a=Object(i.createMockUserToken)(r.mockUserToken,t.app.options.projectId);s=new z(a)}!function(t,e,n,r){t.repoInfo_=new G(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}(o,e,n,s)}(this._delegate,t,e,n)},t.prototype.ref=function(t){if(Object(i.validateArgCount)("database.ref",0,1,arguments.length),t instanceof No){var e=Ri(this._delegate,t.toString());return new No(this,e)}return e=Di(this._delegate,t),new No(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";Object(i.validateArgCount)(e,1,1,arguments.length);var n=Ri(this._delegate,t);return new No(this,n)},t.prototype.goOffline=function(){return Object(i.validateArgCount)("database.goOffline",0,0,arguments.length),So(this._delegate)},t.prototype.goOnline=function(){return Object(i.validateArgCount)("database.goOnline",0,0,arguments.length),Oo(this._delegate)},t.ServerValue={TIMESTAMP:xo,increment:function(t){return function(t){return{".sv":{increment:t}}}(t)}},t}(),jo=Object.freeze({__proto__:null,forceLongPolling:function(){ot.forceDisallow(),nt.forceAllow()},forceWebSockets:function(){nt.forceDisallow()},isWebSocketsAvailable:function(){return ot.isAvailable()},setSecurityDebugCallback:function(t,e){t._delegate._repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){!function(t,e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var n;e?(t.statsListener_||(t.statsListener_=new Re(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce(function(t,e){return Math.max(e.length,t)},0);M(n,function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)})}}(t._delegate._repo,e)},statsIncrementCounter:function(t,e){!function(t,e){t.stats_.incrementCounter(e),t.statsReporter_.statsToReport_[e]=!0}(t._delegate._repo,e)},dataUpdateCount:function(t){return t._delegate._repo.dataUpdateCount},interceptServerData:function(t,e){return function(t,e){t.interceptServerDataCallback_=e}(t._delegate._repo,e)},initStandalone:function(t){var e=t.app,n=t.url,i=t.customAuthImpl,o=t.namespace,s=t.nodeAdmin,a=void 0!==s&&s;c(t.version);var u=new r.Provider("auth-internal",new r.ComponentContainer("database-standalone"));return u.setComponent(new r.Component("auth-internal",function(){return i},"PRIVATE")),{instance:new Mo(To(e,u,void 0,n,a),e),namespace:o}}}),Lo=Dt;Dt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Dt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Fo=Object.freeze({__proto__:null,DataConnection:Lo,RealTimeConnection:at,hijackHash:function(t){var e=Dt.prototype.put;return Dt.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Dt.prototype.put=e}},ConnectionTarget:G,queryIdentifier:function(t){return t._delegate._queryIdentifier},forceRestClient:function(t){!function(t){Co=t}(t)}}),Uo=Mo.ServerValue;!function(e){c(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new r.Component("database",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Mo(To(r,i,o,n),r)},"PUBLIC").setServiceProps({Reference:No,Query:Ro,Database:Mo,DataSnapshot:Do,enableLogging:w,INTERNAL:jo,ServerValue:Uo,TEST_ACCESS:Fo}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.10.1"),Object(i.isNodeSdk)()&&(t.exports=n)}(e.default)}).call(this,n("3UD+")(t))},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),o={};function s(t){return t in o&&(delete o[t],!0)}const a={setImmediate(t){const e=r++;return o[e]=!0,i.then(()=>s(e)&&t()),e},clearImmediate(t){s(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.default}),r.default.registerVersion("firebase","8.6.2","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("z6cu");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},"X8/r":function(t,e,n){"use strict";var r=n("zIRd"),i=n("/6Yf"),o=n("mrSG"),s=n("qOnz"),a=n("q/0M");function c(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u,l=c(r),h=((u={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",u["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",u["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",u["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",u["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",u["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",u["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",u["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",u["recaptcha-error"]="ReCAPTCHA error.",u),d=new s.ErrorFactory("appCheck","AppCheck",h),f=new Map,p={activated:!1,tokenListeners:[]},m={enabled:!1};function g(t){return f.get(t)||p}function v(t,e){f.set(t,e)}function b(){return m}function y(){return self.grecaptcha}function _(t){if(!g(t).activated)throw d.create("use-before-activation",{appName:t.name})}function w(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return _(t),[4,g(t).reCAPTCHAState.initialized.promise];case 1:return e=n.sent(),[2,new Promise(function(n,r){var i=g(t).reCAPTCHAState;e.ready(function(){n(e.execute(i.widgetId,{action:"fire_app_check"}))})})]}})})}function C(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),s=g(t);v(t,o.__assign(o.__assign({},s),{reCAPTCHAState:o.__assign(o.__assign({},s.reCAPTCHAState),{widgetId:i})}))}var T="https://content-firebaseappcheck.googleapis.com/v1beta",E=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(function(){})},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new s.Deferred,[4,(r=this.getNextRun(t),new Promise(function(t){setTimeout(t,r)}))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new s.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch(function(){}),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch(function(){}):this.stop(),[3,7];case 7:return[2]}var r})})},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function S(t,e){var n=t.url,r=t.body;return o.__awaiter(this,void 0,void 0,function(){var t,i,s,a,c,u,l,h,f,p;return o.__generator(this,function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},(i=e.getImmediate({optional:!0}))&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),s={method:"POST",body:JSON.stringify(r),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,s)];case 2:return a=o.sent(),[3,4];case 3:throw c=o.sent(),d.create("fetch-network-error",{originalErrorMessage:c.message});case 4:if(200!==a.status)throw d.create("fetch-status-error",{httpStatus:a.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,a.json()];case 6:return u=o.sent(),[3,8];case 7:throw l=o.sent(),d.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(h=u.ttl.match(/^([\d.]+)(s)$/))||!h[2]||isNaN(Number(h[1])))throw d.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+u.ttl});return f=1e3*Number(h[1]),p=Date.now(),[2,{token:u.attestationToken,expireTimeMillis:p+f,issuedAtTimeMillis:p}]}})})}function O(t,e){var n=t.options;return{url:T+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeRecaptchaToken?key="+n.apiKey,body:{recaptcha_token:e}}}function x(t,e){var n=t.options;return{url:T+"/projects/"+n.projectId+"/apps/"+n.appId+":exchangeDebugToken?key="+n.apiKey,body:{debug_token:e}}}var k="firebase-app-check-store",I="debug-token",A=null;function P(){return A||(A=new Promise(function(t,e){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(d.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(k,{keyPath:"compositeKey"})}}}catch(r){e(d.create("storage-open",{originalErrorMessage:r.message}))}}))}function D(t){return N(M(t))}function R(t,e){return o.__awaiter(this,void 0,void 0,function(){var n,r,i,s;return o.__generator(this,function(o){switch(o.label){case 0:return[4,P()];case 1:return n=o.sent(),r=n.transaction(k,"readwrite"),i=r.objectStore(k),s=i.put({compositeKey:t,value:e}),[2,new Promise(function(t,e){s.onsuccess=function(e){t()},r.onerror=function(t){var n;e(d.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function N(t){return o.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return o.__generator(this,function(o){switch(o.label){case 0:return[4,P()];case 1:return e=o.sent(),n=e.transaction(k,"readonly"),r=n.objectStore(k),i=r.get(t),[2,new Promise(function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(d.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})]}})})}function M(t){return t.options.appId+"-"+t.name}var j=new a.Logger("@firebase/app-check");function L(t){return o.__awaiter(this,void 0,void 0,function(){var e,n;return o.__generator(this,function(r){switch(r.label){case 0:if(!s.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,D(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),j.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}})})}function F(t,e){return s.isIndexedDBAvailable()?function(t,e){return R(M(t),e)}(t,e).catch(function(t){j.warn("Failed to write token to indexeddb. Error: "+t)}):Promise.resolve()}function U(){return b().enabled}function V(){return o.__awaiter(this,void 0,void 0,function(){var t;return o.__generator(this,function(e){if((t=b()).enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")})})}var B={error:"UNKNOWN_ERROR"};function q(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,function(){var r,i,a,c,u,l,h,f,p,m,b,y,C;return o.__generator(this,function(T){switch(T.label){case 0:return _(t),U()?(r=S,i=x,a=[t],[4,V()]):[3,3];case 1:return[4,r.apply(void 0,[i.apply(void 0,a.concat([T.sent()])),e])];case 2:return[2,{token:T.sent().token}];case 3:return c=g(t),l=void 0,(u=c.token)?[3,5]:[4,L(t)];case 4:(h=T.sent())&&H(h)&&(u=h,v(t,o.__assign(o.__assign({},c),{token:u})),z(t,{token:u.token})),T.label=5;case 5:if(!n&&u&&H(u))return[2,{token:u.token}];T.label=6;case 6:return T.trys.push([6,12,,13]),c.customProvider?[4,c.customProvider.getToken()]:[3,8];case 7:return f=T.sent(),p=s.issuedAtTime(f.token),m=null!==p&&p<Date.now()&&p>0?1e3*p:Date.now(),u=o.__assign(o.__assign({},f),{issuedAtTimeMillis:m}),[3,11];case 8:return[4,w(t).catch(function(t){throw d.create("recaptcha-error")})];case 9:return b=T.sent(),[4,S(O(t,b),e)];case 10:u=T.sent(),T.label=11;case 11:return[3,13];case 12:return y=T.sent(),j.error(y),l=y,[3,13];case 13:return u?[3,14]:(C=function(t){return{token:(e=B,s.base64.encodeString(JSON.stringify(e),!1)),error:t};var e}(l),[3,16]);case 14:return C={token:u.token},v(t,o.__assign(o.__assign({},c),{token:u})),[4,F(t,u)];case 15:T.sent(),T.label=16;case 16:return z(t,C),[2,C]}})})}function z(t,e){for(var n=0,r=g(t).tokenListeners;n<r.length;n++){var i=r[n];try{i(e)}catch(o){}}}function H(t){return t.expireTimeMillis-Date.now()>0}var W="app-check-internal";!function(t){t.INTERNAL.registerComponent(new i.Component("appCheck",function(t){return e=t.getProvider("app").getImmediate(),{activate:function(t,n){return function(t,e,n){var r=g(t);if(r.activated)throw d.create("already-activated",{appName:t.name});var i=o.__assign(o.__assign({},r),{activated:!0});"string"==typeof e?i.siteKey=e:i.customProvider=e,i.isTokenAutoRefreshEnabled=void 0===n?t.automaticDataCollectionEnabled:n,v(t,i),i.siteKey&&function(t,e){var n=g(t),r=new s.Deferred;v(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,a=document.createElement("div");a.id=i,a.style.display="none",document.body.appendChild(a);var c,u,l=y();return l?l.ready(function(){C(t,e,l,i),r.resolve(l)}):(c=function(){var n=y();if(!n)throw new Error("no recaptcha");n.ready(function(){C(t,e,n,i),r.resolve(n)})},(u=document.createElement("script")).src="https://www.google.com/recaptcha/api.js",u.onload=c,document.head.appendChild(u)),r.promise}(t,i.siteKey).catch(function(){})}(e,t,n)},setTokenAutoRefreshEnabled:function(t){return function(t,e){var n=g(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),v(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}(e,t)}};var e},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t,e,n){t.getProvider(W).initialize()})),t.INTERNAL.registerComponent(new i.Component(W,function(t){return e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger"),{getToken:function(t){return q(e,n,t)},addTokenListener:function(t){return function(t,e,n){var r=g(t),i=o.__assign(o.__assign({},r),{tokenListeners:o.__spreadArray(o.__spreadArray([],r.tokenListeners),[n])});if(U()){var s=b();s.enabled&&s.token&&s.token.promise.then(function(t){return n({token:t})}).catch(function(){})}else{if(!i.tokenRefresher){var a=function(t,e){var n=this;return new E(function(){return o.__awaiter(n,void 0,void 0,function(){var n;return o.__generator(this,function(r){switch(r.label){case 0:return g(t).token?[3,2]:[4,q(t,e)];case 1:return n=r.sent(),[3,4];case 2:return[4,q(t,e,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}})})},function(){return!0},function(){var e=g(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return n=Math.min(n,e.token.expireTimeMillis-3e5),Math.max(0,n-Date.now())}return 0},3e4,96e4)}(t,e);i.tokenRefresher=a}if(i.tokenRefresher.isRunning()||!0!==r.isTokenAutoRefreshEnabled||i.tokenRefresher.start(),r.token&&H(r.token)){var c=r.token;Promise.resolve().then(function(){return n({token:c.token})}).catch(function(){})}}v(t,i)}(e,n,t)},removeTokenListener:function(t){return function(t,e){var n=g(t),r=n.tokenListeners.filter(function(t){return t!==e});0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),v(t,o.__assign(o.__assign({},n),{tokenListeners:r}))}(e,t)}};var e,n},"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion("@firebase/app-check","0.1.1")}(l.default),function(){var t=s.getGlobal();if("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=b();e.enabled=!0;var n=new s.Deferred;e.token=n,n.resolve("string"==typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?t.FIREBASE_APPCHECK_DEBUG_TOKEN:function(){return o.__awaiter(this,void 0,void 0,function(){var t,e;return o.__generator(this,function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,N(I)];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:((r=e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}),R(I,r)).catch(function(t){return j.warn("Failed to persist debug token to indexeddb. Error: "+t)}),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}var r})})}())}}()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return un}),n.d(e,"b",function(){return uu}),n.d(e,"c",function(){return iu}),n.d(e,"d",function(){return nu}),n.d(e,"e",function(){return ru}),n.d(e,"f",function(){return nl}),n.d(e,"g",function(){return Ku}),n.d(e,"h",function(){return Ya}),n.d(e,"i",function(){return _u}),n.d(e,"j",function(){return ba}),n.d(e,"k",function(){return du}),n.d(e,"l",function(){return Ca}),n.d(e,"m",function(){return Ar}),n.d(e,"n",function(){return Mc}),n.d(e,"o",function(){return _o}),n.d(e,"p",function(){return An}),n.d(e,"q",function(){return I}),n.d(e,"r",function(){return cn}),n.d(e,"s",function(){return jo}),n.d(e,"t",function(){return Ba}),n.d(e,"u",function(){return za}),n.d(e,"v",function(){return hu}),n.d(e,"w",function(){return oc}),n.d(e,"x",function(){return Yu}),n.d(e,"y",function(){return ic}),n.d(e,"z",function(){return Bu}),n.d(e,"A",function(){return Tu}),n.d(e,"B",function(){return Pn}),n.d(e,"C",function(){return cu}),n.d(e,"D",function(){return au}),n.d(e,"E",function(){return Lc}),n.d(e,"F",function(){return Sa}),n.d(e,"G",function(){return Ea}),n.d(e,"H",function(){return jr}),n.d(e,"I",function(){return xa}),n.d(e,"J",function(){return Cr}),n.d(e,"K",function(){return Dn}),n.d(e,"L",function(){return Xu}),n.d(e,"M",function(){return tc}),n.d(e,"N",function(){return Au}),n.d(e,"O",function(){return ln}),n.d(e,"P",function(){return Ia}),n.d(e,"Q",function(){return ka}),n.d(e,"R",function(){return ac}),n.d(e,"S",function(){return M}),n.d(e,"T",function(){return qu}),n.d(e,"U",function(){return Uu}),n.d(e,"V",function(){return f}),n.d(e,"W",function(){return xn}),n.d(e,"X",function(){return Fu}),n.d(e,"Y",function(){return tl}),n.d(e,"Z",function(){return Ru}),n.d(e,"ab",function(){return lu}),n.d(e,"bb",function(){return Co}),n.d(e,"cb",function(){return ia}),n.d(e,"db",function(){return g}),n.d(e,"eb",function(){return _r}),n.d(e,"fb",function(){return rr}),n.d(e,"gb",function(){return Kn}),n.d(e,"hb",function(){return Yn}),n.d(e,"ib",function(){return Jn}),n.d(e,"jb",function(){return Qn}),n.d(e,"kb",function(){return $n}),n.d(e,"lb",function(){return Xn}),n.d(e,"mb",function(){return ta}),n.d(e,"nb",function(){return Zu}),n.d(e,"ob",function(){return ea}),n.d(e,"pb",function(){return na}),n.d(e,"qb",function(){return Gn}),n.d(e,"rb",function(){return V}),n.d(e,"sb",function(){return Ko}),n.d(e,"tb",function(){return fs}),n.d(e,"ub",function(){return hs}),n.d(e,"vb",function(){return ds}),n.d(e,"wb",function(){return Zs}),n.d(e,"xb",function(){return Ot}),n.d(e,"yb",function(){return l}),n.d(e,"zb",function(){return Wn}),n.d(e,"Ab",function(){return Fo}),n.d(e,"Bb",function(){return yt}),n.d(e,"Cb",function(){return ma}),n.d(e,"Db",function(){return Ti}),n.d(e,"Eb",function(){return Xo}),n.d(e,"Fb",function(){return Ds}),n.d(e,"Gb",function(){return Ys}),n.d(e,"Hb",function(){return Ps}),n.d(e,"Ib",function(){return $c}),n.d(e,"Jb",function(){return J}),n.d(e,"Kb",function(){return ot}),n.d(e,"Lb",function(){return _}),n.d(e,"Mb",function(){return w}),n.d(e,"Nb",function(){return nt}),n.d(e,"Ob",function(){return st}),n.d(e,"Pb",function(){return ns}),n.d(e,"Qb",function(){return as}),n.d(e,"Rb",function(){return us}),n.d(e,"Sb",function(){return cs}),n.d(e,"Tb",function(){return ss}),n.d(e,"Ub",function(){return os}),n.d(e,"Vb",function(){return ls}),n.d(e,"Wb",function(){return nn}),n.d(e,"Xb",function(){return $s}),n.d(e,"Yb",function(){return On}),n.d(e,"Zb",function(){return on}),n.d(e,"ac",function(){return eu}),n.d(e,"bc",function(){return ps}),n.d(e,"cc",function(){return Qc}),n.d(e,"dc",function(){return _e}),n.d(e,"ec",function(){return ye}),n.d(e,"fc",function(){return vs}),n.d(e,"gc",function(){return Ic}),n.d(e,"hc",function(){return Ac}),n.d(e,"ic",function(){return Pc}),n.d(e,"jc",function(){return _s}),n.d(e,"kc",function(){return ys}),n.d(e,"lc",function(){return rs}),n.d(e,"mc",function(){return ws}),n.d(e,"nc",function(){return Ts}),n.d(e,"oc",function(){return Cc}),n.d(e,"pc",function(){return Tc}),n.d(e,"qc",function(){return Ec}),n.d(e,"rc",function(){return Sc}),n.d(e,"sc",function(){return Gc}),n.d(e,"tc",function(){return es}),n.d(e,"uc",function(){return Nr}),n.d(e,"vc",function(){return Rr}),n.d(e,"wc",function(){return Kt}),n.d(e,"xc",function(){return Tr}),n.d(e,"yc",function(){return Sr}),n.d(e,"zc",function(){return Er}),n.d(e,"Ac",function(){return rt}),n.d(e,"Bc",function(){return As}),n.d(e,"Cc",function(){return ts}),n.d(e,"Dc",function(){return tu}),n.d(e,"Ec",function(){return Hs}),n.d(e,"Fc",function(){return Ws}),n.d(e,"Gc",function(){return Ks}),n.d(e,"Hc",function(){return Gs}),n.d(e,"Ic",function(){return Yc});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function u(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function v(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():v(t)}function y(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${b(t)} found${n}`)}function _(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function C(t){return T(t,S)||T(t,x)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function E(t){return t&&(t.hasOwnProperty(O)||t.hasOwnProperty(k))?t[O]:null}const S=c({"\u0275prov":c}),O=c({"\u0275inj":c}),x=c({ngInjectableDef:c}),k=c({ngInjectorDef:c});var I=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let A;function P(t){const e=A;return A=t,e}function D(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&I.Optional?null:void 0!==e?e:void y(l(t),"Injector")}function R(t){return{toString:t}.toString()}var N=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const j="undefined"!=typeof globalThis&&globalThis,L="undefined"!=typeof window&&window,F="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,V=j||U||L||F,B={},q=[],z=[],H=c({"\u0275cmp":c}),W=c({"\u0275dir":c}),K=c({"\u0275pipe":c}),G=c({"\u0275mod":c}),Y=c({"\u0275loc":c}),$=c({"\u0275fac":c}),Q=c({__NG_ELEMENT_ID__:c});let X=0;function J(t){return R(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=X++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Z):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(tt):null,n})}function Z(t){return at(t)||function(t){return t[W]||null}(t)}function tt(t){return function(t){return t[K]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&R(()=>{et[t.id]=t.type}),e}function rt(t,e){return R(()=>{const n=ct(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function it(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ot=J;function st(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[H]||null}function ct(t,e){const n=t[G]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ut=20,lt=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty($)?t[$]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function yt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ct),wt}function wt(){const t=Tt(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ct(t,e,n,r){const i=Tt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new bt(c&&c.currentValue,e,s===B),t[r]=e}function Tt(t){return t.__ngSimpleChanges__||null}yt.ngInherit=!0;const Et="http://www.w3.org/2000/svg";let St;function Ot(t){St=t}function xt(){return void 0!==St?St:"undefined"!=typeof document?document:void 0}function kt(t){return!!t.listen}const It={createRenderer:(t,e)=>xt()};function At(t){for(;Array.isArray(t);)t=t[0];return t}function Pt(t,e){return At(e[t])}function Dt(t,e){return At(e[t.index])}function Rt(t,e){return t.data[e]}function Nt(t,e){return t[e]}function Mt(t,e){const n=e[t];return ht(n)?n:n[0]}function jt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function Vt(t){t[18]=0}function Bt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const qt={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return qt.bindingsEnabled}function Ht(){return qt.lFrame.lView}function Wt(){return qt.lFrame.tView}function Kt(t){qt.lFrame.contextLView=t}function Gt(){let t=Yt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Yt(){return qt.lFrame.currentTNode}function $t(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Qt(){return qt.lFrame.isParent}function Xt(){qt.lFrame.isParent=!1}function Jt(){return qt.isInCheckNoChangesMode}function Zt(t){qt.isInCheckNoChangesMode=t}function te(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ee(){return qt.lFrame.bindingIndex}function ne(){return qt.lFrame.bindingIndex++}function re(t){const e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,oe(e)}function oe(t){qt.lFrame.currentDirectiveIndex=t}function se(){return qt.lFrame.currentQueryIndex}function ae(t){qt.lFrame.currentQueryIndex=t}function ce(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ue(t,e,n){if(n&I.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&I.Host||(r=ce(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=qt.lFrame=he();return r.currentTNode=e,r.lView=t,!0}function le(t){const e=he(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fe(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const pe=fe;function me(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return qt.lFrame.selectedIndex}function ve(t){qt.lFrame.selectedIndex=t}function be(){const t=qt.lFrame;return Rt(t.tView,t.selectedIndex)}function ye(){qt.lFrame.currentNamespace=Et}function _e(){qt.lFrame.currentNamespace=null}function we(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Ce(t,e,n){Se(t,e,3,n)}function Te(t,e,n,r){(3&t[2])===n&&Se(t,e,n,r)}function Ee(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Se(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(Oe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Oe(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const xe=-1;class ke{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ie(t,e,n){const r=kt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];Pe(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ae(t){return 3===t||4===t||6===t}function Pe(t){return 64===t.charCodeAt(0)}function De(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Re(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Re(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ne(t){return t!==xe}function Me(t){return 32767&t}function je(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Le=!0;function Fe(t){const e=Le;return Le=t,e}let Ue=0;function Ve(t,e){const n=qe(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Be(r.data,t),Be(e,null),Be(r.blueprint,null));const i=ze(t,e),o=t.injectorIndex;if(Ne(i)){const t=Me(i),n=je(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Be(t,e){t.push(0,0,0,0,0,0,0,0,e)}function qe(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ze(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return xe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xe}function He(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Ue++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function We(t,e,n){if(n&I.Optional)return t;y(e,"NodeInjector")}function Ke(t,e,n,r){if(n&I.Optional&&void 0===r&&(r=null),0==(n&(I.Self|I.Host))){const i=t[9],o=P(void 0);try{return i?i.get(e,r,n&I.Optional):D(e,r,n&I.Optional)}finally{P(o)}}return We(r,e,n)}function Ge(t,e,n,r=I.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:$e:e}(n);if("function"==typeof o){if(!ue(e,t,r))return r&I.Host?We(i,n,r):Ke(e,n,r,i);try{const t=o();if(null!=t||r&I.Optional)return t;y(n)}finally{pe()}}else if("number"==typeof o){let i=null,s=qe(t,e),a=xe,c=r&I.Host?e[16][6]:null;for((-1===s||r&I.SkipSelf)&&(a=-1===s?ze(t,e):e[s+8],a!==xe&&tn(r,!1)?(i=e[1],s=Me(a),e=je(a,e)):s=-1);-1!==s;){const t=e[1];if(Ze(o,s,t.data)){const t=Qe(s,e,n,i,r,c);if(t!==Ye)return t}a=e[s+8],a!==xe&&tn(r,e[1].data[s+8]===c)&&Ze(o,s,e)?(i=t,s=Me(a),e=je(a,e)):s=-1}}}return Ke(e,n,r,i)}const Ye={};function $e(){return new en(Gt(),Ht())}function Qe(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=Xe(a,s,n,null==r?pt(a)&&Le:r!=s&&0!=(3&a.type),i&I.Host&&o===a);return null!==c?Je(e,s,c,a):Ye}function Xe(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,c=t.directiveStart,u=o>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&gt(t)&&t.type===n)return c}return null}function Je(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof ke){const s=i;s.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(b(o[n]));const a=Fe(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?P(s.injectImpl):null;ue(t,r,I.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==c&&P(c),Fe(a),s.resolving=!1,pe()}}return i}function Ze(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function tn(t,e){return!(t&I.Self||t&I.Host&&e)}class en{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ge(this._tNode,this._lView,t,void 0,e)}}function nn(t){return R(()=>{const e=t.prototype.constructor,n=e[$]||rn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[$]||rn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function rn(t){return m(t)?()=>{const e=rn(p(t));return e&&e()}:vt(t)}function on(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ae(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}const sn="__parameters__";function an(t,e,n){return R(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(sn)?t[sn]:Object.defineProperty(t,sn,{value:[]})[sn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class cn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=_({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const un=new cn("AnalyzeForEntryComponents"),ln=Function;function hn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),hn(r,e)):e!==t&&e.push(r)}return e}function dn(t,e){t.forEach(t=>Array.isArray(t)?dn(t,e):e(t))}function fn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function gn(t,e,n){let r=bn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function vn(t,e){const n=bn(t,e);if(n>=0)return t[1|n]}function bn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const yn={},_n=/\n/gm,wn="__source",Cn=c({provide:String,useValue:c});let Tn;function En(t){const e=Tn;return Tn=t,e}function Sn(t,e=I.Default){if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?D(t,void 0,e):Tn.get(t,e&I.Optional?null:void 0,e)}function On(t,e=I.Default){return(A||Sn)(p(t),e)}const xn=On;function kn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=I.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(On(t,n))}else e.push(On(r))}return e}function In(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const An=In(an("Inject",t=>({token:t})),-1),Pn=In(an("Optional"),8),Dn=In(an("SkipSelf"),4);let Rn,Nn;function Mn(t){var e;return(null===(e=function(){if(void 0===Rn&&(Rn=null,V.trustedTypes))try{Rn=V.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Rn}())||void 0===e?void 0:e.createHTML(t))||t}function jn(){if(void 0===Nn&&(Nn=null,V.trustedTypes))try{Nn=V.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Nn}function Ln(t){var e;return(null===(e=jn())||void 0===e?void 0:e.createHTML(t))||t}function Fn(t){var e;return(null===(e=jn())||void 0===e?void 0:e.createScriptURL(t))||t}class Un{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Vn extends Un{getTypeName(){return"HTML"}}class Bn extends Un{getTypeName(){return"Style"}}class qn extends Un{getTypeName(){return"Script"}}class zn extends Un{getTypeName(){return"URL"}}class Hn extends Un{getTypeName(){return"ResourceURL"}}function Wn(t){return t instanceof Un?t.changingThisBreaksApplicationSecurity:t}function Kn(t,e){const n=Gn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Gn(t){return t instanceof Un&&t.getTypeName()||null}function Yn(t){return new Vn(t)}function $n(t){return new Bn(t)}function Qn(t){return new qn(t)}function Xn(t){return new zn(t)}function Jn(t){return new Hn(t)}class Zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Mn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class tr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Mn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Mn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const er=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,nr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rr(t){return(t=String(t)).match(er)||t.match(nr)?t:"unsafe:"+t}function ir(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function or(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const sr=ir("area,br,col,hr,img,wbr"),ar=ir("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cr=ir("rp,rt"),ur=or(cr,ar),lr=or(sr,or(ar,ir("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),or(cr,ir("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ur),hr=ir("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dr=ir("srcset"),fr=or(hr,dr,ir("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ir("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pr=ir("script,style,template");class mr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!lr.hasOwnProperty(e))return this.sanitizedSomething=!0,!pr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!fr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;hr[o]&&(s=rr(s)),dr[o]&&(r=s,s=(r=String(r)).split(",").map(t=>rr(t.trim())).join(", ")),this.buf.push(" ",e,'="',br(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();lr.hasOwnProperty(e)&&!sr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(br(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const gr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vr=/([^\#-~ |!])/g;function br(t){return t.replace(/&/g,"&amp;").replace(gr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(vr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yr;function _r(t,e){let n=null;try{yr=yr||function(t){const e=new tr(t);return function(){try{return!!(new window.DOMParser).parseFromString(Mn(""),"text/html")}catch(t){return!1}}()?new Zn(e):e}(t);let r=e?String(e):"";n=yr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=yr.getInertBodyElement(r)}while(r!==o);return Mn((new mr).sanitizeChildren(wr(n)||n))}finally{if(n){const t=wr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function wr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Tr(t){const e=Or();return e?Ln(e.sanitize(Cr.HTML,t)||""):Kn(t,"HTML")?Ln(Wn(t)):_r(xt(),v(t))}function Er(t){const e=Or();return e?e.sanitize(Cr.URL,t)||"":Kn(t,"URL")?Wn(t):rr(v(t))}function Sr(t){const e=Or();if(e)return Fn(e.sanitize(Cr.RESOURCE_URL,t)||"");if(Kn(t,"ResourceURL"))return Fn(Wn(t));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Or(){const t=Ht();return t&&t[12]}function xr(t){return t.ngDebugContext}function kr(t){return t.ngOriginalError}function Ir(t,...e){t.error(...e)}class Ar{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Ir}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?xr(t)?xr(t):this._findContext(kr(t)):null}_findOriginalError(t){let e=kr(t);for(;e&&kr(e);)e=kr(e);return e}}function Pr(t,e){t.__ngContext__=e}const Dr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function Rr(t){return{name:"window",target:t.ownerDocument.defaultView}}function Nr(t){return{name:"body",target:t.ownerDocument.body}}function Mr(t){return t instanceof Function?t():t}var jr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Lr(t,e){return(void 0)(t,e)}function Fr(t){const e=t[3];return dt(e)?e[3]:e}function Ur(t){return Br(t[13])}function Vr(t){return Br(t[4])}function Br(t){for(;null!==t&&!dt(t);)t=t[4];return t}function qr(t,e,n,r,i){if(null!=r){let o,s=!1;dt(r)?o=r:ht(r)&&(s=!0,r=r[0]);const a=At(r);0===t&&null!==n?null==i?Qr(e,n,a):$r(e,n,a,i||null,!0):1===t&&null!==n?$r(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Jr(t,e);r&&function(t,e,n,r){kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==At(n)&&qr(e,t,r,o,i);for(let s=lt;s<n.length;s++){const i=n[s];si(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function zr(t,e,n){return kt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Hr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bt(i,-1)),n.splice(r,1)}function Wr(t,e){if(t.length<=lt)return;const n=lt+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Hr(o,r),e>0&&(t[n-1][4]=r[4]);const s=pn(t,lt+e);si(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Kr(t,e){if(!(256&e[2])){const n=e[11];kt(n)&&n.destroyNode&&si(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Gr(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Gr(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Gr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Gr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ke)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):At(e[t]),a=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&kt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Hr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Yr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Dt(r,n)}(t,e.parent,n)}function $r(t,e,n,r,i){kt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Qr(t,e,n){kt(t)?t.appendChild(e,n):e.appendChild(n)}function Xr(t,e,n,r,i){null!==r?$r(t,e,n,r,i):Qr(t,e,n)}function Jr(t,e){return kt(t)?t.parentNode(e):e.parentNode}function Zr(t,e,n){return ti(t,e,n)}let ti=function(t,e,n){return 40&t.type?Dt(t,n):null};function ei(t,e,n,r){const i=Yr(t,r,e),o=e[11],s=Zr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Xr(o,i,n[a],s,!1);else Xr(o,i,n,s,!1)}function ni(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return ii(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ni(t,n);{const n=t[e.index];return dt(n)?ii(-1,n):At(n)}}if(32&n)return Lr(e,t)()||At(t[e.index]);{const n=ri(t,e);return null!==n?Array.isArray(n)?n[0]:ni(Fr(t[16]),n):ni(t,e.next)}}return null}function ri(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ii(t,e){const n=lt+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ni(t,r)}return e[7]}function oi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===e&&(a&&Pr(At(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)oi(t,e,n.child,r,i,o,!1),qr(e,t,i,a,o);else if(32&c){const s=Lr(n,r);let c;for(;c=s();)qr(e,t,i,c,o);qr(e,t,i,a,o)}else 16&c?ai(t,e,r,n,i,o):qr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function si(t,e,n,r,i,o){oi(n,r,t.firstChild,e,i,o,!1)}function ai(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)qr(e,t,i,a[c],o);else oi(t,e,a,s[3],i,o,!0)}function ci(t,e,n){kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ui(t,e,n){kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function li(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const hi="ng-template";function di(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==li(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function fi(t){return 4===t.type&&t.value!==hi}function pi(t,e,n){return e===(4!==t.type||n?t.value:hi)}function mi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ae(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!pi(t,c,n)||""===c&&1===e.length){if(gi(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!di(t.attrs,u,n)){if(gi(r))return!1;s=!0}continue}const l=vi(8&r?"class":c,i,fi(t),n);if(-1===l){if(gi(r))return!1;s=!0;continue}if(""!==u){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==li(e,u,0)||2&r&&u!==t){if(gi(r))return!1;s=!0}}}}else{if(!s&&!gi(r)&&!gi(c))return!1;if(s&&gi(c))continue;s=!1,r=c|1&r}}return gi(r)||s}function gi(t){return 0==(1&t)}function vi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function bi(t,e,n=!1){for(let r=0;r<e.length;r++)if(mi(t,e[r],n))return!0;return!1}function yi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function _i(t,e){return t?":not("+e.trim()+")":e}function wi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||gi(s)||(e+=_i(o,i),i=""),r=s,o=o||!gi(r);n++}return""!==i&&(e+=_i(o,i)),e}const Ci={};function Ti(t){Ei(Wt(),Ht(),ge()+t,Jt())}function Ei(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ce(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Te(e,r,0,n)}ve(n)}function Si(t,e){return t<<17|e<<2}function Oi(t){return t>>17&32767}function xi(t){return 2|t}function ki(t){return(131068&t)>>2}function Ii(t,e){return-131069&t|e<<2}function Ai(t){return 1|t}function Pi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ae(i),n.contentQueries(2,e[o],o)}}}function Di(t,e,n,r,i,o,s,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Vt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ri(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Yt(),s=Qt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),qt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return $t(o,!0),o}function Ni(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Mi(t,e,n){le(e);try{const r=t.viewQuery;null!==r&&ho(1,r,n);const i=t.template;null!==i&&Fi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Pi(t,e),t.staticViewQueries&&ho(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)so(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,me()}}function ji(t,e,n,r){const i=e[2];if(256==(256&i))return;le(e);const o=Jt();try{Vt(e),qt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Fi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ce(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Te(e,n,0,null),Ee(e,0)}if(function(t){for(let e=Ur(t);null!==e;e=Vr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Bt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ur(t);null!==e;e=Vr(e))for(let t=lt;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&ji(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Pi(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ce(e,n)}else{const n=t.contentHooks;null!==n&&Te(e,n,1),Ee(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ve(~r);else{const i=r,o=n[++t],s=n[++t];ie(o,i),s(2,e[i])}}}finally{ve(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)io(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&ho(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ce(e,n)}else{const n=t.viewHooks;null!==n&&Te(e,n,2),Ee(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bt(e[3],-1))}finally{me()}}function Li(t,e,n,r){const i=e[10],o=!Jt(),s=Lt(e);try{o&&!s&&i.begin&&i.begin(),s&&Mi(t,e,r),ji(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Fi(t,e,n,r,i){const o=ge(),s=2&r;try{ve(-1),s&&e.length>ut&&Ei(t,e,ut,Jt()),n(r,i)}finally{ve(o)}}function Ui(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Vi(t,e,n){zt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ve(n,e),Pr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=gt(r);o&&to(e,n,r);const c=Je(e,t,a,n);Pr(c,e),null!==s&&eo(0,a-i,c,r,0,s),o&&(Mt(n.index,e)[8]=c)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=qt.lFrame.currentDirectiveIndex;try{ve(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];oe(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||$i(r,i)}}finally{ve(-1),oe(s)}}(t,e,n))}function Bi(t,e,n=Dt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function qi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=zi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function zi(t,e,n,r,i,o,s,a,c,u){const l=ut+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ci);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Hi(t,e,n,r){const i=po(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&mo(t).push(r,i.length-1))}function Wi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ki(t,e,n,r,i,o,s,a){const c=Dt(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(vo(t,n,u,r,i),pt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,kt(o)?o.setProperty(c,r,i):Pe(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Gi(t,e,n,r){let i=!1;if(zt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];bi(n,s.selectors,!1)&&(i||(i=[]),He(Ve(n,e),t,s.type),gt(s)?(Qi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ji(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=Ni(t,e,o.length,null);for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=De(n.mergedAttrs,u.hostAttrs),Zi(t,n,e,c,u),Xi(c,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||fi(e)?null:no(n,i);o.push(u),s=Wi(n,c,s),a=Wi(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=De(n.mergedAttrs,n.attrs),i}function Yi(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function $i(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Qi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Xi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function Ji(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Zi(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new ke(o,gt(i),null);t.blueprint[r]=s,n[r]=s,Yi(t,e,0,r,Ni(t,n,i.hostVars,Ci),i)}function to(t,e,n){const r=Dt(e,t),i=qi(n),o=t[10],s=ao(t,Di(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function eo(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function no(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ro(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function io(t,e){const n=Mt(e,t);if(Ft(n)){const t=n[1];80&n[2]?ji(t,n,t.template,n[8]):n[5]>0&&oo(n)}}function oo(t){for(let n=Ur(t);null!==n;n=Vr(n))for(let t=lt;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ji(t,e,t.template,e[8])}else e[5]>0&&oo(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);Ft(r)&&r[5]>0&&oo(r)}}function so(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Mi(r,n,n[8])}function ao(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function co(t){for(;t;){t[2]|=64;const e=Fr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function uo(t,e,n){const r=e[10];r.begin&&r.begin();try{ji(t,e,t.template,n)}catch(i){throw go(e,i),i}finally{r.end&&r.end()}}function lo(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=jt(n),i=r[1];Li(i,r,i.template,n)}}(t[8])}function ho(t,e,n){ae(0),e(t,n)}const fo=(()=>Promise.resolve(null))();function po(t){return t[7]||(t[7]=[])}function mo(t){return t.cleanup||(t.cleanup=[])}function go(t,e){const n=t[9],r=n?n.get(Ar,null):null;r&&r.handleError(e)}function vo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],u=t.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function bo(t,e,n){const r=Pt(e,t);!function(t,e,n){kt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function yo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const _o=new cn("INJECTOR",-1);class wo{get(t,e=yn){if(e===yn){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Co=new cn("Set Injector scope."),To={},Eo={},So=[];let Oo;function xo(){return void 0===Oo&&(Oo=new wo),Oo}function ko(t,e=null,n=null,r){return new Io(t,n,e||xo(),r)}class Io{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&dn(e,n=>this.processProvider(n,t,e)),dn([t],t=>this.processInjectorType(t,[],i)),this.records.set(_o,Do(void 0,this));const o=this.records.get(Co);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=yn,n=I.Default){this.assertNotDestroyed();const r=En(this);try{if(!(n&I.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof cn)&&C(t);e=n&&this.injectableDefInScope(n)?Do(Ao(t),To):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&I.Self?xo():this.parent).get(t,e=n&I.Optional&&e===yn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[wn]&&i.unshift(e[wn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_n,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{En(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=E(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=E(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{dn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];dn(r,t=>this.processProvider(t,n,r||So))}}this.injectorDefTypes.add(o);const a=vt(o)||(()=>new o);this.records.set(o,Do(a,To));const c=r.providers;if(null!=c&&!s){const e=t;dn(c,t=>this.processProvider(t,e,c))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=No(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Ro(t)?Do(void 0,t.useValue):Do(Po(t),To)}(t);if(No(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Do(void 0,To,!0),e.factory=()=>kn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===To&&(e.value=Eo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Ao(t){const e=C(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof cn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=mn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[S]||t[x]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Po(t,e,n){let r;if(No(t)){const e=p(t);return vt(e)||Ao(e)}if(Ro(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...kn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>On(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||Ao(e);r=()=>new e(...kn(t.deps))}var i;return r}function Do(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ro(t){return null!==t&&"object"==typeof t&&Cn in t}function No(t){return"function"==typeof t}const Mo=function(t,e,n){return function(t,e=null,n=null,r){const i=ko(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let jo=(()=>{class t{static create(t,e){return Array.isArray(t)?Mo(t,e,""):Mo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=yn,t.NULL=new wo,t.\u0275prov=_({token:t,providedIn:"any",factory:()=>On(_o)}),t.__NG_ELEMENT_ID__=-1,t})();function Lo(t,e){we(jt(t)[1],Gt())}function Fo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Uo(t.inputs),e.declaredInputs=Uo(t.declaredInputs),e.outputs=Uo(t.outputs);const n=i.hostBindings;n&&qo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Vo(t,o),s&&Bo(t,s),u(t.inputs,i.inputs),u(t.declaredInputs,i.declaredInputs),u(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Fo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=De(i.hostAttrs,n=De(n,i.hostAttrs))}}(r)}function Uo(t){return t===B?{}:t===z?[]:t}function Vo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Bo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function qo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let zo=null;function Ho(){if(!zo){const t=V.Symbol;if(t&&t.iterator)zo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(zo=n)}}}return zo}class Wo{constructor(t){this.wrapped=t}static wrap(t){return new Wo(t)}static unwrap(t){return Wo.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Wo}}function Ko(t){return!!Go(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ho()in t)}function Go(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Yo(t,e,n){return t[e]=n}function $o(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Qo(t,e,n,r){const i=$o(t,e,n);return $o(t,e+1,r)||i}function Xo(t,e,n,r){const i=Ht();return $o(i,ne(),e)&&(Wt(),function(t,e,n,r,i,o){const s=Dt(t,e);!function(t,e,n,r,i,o,s){if(null==o)kt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?v(o):s(o,r||"",i);kt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(be(),i,t,e,n,r)),Xo}function Jo(t,e,n,r){return $o(t,ne(),n)?e+v(n)+r:Ci}function Zo(t,e,n,r,i,o){const s=Qo(t,ee(),n,i);return re(2),s?e+v(n)+r+v(i)+o:Ci}function ts(t,e,n,r,i,o,s,a){const c=Ht(),u=Wt(),l=t+ut,h=u.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const u=e.consts,l=Ri(e,t,4,s||null,Ut(u,a));Gi(e,n,l,Ut(u,c)),we(e,l);const h=l.tViews=zi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,o,s):u.data[l];$t(h,!1);const d=c[11].createComment("");ei(u,c,d,h),Pr(d,c),ao(c,c[l]=ro(d,c,d,h)),mt(h)&&Vi(u,c,h),null!=s&&Bi(c,h,a)}function es(t){return Nt(qt.lFrame.contextLView,ut+t)}function ns(t,e=I.Default){const n=Ht();return null===n?On(t,e):Ge(Gt(),n,p(t),e)}function rs(t,e,n){const r=Ht();return $o(r,ne(),e)&&Ki(Wt(),be(),r,t,e,r[11],n,!1),rs}function is(t,e,n,r,i){const o=i?"class":"style";vo(t,n,e.inputs[o],o,r)}function os(t,e,n,r){const i=Ht(),o=Wt(),s=ut+t,a=i[11],c=i[s]=zr(a,e,qt.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=Ri(e,t,2,i,Ut(a,o));return Gi(e,n,c,Ut(a,s)),null!==c.attrs&&yo(c,c.attrs,!1),null!==c.mergedAttrs&&yo(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,0,e,n,r):o.data[s];$t(u,!0);const l=u.mergedAttrs;null!==l&&Ie(a,c,l);const h=u.classes;null!==h&&ui(a,c,h);const d=u.styles;null!==d&&ci(a,c,d),64!=(64&u.flags)&&ei(o,i,c,u),0===qt.lFrame.elementDepthCount&&Pr(c,i),qt.lFrame.elementDepthCount++,mt(u)&&(Vi(o,i,u),Ui(o,u,i)),null!==r&&Bi(i,u)}function ss(){let t=Gt();Qt()?Xt():(t=t.parent,$t(t,!1));const e=t;qt.lFrame.elementDepthCount--;const n=Wt();n.firstCreatePass&&(we(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&is(n,e,Ht(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&is(n,e,Ht(),e.stylesWithoutHost,!1)}function as(t,e,n,r){os(t,e,n,r),ss()}function cs(t,e,n){const r=Ht(),i=Wt(),o=t+ut,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Ut(o,r),a=Ri(e,t,8,"ng-container",s);return null!==s&&yo(a,s,!0),Gi(e,n,a,Ut(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,i,r,e,n):i.data[o];$t(s,!0);const a=r[o]=r[11].createComment("");ei(i,r,a,s),Pr(a,r),mt(s)&&(Vi(i,r,s),Ui(i,s,r)),null!=n&&Bi(r,s)}function us(){let t=Gt();const e=Wt();Qt()?Xt():(t=t.parent,$t(t,!1)),e.firstCreatePass&&(we(e,t),ft(t)&&e.queries.elementEnd(t))}function ls(){return Ht()}function hs(t){return!!t&&"function"==typeof t.then}function ds(t){return!!t&&"function"==typeof t.subscribe}const fs=ds;function ps(t,e,n=!1,r){const i=Ht(),o=Wt(),s=Gt();return function(t,e,n,r,i,o,s=!1,a){const c=mt(r),u=t.firstCreatePass&&mo(t),l=po(e);let h=!0;if(3&r.type){const d=Dt(r,e),f=a?a(d):B,p=f.target||d,m=l.length,g=a?t=>a(At(t[r.index])).target:r.index;if(kt(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=gs(r,e,0,o,!1);const t=n.listen(f.name||p,i,o);l.push(o,t),u&&u.push(i,g,m,m+1)}}else o=gs(r,e,0,o,!0),p.addEventListener(i,o,s),l.push(o),u&&u.push(i,g,m,s)}else o=gs(r,e,0,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),u&&u.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),ps}function ms(t,e,n,r){try{return!1!==n(r)}catch(i){return go(t,i),!1}}function gs(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&co(s);let a=ms(e,0,r,o),c=n.__ngNextListenerFn__;for(;c;)a=ms(e,0,c,o)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function vs(t=1){return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function bs(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?bi(t,o,!0):yi(r,o))return i}else n=i}return n}function ys(t){const e=Ht()[16][6];if(!e.projection){const n=e.projection=mn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?bs(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function _s(t,e=0,n){const r=Ht(),i=Wt(),o=Ri(i,ut+t,16,null,n||null);null===o.projection&&(o.projection=e),Xt(),64!=(64&o.flags)&&function(t,e,n){ai(e[11],0,e,n,Yr(t,n,e),Zr(n.parent||e[6],n,e))}(i,r,o)}function ws(t,e,n){return Cs(t,"",e,"",n),ws}function Cs(t,e,n,r,i){const o=Ht(),s=Jo(o,e,n,r);return s!==Ci&&Ki(Wt(),be(),o,t,s,o[11],i,!1),Cs}function Ts(t,e,n,r,i,o,s){const a=Ht(),c=Zo(a,e,n,r,i,o);return c!==Ci&&Ki(Wt(),be(),a,t,c,a[11],s,!1),Ts}function Es(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?Oi(o):ki(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];Ss(t[a],e)&&(c=!0,t[a+1]=r?Ai(n):xi(n)),a=r?Oi(n):ki(n)}c&&(t[n+1]=r?xi(o):Ai(o))}function Ss(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&bn(t,e)>=0}const Os={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xs(t){return t.substring(Os.key,Os.keyEnd)}function ks(t,e){const n=Os.textEnd;return n===e?-1:(e=Os.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Os.key=e,n),Is(t,e,n))}function Is(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function As(t,e,n){return Ns(t,e,n,!1),As}function Ps(t,e){return Ns(t,e,null,!0),Ps}function Ds(t){Ms(gn,Rs,t,!0)}function Rs(t,e){for(let n=function(t){return function(t){Os.key=0,Os.keyEnd=0,Os.value=0,Os.valueEnd=0,Os.textEnd=t.length}(t),ks(t,Is(t,0,Os.textEnd))}(e);n>=0;n=ks(e,n))gn(t,xs(e),!0)}function Ns(t,e,n,r){const i=Ht(),o=Wt(),s=re(2);o.firstUpdatePass&&Ls(o,t,s,r),e!==Ci&&$o(i,s,e)&&Vs(o,o.data[ge()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Wn(t)))),t}(e,n),r,s)}function Ms(t,e,n,r){const i=Wt(),o=re(2);i.firstUpdatePass&&Ls(i,null,o,r);const s=Ht();if(n!==Ci&&$o(s,o,n)){const a=i.data[ge()];if(zs(a,r)&&!js(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),is(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Ci&&(i=q);let c=0,u=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const d=c<i.length?i[c+1]:void 0,f=u<o.length?o[u+1]:void 0;let p,m=null;l===h?(c+=2,u+=2,d!==f&&(m=h,p=f)):null===h||null!==l&&l<h?(c+=2,m=l):(u+=2,m=h,p=f),null!==m&&Vs(t,e,n,r,m,p,s,a),l=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return q;const r=[],i=Wn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function js(t,e){return e>=t.expandoStartIndex}function Ls(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ge()],s=js(t,n);zs(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Us(n=Fs(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Fs(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==ki(r))return t[Oi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Fs(null,t,e,n[1],r),n=Us(n,e.attrs,r),function(t,e,n,r){t[Oi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Us(r,t[o].hostAttrs,n);return Us(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Oi(s),c=ki(s);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||bn(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=Oi(t[a+1]);t[r+1]=Si(e,a),0!==e&&(t[e+1]=Ii(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Si(a,0),0!==a&&(t[a+1]=Ii(t[a+1],r)),a=r;else t[r+1]=Si(c,0),0===a?a=r:t[c+1]=Ii(t[c+1],r),c=r;l&&(t[r+1]=xi(t[r+1])),Es(t,u,r,!0),Es(t,u,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&bn(o,e)>=0&&(n[r+1]=Ai(n[r+1]))}(e,u,t,r,o),s=Si(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Fs(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Us(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Us(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),gn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Vs(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];qs(1==(1&u)?Bs(c,e,n,i,ki(u),s):void 0)||(qs(o)||2==(2&u)&&(o=Bs(c,null,n,i,a,s)),function(t,e,n,r,i){const o=kt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:jr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=jr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Pt(ge(),n),i,o))}function Bs(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,u=null===c;let l=n[i+1];l===Ci&&(l=u?q:void 0);let h=u?vn(l,r):c===r?l:void 0;if(o&&!qs(h)&&(h=vn(e,r)),qs(h)&&(a=h,s))return a;const d=t[i+1];i=s?Oi(d):ki(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=vn(t,r))}return a}function qs(t){return void 0!==t}function zs(t,e){return 0!=(t.flags&(e?16:32))}function Hs(t,e=""){const n=Ht(),r=Wt(),i=t+ut,o=r.firstCreatePass?Ri(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return kt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);ei(r,n,s,o),$t(o,!1)}function Ws(t){return Ks("",t,""),Ws}function Ks(t,e,n){const r=Ht(),i=Jo(r,t,e,n);return i!==Ci&&bo(r,ge(),i),Ks}function Gs(t,e,n,r,i){const o=Ht(),s=Zo(o,t,e,n,r,i);return s!==Ci&&bo(o,ge(),s),Gs}function Ys(t,e,n){Ms(gn,Rs,Jo(Ht(),t,e,n),!0)}function $s(t,e,n){const r=Ht();return $o(r,ne(),e)&&Ki(Wt(),be(),r,t,e,r[11],n,!0),$s}const Qs=void 0;var Xs=["en",[["a","p"],["AM","PM"],Qs],[["AM","PM"],Qs,Qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qs,"{1} 'at' {0}",Qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Js={};function Zs(t,e,n){"string"!=typeof e&&(n=e,e=t[ia.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Js[e]=t,n&&(Js[e][ia.ExtraData]=n)}function ta(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ra(e);if(n)return n;const r=e.split("-")[0];if(n=ra(r),n)return n;if("en"===r)return Xs;throw new Error(`Missing locale data for the locale "${t}".`)}function ea(t){return ta(t)[ia.CurrencyCode]||null}function na(t){return ta(t)[ia.PluralCase]}function ra(t){return t in Js||(Js[t]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[t]),Js[t]}var ia=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const oa="en-US";let sa=oa;function aa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(sa=t.toLowerCase().replace(/_/g,"-"))}function ca(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)ca(t[o],e,n,r,i);else{const o=Wt(),s=Ht();let a=No(t)?t:p(t.provide),c=Po(t);const u=Gt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(No(t)||!t.multi){const r=new ke(c,i,ns),f=ha(a,e,i?l:l+d,h);-1===f?(He(Ve(u,s),o,a),ua(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=ha(a,e,l+d,h),p=ha(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){He(Ve(u,s),o,a);const l=function(t,e,n,r,i){const o=new ke(t,n,ns);return o.multi=[],o.index=e,o.componentProviders=0,la(o,i,r&&!n),o}(i?fa:da,n.length,i,r,c);!i&&g&&(n[p].providerFactory=l),ua(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),s.push(l)}else ua(o,t,f>-1?f:p,la(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function ua(t,e,n,r){const i=No(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function la(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ha(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function da(t,e,n,r){return pa(this.multi,[])}function fa(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Je(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),pa(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],pa(i,o);return o}function pa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ma(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Wt();if(r.firstCreatePass){const i=gt(t);ca(n,r.data,r.blueprint,i,!0),ca(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ga{}class va{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ba=(()=>{class t{}return t.NULL=new va,t})();function ya(...t){}function _a(t,e){return new Ca(Dt(t,e))}const wa=function(){return _a(Gt(),Ht())};let Ca=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=wa,t})();function Ta(t){return t instanceof Ca?t.nativeElement:t}class Ea{}let Sa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Oa(),t})();const Oa=function(){const t=Ht(),e=Mt(Gt().index,t);return function(t){return t[11]}(ht(e)?e:t)};let xa=(()=>{class t{}return t.\u0275prov=_({token:t,providedIn:"root",factory:()=>null}),t})();class ka{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ia=new ka("11.2.14");class Aa{constructor(){}supports(t){return Ko(t)}create(t){return new Da(t)}}const Pa=(t,e)=>e;class Da{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Pa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<ja(n,r,i)?e:n,s=ja(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ko(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ho()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ra(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ma),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ma),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ra{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Na{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ma{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Na,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ja(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class La{constructor(){}supports(t){return t instanceof Map||Go(t)}create(){return new Fa}}class Fa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Go(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ua(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ua{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Va(){return new Ba([new Aa])}let Ba=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Va()),deps:[[t,new Dn,new Pn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=_({token:t,providedIn:"root",factory:Va}),t})();function qa(){return new za([new La])}let za=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||qa()),deps:[[t,new Dn,new Pn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=_({token:t,providedIn:"root",factory:qa}),t})();function Ha(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(At(o)),dt(o))for(let t=lt;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Ha(e[1],e,n,r)}const s=n.type;if(8&s)Ha(t,e,n.child,r);else if(32&s){const t=Lr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=ri(e,n);if(Array.isArray(t))r.push(...t);else{const n=Fr(e[16]);Ha(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Wa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Ha(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Wr(t,n),pn(e,n))}this._attachedToViewContainer=!1}Kr(this._lView[1],this._lView)}onDestroy(t){Hi(this._lView[1],this._lView,null,t)}markForCheck(){co(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){uo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Zt(!0);try{uo(t,e,n)}finally{Zt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,si(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ka extends Wa{constructor(t){super(t),this._view=t}detectChanges(){lo(this._view)}checkNoChanges(){!function(t){Zt(!0);try{lo(t)}finally{Zt(!1)}}(this._view)}get context(){return null}}const Ga=$a;let Ya=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ga,t.__ChangeDetectorRef__=!0,t})();function $a(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=Mt(t.index,e);return new Wa(n,n)}return 47&t.type?new Wa(e[16],e):null}(Gt(),Ht(),t)}const Qa=[new La],Xa=new Ba([new Aa]),Ja=new za(Qa),Za=function(){return rc(Gt(),Ht())};let tc=(()=>{class t{}return t.__NG_ELEMENT_ID__=Za,t})();const ec=tc,nc=class extends ec{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Di(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Mi(e,n,t),new Wa(n)}};function rc(t,e){return 4&t.type?new nc(e,t,_a(t,e)):null}class ic{}class oc{}const sc=function(){return dc(Gt(),Ht())};let ac=(()=>{class t{}return t.__NG_ELEMENT_ID__=sc,t})();const cc=ac,uc=class extends cc{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return _a(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const t=ze(this._hostTNode,this._hostLView);if(Ne(t)){const e=je(t,this._hostLView),n=Me(t);return new en(e[1].data[n+8],e)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=lc(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-lt}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ic,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new uc(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=lt+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-lt?(e[4]=n[i],fn(n,lt+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=ii(i,o),a=n[11],c=Jr(a,o[7]);return null!==c&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,si(t,r,n,1,i,o)}(r,o[6],a,n,c,s),t.attachToViewContainerRef(),fn(hc(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=lc(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Wr(this._lContainer,e);n&&(pn(hc(this._lContainer),e),Kr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Wr(this._lContainer,e);return n&&null!=pn(hc(this._lContainer),e)?new Wa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function lc(t){return t[8]}function hc(t){return t[8]||(t[8]=[])}function dc(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=At(r);else{const n=e[11];i=n.createComment("");const r=Dt(t,e);$r(n,Jr(n,r),i,function(t,e){return kt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ro(r,e,i,t),ao(e,n)}return new uc(n,t,e)}const fc={};class pc extends ba{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new vc(e,this.ngModule)}}function mc(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const gc=new cn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Dr});class vc extends ga{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(wi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return mc(this.componentDef.inputs)}get outputs(){return mc(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,fc,i);return o!==fc||r===fc?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ea,It),s=i.get(xa,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(kt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):zr(o.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?Et:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Dr,clean:fo,playerHandler:null,flags:0},d=zi(0,null,null,1,0,null,null,null,null,null),f=Di(null,d,h,l,null,null,o,a,s,i);let p,m;le(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=Ri(s,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(yo(a,c,!0),null!==t&&(Ie(i,t,c),null!==a.classes&&ui(i,t,a.classes),null!==a.styles&&ci(i,t,a.styles)));const u=r.createRenderer(t,e),l=Di(n,qi(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return s.firstCreatePass&&(He(Ve(a,n),s,e.type),Qi(s,a),Ji(a,n.length,1)),ao(n,l),n[20]=l}(u,this.componentDef,f,o,a);if(u)if(n)Ie(a,u,["ng-version",Ia.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!gi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ie(a,u,t),e&&e.length>0&&ui(a,u,e.join(" "))}if(m=Rt(d,ut),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Zi(t,r,e,Ni(t,e,1,null),n));const i=Je(e,t,r.directiveStart,r);Pr(i,e);const o=Dt(r,e);return o&&Pr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Gt();e.contentQueries(1,s,t.directiveStart)}const a=Gt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ve(a.index),Yi(n[1],a,0,a.directiveStart,a.directiveEnd,e),$i(e,s)),s}(t,this.componentDef,f,h,[Lo]),Mi(d,f,null)}finally{me()}return new bc(this.componentType,p,_a(m,f),f,m)}}class bc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Ka(r),this.componentType=t}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const yc=new Map;class _c extends ic{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new pc(this);const n=ct(t),r=t[Y]||null;r&&aa(r),this._bootstrapComponents=Mr(n.bootstrap),this._r3Injector=ko(t,e,[{provide:ic,useValue:this},{provide:ba,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=jo.THROW_IF_NOT_FOUND,n=I.Default){return t===jo||t===ic||t===_o?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class wc extends oc{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,yc.get(i),n),yc.set(i,n));const o=Mr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new _c(this.moduleType,t)}}function Cc(t,e,n){const r=te()+t,i=Ht();return i[r]===Ci?Yo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Tc(t,e,n,r){return xc(Ht(),te(),t,e,n,r)}function Ec(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return Qo(t,a,i,o)?Yo(t,a+2,s?r.call(s,i,o):r(i,o)):Oc(t,a+2)}(Ht(),te(),t,e,n,r,i)}function Sc(t,e,n,r,i,o){return kc(Ht(),te(),t,e,n,r,i,o)}function Oc(t,e){const n=t[e];return n===Ci?void 0:n}function xc(t,e,n,r,i,o){const s=e+n;return $o(t,s,i)?Yo(t,s+1,o?r.call(o,i):r(i)):Oc(t,s+1)}function kc(t,e,n,r,i,o,s,a){const c=e+n;return function(t,e,n,r,i){const o=Qo(t,e,n,r);return $o(t,e+2,i)||o}(t,c,i,o,s)?Yo(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):Oc(t,c+3)}function Ic(t,e){const n=Wt();let r;const i=t+ut;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=vt(r.type)),s=P(ns);try{const t=Fe(!1),e=o();return Fe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Ht(),i,e),e}finally{P(s)}}function Ac(t,e,n){const r=t+ut,i=Ht(),o=Nt(i,r);return Rc(i,Dc(i,r)?xc(i,te(),e,o.transform,n,o):o.transform(n))}function Pc(t,e,n,r,i){const o=t+ut,s=Ht(),a=Nt(s,o);return Rc(s,Dc(s,o)?kc(s,te(),e,a.transform,n,r,i,a):a.transform(n,r,i))}function Dc(t,e){return t[1].data[e].pure}function Rc(t,e){return Wo.isWrapped(e)&&(e=Wo.unwrap(e),t[ee()]=Ci),e}function Nc(t){return e=>{setTimeout(t,void 0,e)}}const Mc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,c=e||(()=>null),u=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),c=null===(o=e.error)||void 0===o?void 0:o.bind(e),u=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(c=Nc(c),a&&(a=Nc(a)),u&&(u=Nc(u)));const l=super.subscribe({next:a,error:c,complete:u});return t instanceof i.a&&t.add(l),l}};function jc(){return this._results[Ho()]()}class Lc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ho(),n=Lc.prototype;n[e]||(n[e]=jc)}get changes(){return this._changes||(this._changes=new Mc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=hn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Fc{constructor(t){this.queryList=t,this.matches=null}clone(){return new Fc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Uc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Zc(t,e).matches&&this.queries[e].setDirty()}}class Vc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Bc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Bc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class qc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new qc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,zc(e,i)),this.matchTNodeWithReadOption(t,e,Xe(e,t,i,!1,!1))}else n===tc?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Xe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Ca||r===ac||r===tc&&4&e.type)this.addMatch(e.index,-2);else{const n=Xe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function zc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Hc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?_a(t,e):4&t.type?rc(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ca?_a(e,t):n===tc?rc(e,t):n===ac?dc(e,t):void 0}(t,e,r):Je(t,t[1],n,e)}function Wc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Hc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Kc(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Wc(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=lt;t<s.length;t++){const e=s[t];e[17]===e[3]&&Kc(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Kc(n[1],n,i,r)}}}}}return r}function Gc(t){const e=Ht(),n=Wt(),r=se();ae(r+1);const i=Zc(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Kc(n,e,r,[]):Wc(n,e,i,r);t.reset(o,Ta),t.notifyOnChanges()}return!0}return!1}function Yc(t,e,n){const r=Wt();r.firstCreatePass&&(Jc(r,new Vc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Xc(r,Ht(),e)}function $c(t,e,n,r){const i=Wt();if(i.firstCreatePass){const o=Gt();Jc(i,new Vc(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Xc(i,Ht(),n)}function Qc(){return t=Ht(),e=se(),t[19].queries[e].queryList;var t,e}function Xc(t,e,n){const r=new Lc(4==(4&n));Hi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Uc),e[19].queries.push(new Fc(r))}function Jc(t,e,n){null===t.queries&&(t.queries=new Bc),t.queries.track(new qc(e,n))}function Zc(t,e){return t.queries.getByIndex(e)}function tu(t,e){return rc(t,e)}function eu(t=I.Default){const e=$a(!0);if(null!=e||t&I.Optional)return e;y("ChangeDetectorRef")}const nu=new cn("Application Initializer");let ru=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ya,this.reject=ya,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();hs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(On(nu,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const iu=new cn("AppId"),ou={provide:iu,useFactory:function(){return`${su()}${su()}${su()}`},deps:[]};function su(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const au=new cn("Platform Initializer"),cu=new cn("Platform ID"),uu=new cn("appBootstrapListener");let lu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const hu=new cn("LocaleId"),du=new cn("DefaultCurrencyCode");class fu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const pu=function(t){return new wc(t)},mu=pu,gu=function(t){return Promise.resolve(pu(t))},vu=function(t){const e=pu(t),n=Mr(ct(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new vc(n)),t},[]);return new fu(e,n)},bu=vu,yu=function(t){return Promise.resolve(vu(t))};let _u=(()=>{class t{constructor(){this.compileModuleSync=mu,this.compileModuleAsync=gu,this.compileModuleAndAllComponentsSync=bu,this.compileModuleAndAllComponentsAsync=yu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();const wu=(()=>Promise.resolve(0))();function Cu(t){"undefined"==typeof Zone?wu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Tu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mc(!1),this.onMicrotaskEmpty=new Mc(!1),this.onStable=new Mc(!1),this.onError=new Mc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=V.requestAnimationFrame,e=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(V,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ou(t),Su(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ou(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return xu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),ku(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return xu(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),ku(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Ou(t),Su(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Eu,ya,ya);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Eu={};function Su(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ou(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ku(t){t._nesting--,Su(t)}class Iu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mc,this.onMicrotaskEmpty=new Mc,this.onStable=new Mc,this.onError=new Mc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Au=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tu.assertNotInAngularZone(),Cu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Cu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(On(Tu))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})(),Pu=(()=>{class t{constructor(){this._applications=new Map,Mu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Mu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();class Du{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Ru(t){Mu=t}let Nu,Mu=new Du,ju=!0,Lu=!1;function Fu(){return Lu=!0,ju}function Uu(){if(Lu)throw new Error("Cannot enable prod mode after platform setup.");ju=!1}const Vu=new cn("AllowMultipleToken");class Bu{constructor(t,e){this.name=t,this.token=e}}function qu(t,e,n=[]){const r=`Platform: ${e}`,i=new cn(r);return(e=[])=>{let o=zu();if(!o||o.injector.get(Vu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Co,useValue:"platform"});!function(t){if(Nu&&!Nu.destroyed&&!Nu.injector.get(Vu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Nu=t.get(Hu);const e=t.get(au,null);e&&e.forEach(t=>t())}(jo.create({providers:t,name:r}))}return function(t){const e=zu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function zu(){return Nu&&!Nu.destroyed?Nu:null}let Hu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Iu:("zone.js"===t?void 0:t)||new Tu({enableLongStackTrace:Fu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Tu,useValue:n}];return n.run(()=>{const e=jo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Ar,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Gu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return hs(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(ru);return t.runInitializers(),t.donePromise.then(()=>(aa(i.injector.get(hu,oa)||oa),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Wu({},e);return function(t,e,n){const r=new wc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Ku);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(On(jo))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Wu(t,e){return Array.isArray(e)?e.reduce(Wu,t):Object.assign(Object.assign({},t),e)}let Ku=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Tu.assertNotInAngularZone(),Cu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Tu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,u.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ga?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ic),i=n.create(jo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(Au,null),a=s&&i.injector.get(Pu);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Gu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Gu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(uu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(On(Tu),On(jo),On(Ar),On(ba),On(ru))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Gu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Yu{}class $u{}const Qu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Xu=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Qu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Ju(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ju(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(On(_u),On($u,8))},t.\u0275prov=_({token:t,factory:t.\u0275fac}),t})();function Ju(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Zu=function(t){return null},tl=qu(null,"core",[{provide:cu,useValue:"unknown"},{provide:Hu,deps:[jo]},{provide:Pu,deps:[]},{provide:lu,deps:[]}]),el=[{provide:Ku,useClass:Ku,deps:[Tu,jo,Ar,ba,ru]},{provide:gc,deps:[Tu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ru,useClass:ru,deps:[[new Pn,nu]]},{provide:_u,useClass:_u,deps:[]},ou,{provide:Ba,useFactory:function(){return Xa},deps:[]},{provide:za,useFactory:function(){return Ja},deps:[]},{provide:hu,useFactory:function(t){return aa(t=t||"undefined"!=typeof $localize&&$localize.locale||oa),t},deps:[[new An(hu),new Pn,new Dn]]},{provide:du,useValue:"USD"}];let nl=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(On(Ku))},t.\u0275mod=nt({type:t}),t.\u0275inj=w({providers:el}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return s}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return c}),n.d(e,"__metadata",function(){return u}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__createBinding",function(){return d}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return m}),n.d(e,"__spread",function(){return g}),n.d(e,"__spreadArrays",function(){return v}),n.d(e,"__spreadArray",function(){return b}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return _}),n.d(e,"__asyncDelegator",function(){return w}),n.d(e,"__asyncValues",function(){return C}),n.d(e,"__makeTemplateObject",function(){return T}),n.d(e,"__importStar",function(){return S}),n.d(e,"__importDefault",function(){return O}),n.d(e,"__classPrivateFieldGet",function(){return x}),n.d(e,"__classPrivateFieldSet",function(){return k});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function c(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{c(r.next(t))}catch(e){o(e)}}function a(t){try{c(r.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}c((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var d=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function f(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||d(e,t,n)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function m(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(m(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function b(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function _(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function c(t){a("next",t)}function u(t){a("throw",t)}function l(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function C(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function T(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var E=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&d(e,t,n);return E(e,t),e}function O(t){return t&&t.__esModule?t:{default:t}}function x(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function k(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,o=new Promise(function(o,s){n(i=t[e].apply(t,r)).then(o,s)});return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new l(t,i.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function s(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function a(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function c(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function u(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}o(u,"_index",["name","keyPath","multiEntry","unique"]),s(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),c(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),s(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),s(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),c(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,u].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[u,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new f(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new p(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.r(e),n.d(e,"LogLevel",function(){return s}),n.d(e,"Logger",function(){return h}),n.d(e,"setLogLevel",function(){return d}),n.d(e,"setUserLogHandler",function(){return f});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},c=s.INFO,u=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=u[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.r(e),n.d(e,"CONSTANTS",function(){return i}),n.d(e,"Deferred",function(){return f}),n.d(e,"ErrorFactory",function(){return P}),n.d(e,"FirebaseError",function(){return A}),n.d(e,"MAX_VALUE_MILLIS",function(){return st}),n.d(e,"RANDOM_FACTOR",function(){return at}),n.d(e,"Sha1",function(){return Y}),n.d(e,"areCookiesEnabled",function(){return k}),n.d(e,"assert",function(){return o}),n.d(e,"assertionError",function(){return s}),n.d(e,"async",function(){return X}),n.d(e,"base64",function(){return c}),n.d(e,"base64Decode",function(){return l}),n.d(e,"base64Encode",function(){return u}),n.d(e,"calculateBackoffMillis",function(){return ct}),n.d(e,"contains",function(){return B}),n.d(e,"createMockUserToken",function(){return p}),n.d(e,"createSubscribe",function(){return $}),n.d(e,"decode",function(){return j}),n.d(e,"deepCopy",function(){return h}),n.d(e,"deepExtend",function(){return d}),n.d(e,"errorPrefix",function(){return tt}),n.d(e,"extractQuerystring",function(){return G}),n.d(e,"getGlobal",function(){return I}),n.d(e,"getModularInstance",function(){return lt}),n.d(e,"getUA",function(){return m}),n.d(e,"isAdmin",function(){return V}),n.d(e,"isBrowser",function(){return b}),n.d(e,"isBrowserExtension",function(){return y}),n.d(e,"isElectron",function(){return w}),n.d(e,"isEmpty",function(){return z}),n.d(e,"isIE",function(){return C}),n.d(e,"isIndexedDBAvailable",function(){return O}),n.d(e,"isMobileCordova",function(){return g}),n.d(e,"isNode",function(){return v}),n.d(e,"isNodeSdk",function(){return E}),n.d(e,"isReactNative",function(){return _}),n.d(e,"isSafari",function(){return S}),n.d(e,"isUWP",function(){return T}),n.d(e,"isValidFormat",function(){return U}),n.d(e,"isValidTimestamp",function(){return L}),n.d(e,"issuedAtTime",function(){return F}),n.d(e,"jsonEval",function(){return N}),n.d(e,"map",function(){return H}),n.d(e,"ordinal",function(){return ut}),n.d(e,"querystring",function(){return W}),n.d(e,"querystringDecode",function(){return K}),n.d(e,"safeGet",function(){return q}),n.d(e,"stringLength",function(){return ot}),n.d(e,"stringToByteArray",function(){return it}),n.d(e,"stringify",function(){return M}),n.d(e,"validateArgCount",function(){return Z}),n.d(e,"validateCallback",function(){return nt}),n.d(e,"validateContextObject",function(){return rt}),n.d(e,"validateIndexedDBOpenable",function(){return x}),n.d(e,"validateNamespace",function(){return et});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=(15&a)<<2|u>>6,h=63&u;c||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==c)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=a(t);return c.encodeByteArray(e,!0)},l=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=d(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=Object(r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[c.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),c.encodeString(JSON.stringify(s),!1),""].join(".")}function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function v(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function b(){return"object"==typeof self&&self.self===self}function y(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function w(){return m().indexOf("Electron/")>=0}function C(){var t=m();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function T(){return m().indexOf("MSAppHost/")>=0}function E(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function S(){return!v()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O(){return"indexedDB"in self&&null!=indexedDB}function x(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function k(){return!(!navigator||!navigator.cookieEnabled)}function I(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}var A=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,P.prototype.create),o}return Object(r.__extends)(e,t),e}(Error),P=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?D(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",c=new A(i,a,r);return c},t}();function D(t,e){return t.replace(R,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var R=/\{\$([^}]+)}/g;function N(t){return JSON.parse(t)}function M(t){return JSON.stringify(t)}var j=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=N(l(o[0])||""),n=N(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},L=function(t){var e=j(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},F=function(t){var e=j(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},U=function(t){var e=j(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},V=function(t){var e=j(t).claims;return"object"==typeof e&&!0===e.admin};function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function q(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function z(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function H(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function W(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}function K(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("="),r=n[1];e[decodeURIComponent(n[0])]=decodeURIComponent(r)}}),e}function G(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}var Y=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],c=this.chain_[2],u=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(c^u),o=1518500249):(i=a^c^u,o=1859775393):r<60?(i=a&c|u&(a|c),o=2400959708):(i=a^c^u,o=3395469782);var h=(s<<5|s>>>27)+i+l+o+n[r]&4294967295;l=u,u=c,c=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function $(t,e){var n=new Q(t,e);return n.subscribe.bind(n)}var Q=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=J),void 0===r.error&&(r.error=J),void 0===r.complete&&(r.complete=J);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function X(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function J(){}var Z=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function tt(t,e){return t+" failed: "+e+" argument "}function et(t,e,n){if((!n||e)&&"string"!=typeof e)throw new Error(tt(t,"namespace")+"must be a valid firebase namespace.")}function nt(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(tt(t,e)+"must be a valid function.")}function rt(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(tt(t,e)+"must be a valid context object.")}var it=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},ot=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},st=144e5,at=.5;function ct(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(at*r*(Math.random()-.5)*2);return Math.min(st,r+i)}function ut(t){return Number.isFinite(t)?t+function(t){var e=(t=Math.abs(t))%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(t):""+t}function lt(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof s?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return O}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return v}),n.d(e,"f",function(){return E}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return C});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(m.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new c.r("angularfire2.app.options"),y=new c.r("angularfire2.app.nameOrConfig"),_=new c.Q("6.1.5");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&T("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const C=()=>{T("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},T=(t,...e)=>{Object(c.X)()&&"undefined"!=typeof console&&console[t](...e)};function E(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&T("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:w,deps:[b,c.A,[new c.B,y]]};let O=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:y,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(c.C))},t.\u0275mod=c.Nb({type:t}),t.\u0275inj=c.Mb({providers:[S]}),t})()}).call(this,n("3UD+")(t))},t6oF:function(t,e,n){"use strict";var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Qa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),s=r.next();!s.done;s=r.next())i(s.value).Qa(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,i(r.value).Qa(o(s.length-1),e),r=n.next()}while(!r.done)})},e});var s=s||{},a=this||self,c=/^[\w+/_-]+[=]{0,2}$/,u=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function f(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==d(t)}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++b)}var v="closure_uid_"+(1e9*Math.random()>>>0),b=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:_).apply(null,arguments)}function C(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var T=Date.now;function E(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function S(t){return t}function O(t,e,n){this.code=I+t,this.message=e||A[t]||"",this.a=n||null}function x(t){var e=t&&t.code;return e?new O(e.substring(I.length),t.message,t.serverResponse):null}E(O,Error),O.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},O.prototype.toJSON=function(){return this.w()};var k,I="auth/",A={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(t){for(var e in P)if(P[e].id===t)return{firebaseEndpoint:(t=P[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function N(t){if(Error.captureStackTrace)Error.captureStackTrace(this,N);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function M(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");N.call(this,n+t[r])}function j(t,e){throw new M("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function U(){this.b=this.a=null}k=D("__EID__")?"__EID__":void 0,E(N,Error),N.prototype.name="CustomError",E(M,N),M.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new L(function(){return new q},function(t){t.reset()});function B(){var t=be,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}U.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Y(t,e){return 0<=z(t,e)}function $(t,e){var n;return(n=0<=(e=z(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function X(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Z,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,st=/\x00/g,at=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ut(t,e){return t<e?-1:t>e?1:0}t:{var lt=a.navigator;if(lt){var ht=lt.userAgent;if(ht){Z=ht;break t}}Z=""}function dt(t){return ct(Z,t)}function ft(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function mt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(m(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;j("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function yt(t,e){this.a=t===Tt&&e||"",this.b=Ct}function _t(t){return t instanceof yt&&t.constructor===yt&&t.b===Ct?t.a:(j("expected object of type Const, got '"+t+"'"),"type_error:Const")}yt.prototype.sa=!0,yt.prototype.ra=function(){return this.a},yt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,Ct={},Tt={};function Et(){if(void 0===wt){var t=null,e=a.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:S,createScript:S,createScriptURL:S})}catch(n){a.console&&a.console.error(n.message)}wt=t}else wt=t}return wt}function St(t,e){this.a=e===At?t:""}function Ot(t){return t instanceof St&&t.constructor===St?t.a:(j("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function xt(t,e){var n=_t(t);if(!It.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Et();return new St(t=e?e.createScriptURL(t):t,At)}(t=n.replace(kt,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof yt?_t(t):encodeURIComponent(String(t))}))}St.prototype.sa=!0,St.prototype.ra=function(){return this.a.toString()},St.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var kt=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,At={};function Pt(t,e){this.a=e===Ft?t:""}function Dt(t){return t instanceof Pt&&t.constructor===Pt?t.a:(j("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Pt.prototype.sa=!0,Pt.prototype.ra=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Nt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function jt(t){if(t instanceof Pt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t))t=new Pt(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Nt);t=e&&Rt.test(e[1])?new Pt(t,Ft):null}return t}function Lt(t){return t instanceof Pt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new Pt(t,Ft))}var Ft={},Ut=new Pt("about:invalid#zClosurez",Ft);function Vt(t,e,n){this.a=n===Bt?t:""}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function qt(t,e,n,r){return t=t instanceof Pt?t:Lt(t),e=e||a,n=n instanceof yt?_t(n):n||"",e.open(Dt(t),n,r,void 0)}function zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return at.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}Wt[" "]=h;var Kt,Gt,Yt=dt("Opera"),$t=dt("Trident")||dt("MSIE"),Qt=dt("Edge"),Xt=Qt||$t,Jt=dt("Gecko")&&!(ct(Z.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ct(Z.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=a.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Gt=Z,Jt?/rv:([^\);]+)(\)|;)/.exec(Gt):Qt?/Edge\/([\d\.]+)/.exec(Gt):$t?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):Zt?/WebKit\/(\S+)/.exec(Gt):Yt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(ne&&(ee=ne?ne[1]:""),$t){var re=te();if(null!=re&&re>parseFloat(ee)){Kt=String(re);break t}}Kt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Kt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ut(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ut(0==s[2].length,0==a[2].length)||ut(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var se=a.document&&$t&&(te()||parseInt(Kt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var ae=!$t||9<=Number(se);function ce(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ue(t,e){ft(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:de.hasOwnProperty(n)?t.setAttribute(de[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,de={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function fe(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!f(o)||m(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(m(o)){var s="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){s="function"==typeof o.item;break t}}s=!1}H(s?J(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function me(t){a.setTimeout(function(){throw t},0)}function ge(t,e){he||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);he=function(){t.then(ye)}}else he=function(){var t=ye;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!dt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(le||(le=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),le(t)):a.setImmediate(t)}}(),ve||(he(),ve=!0),be.add(t,e)}var ve=!1,be=new U;function ye(){for(var t;t=B();){try{t.a.call(t.b)}catch(e){me(e)}F(V,t)}ve=!1}function _e(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){Ne(n,Ce,t)},function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,Te,t)})}catch(r){Ne(this,Te,r)}}var we=0,Ce=2,Te=3;function Ee(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ee.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new L(function(){return new Ee},function(t){t.reset()});function Oe(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function xe(t){if(t instanceof _e)return t;var e=new _e(h);return Ne(e,Ce,t),e}function ke(t){return new _e(function(e,n){n(t)})}function Ie(t,e,n){Me(t,e,n,null)||ge(C(e,t))}function Ae(t){return new _e(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ie(t[o],C(i,o,!0),C(i,o,!1));else e(r)})}function Pe(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,s=n.b;s&&(s.c||(r++,s.a==t&&(i=s),!(i&&1<r)));s=s.next)i||(o=s);i&&(n.a==we&&1==r?Pe(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Le(n),Fe(n,i,Te,e)))}t.c=null}else Ne(t,Te,e)}function De(t,e){t.b||t.a!=Ce&&t.a!=Te||je(t),t.f?t.f.next=e:t.b=e,t.f=e}function Re(t,e,n,r){var i=Oe(null,null,null);return i.a=new _e(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(s){o(s)}}:o}),i.a.c=t,De(t,i),i.a}function Ne(t,e,n){t.a==we&&(t===n&&(e=Te,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,je(t),e!=Te||n instanceof Be||function(t,e){t.g=!0,ge(function(){t.g&&Ve.call(null,e)})}(t,n)))}function Me(t,e,n,r){if(t instanceof _e)return De(t,Oe(e||h,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(m(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function je(t){t.h||(t.h=!0,ge(t.gc,t))}function Le(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Te&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ue(e,n,r);else try{e.c?e.g.call(e.f):Ue(e,n,r)}catch(i){Ve.call(null,i)}F(Se,e)}function Ue(t,e,n){e==Ce?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Re(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=Oe(t,t,e)).c=!0,De(this,t),this},t.o=function(t,e){return Re(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Be(t);ge(function(){Pe(this,e)},this)}},t.$c=function(t){this.a=we,Ne(this,Ce,t)},t.ad=function(t){this.a=we,Ne(this,Te,t)},t.gc=function(){for(var t;t=Le(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ve=me;function Be(t){N.call(this,t)}function qe(){0!=ze&&(He[g(this)]=this),this.xa=this.xa,this.pa=this.pa}E(Be,N),Be.prototype.name="cancel";var ze=0,He={};function We(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=ze)){var e=g(t);if(0!=ze&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}qe.prototype.xa=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ke=Object.freeze||function(t){return t},Ge=!$t||9<=Number(se),Ye=$t&&!oe("9"),$e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",h,e),a.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Xe(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Wt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},E(Xe,Qe);var Je=Ke({2:"touch",3:"pen",4:"mouse"});Xe.prototype.preventDefault=function(){Xe.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ye)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Xe.prototype.g=function(){return this.a};var Ze="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++tn,this.va=this.Pa=!1}function nn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function sn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=sn(t,e,r,i);return-1<s?(e=t[s],n||(e.Pa=!1)):((e=new en(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var an="closure_lm_"+(1e6*Math.random()|0),cn={};function un(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)un(t,e[o],n,r,i);else n=_n(n),t&&t[Ze]?Cn(t,e,n,m(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=m(i)?!!i.capture:!!i,a=bn(t);if(a||(t[an]=a=new rn(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=vn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$e||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=_n(n),t&&t[Ze]?Tn(t,e,n,m(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=_n(n),t&&t[Ze]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=sn(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=bn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=sn(e,n,r,i)),(n=-1<t?e[t]:null)&&fn(n))}function fn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[Ze])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bn(e))?(on(n,t),0==n.b&&(n.src=null,e[an]=null)):nn(t)}}}function pn(t){return t in cn?cn[t]:cn[t]="on"+t}function mn(t,e,n,r){var i=!0;if((t=bn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&fn(t),n.call(r,e)}function vn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Xe(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=mn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=mn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Xe(e,this))}function bn(t){return(t=t[an])instanceof rn?t:null}var yn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(t){return p(t)?t:(t[yn]||(t[yn]=function(e){return t.handleEvent(e)}),t[yn])}function wn(){qe.call(this),this.v=new rn(this),this.ac=this,this.gb=null}function Cn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Tn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function En(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.va&&s.capture==n){var a=s.listener,c=s.Va||s.src;s.Pa&&on(t.v,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function Sn(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function On(t){var e=null;return new _e(function(n,r){-1==(e=Sn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function xn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function kn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(f(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function In(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof In)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function An(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}E(wn,qe),wn.prototype[Ze]=!0,wn.prototype.addEventListener=function(t,e,n,r){un(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){dn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;vt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=En(s,r,!0,t)&&i}if(i=En(s=t.b=n,r,!0,t)&&i,i=En(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=En(s=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=In.prototype).W=function(){An(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return An(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Pn(this.b,t)?this.b[t]:e},t.set=function(t,e){Pn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Dn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Rn?(this.i=void 0!==e?e:t.i,Nn(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,jn(this,er(t.b)),this.h=t.h):t&&(n=String(t).match(Dn))?(this.i=!!e,Nn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Mn(this,n[4]),this.f=Bn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new $n(null,this.i))}function Nn(t,e,n){t.c=n?Bn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function jn(t,e,n){e instanceof $n?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=qn(e,Gn)),t.b=new $n(e,t.i))}function Ln(t,e,n){t.b.set(e,n)}function Fn(t,e){return t.b.get(e)}function Un(t){return t instanceof Rn?new Rn(t):new Rn(t,void 0)}function Vn(t,e,n,r){var i=new Rn(null,void 0);return t&&Nn(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,zn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Rn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(qn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(qn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?Kn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",qn(n,Yn)),t.join("")},Rn.prototype.resolve=function(t){var e=new Rn(this),n=!!t.c;n?Nn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?jn(e,er(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Hn=/[#\/\?@]/g,Wn=/[#\?:]/g,Kn=/[#\?]/g,Gn=/[#\?@]/g,Yn=/#/g;function $n(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new In,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Xn(t){var e=kn(t);if(void 0===e)throw Error("Keys are undefined");var n=new $n(null,void 0);t=xn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Jn(t,e){Qn(t),e=nr(t,e),Pn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&An(t)))}function Zn(t,e){return Qn(t),e=nr(t,e),Pn(t.a.b,e)}function tr(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),J(n)),t.b+=n.length)}function er(t){var e=new $n;return e.c=t.c,t.a&&(e.a=new In(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return or(new ir,t,e),e.join("")}function ir(){}function or(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),or(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),cr(r,n),n.push(":"),or(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":cr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=$n.prototype).add=function(t,e){Qn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Qn(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Qn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Qn(this);var e=[];if("string"==typeof t)Zn(this,t)&&(e=X(e,this.a.get(nr(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=X(e,t[n])}return e},t.set=function(t,e){return Qn(this),this.c=null,Zn(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var sr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ar=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function cr(t,e){e.push('"',t.replace(ar,function(t){var e=sr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),sr[t]=e),e}),'"')}function ur(){var t=Ir();return $t&&!!se&&11==se||/Edge\/\d+/.test(t)}function lr(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||a.window;var n="about:blank";t&&(n=Dt(jt(t)||Ut)),e.location.href=n}function dr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<dr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function fr(t){return!!((t=(t||Ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||a.window;try{t.close()}catch(e){}}function mr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Or(Ir())==Er&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Pt?n:jt(void 0!==n.href?n.href:String(n))||Ut,n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(s=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof Pt?e:Lt(e),s.href=Dt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=qt("",r,n,s),t=Dt(e),s&&(Xt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Vt(t=(r=Et())?r.createHTML(t):t,null,Bt),r=s.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(j("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(s=qt(e,r,n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vr=/^[^@]+@[^@]+$/;function br(){var t=null;return new _e(function(e){"complete"==a.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw dn(window,"load",t),e})}function yr(t){return t=t||Ir(),!("file:"!==Nr()&&"ionic:"!==Nr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function Cr(){return r.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.default.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Tr(){var t=Cr();return"ReactNative"===t||"Node"===t}var Er="Firefox",Sr="Chrome";function Or(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Er:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Sr:"Safari"}var xr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function kr(t,e){e=e||[];var n,r=[],i={};for(n in xr)i[xr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Cr())?r=Or(i=Ir()):"Worker"===r&&(r=Or(i=Ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ir(){return a.navigator&&a.navigator.userAgent||""}function Ar(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Pr(){try{var t=a.localStorage,e=Ur();if(t)return t.setItem(e,"1"),t.removeItem(e),!ur()||!!a.indexedDB}catch(n){return wr()&&!!a.indexedDB}return!1}function Dr(){return(Rr()||"chrome-extension:"===Nr()||yr())&&!Tr()&&Pr()&&!wr()}function Rr(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return a.location&&a.location.protocol||null}function Mr(t){return!fr(t=t||Ir())&&Or(t)!=Er}function jr(t){return void 0===t?null:rr(t)}function Lr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function Ur(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Or(t=t||Ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Br(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function qr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ir(),e=Cr(),this.b=fr(t)||"ReactNative"===e}function zr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Hr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Wr(){return!(!Ar("fireauth.oauthhelper",a)&&!Ar("fireauth.iframe",a))}qr.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Rr()&&"chrome-extension:"!==Nr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Kr,Gr={};function Yr(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var $r={};Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty($r,"abcd",{configurable:!0,enumerable:!0,value:2}),Kr=2==$r.abcd}catch(Gt){Kr=!1}function Qr(t,e,n){Kr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function Jr(t){var e={};return Xr(e,t),e}function Zr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,Zr(t[n]));return e}function ti(t){var e=t&&(t[oi]?"phone":null);if(!(e&&t&&t[ii]))throw new O("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[ii]),Qr(this,"displayName",t[ni]||null);var n=null;t[ri]&&(n=new Date(t[ri]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function ei(t){try{var e=new si(t)}catch(n){e=null}return e}ti.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ni="displayName",ri="enrolledAt",ii="mfaEnrollmentId",oi="phoneInfo";function si(t){ti.call(this,t),Qr(this,"phoneNumber",t[oi])}function ai(t){var e={},n=t[hi],r=t[fi],i=t[pi];if(t=ei(t[di]),!i||i!=ui&&i!=li&&!n||i==li&&!r||i==ci&&!t)throw Error("Invalid checkActionCode response!");i==li?(e[gi]=n||null,e[bi]=n||null,e[mi]=r):(e[gi]=r||null,e[bi]=r||null,e[mi]=n||null),e[vi]=t||null,Qr(this,_i,i),Qr(this,yi,Zr(e))}E(si,ti),si.prototype.w=function(){var t=si.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ci="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",li="VERIFY_AND_CHANGE_EMAIL",hi="email",di="mfaInfo",fi="newEmail",pi="requestType",mi="email",gi="fromEmail",vi="multiFactorInfo",bi="previousEmail",yi="data",_i="operation";function wi(t){var e=Fn(t=Un(t),Ci)||null,n=Fn(t,Ti)||null,r=Fn(t,Oi)||null;if(r=r&&ki[r]||null,!e||!n||!r)throw new O("argument-error",Ci+", "+Ti+"and "+Oi+" are required in a valid action code URL.");Xr(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,Ei)||null,languageCode:Fn(t,Si)||null,tenantId:Fn(t,xi)||null})}var Ci="apiKey",Ti="oobCode",Ei="continueUrl",Si="languageCode",Oi="mode",xi="tenantId",ki={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ci,signIn:ui,verifyAndChangeEmail:li,verifyEmail:"VERIFY_EMAIL"};function Ii(t){try{return new wi(t)}catch(e){return null}}function Ai(t){var e=t[Mi];if(void 0===e)throw new O("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new O("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Pi];if(n&&"object"==typeof n){e=n[Fi];var r=n[ji];if(n=n[Li],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new O("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new O("argument-error",Li+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new O("argument-error",Fi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new O("missing-android-pkg-name")}}else if(void 0!==n)throw new O("argument-error",Pi+" property must be a non null object when specified.");if(this.f=null,(e=t[Ni])&&"object"==typeof e){if("string"==typeof(e=e[Ui])&&e.length)this.f=e;else if(void 0!==e)throw new O("argument-error",Ui+" property must be a non empty string when specified.")}else if(void 0!==e)throw new O("argument-error",Ni+" property must be a non null object when specified.");if(void 0!==(e=t[Ri])&&"boolean"!=typeof e)throw new O("argument-error",Ri+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Di])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new O("argument-error",Di+" property must be a non empty string when specified.");this.i=t||null}var Pi="android",Di="dynamicLinkDomain",Ri="handleCodeInApp",Ni="iOS",Mi="url",ji="installApp",Li="minimumVersion",Fi="packageName",Ui="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Bi=null;function qi(t){var e=Hi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function zi(t){try{return new qi(t)}catch(e){return null}}function Hi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Bi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Bi){Bi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Bi[o]&&(Bi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var s=r[e++],a=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(a>>10)),t[n++]=String.fromCharCode(56320+(1023&a))}else o=r[e++],s=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}return JSON.parse(t.join(""))}catch(c){}return null}qi.prototype.T=function(){return this.f},qi.prototype.l=function(){return this.c},qi.prototype.toString=function(){return this.h};var Wi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ki=["client_id","response_type","scope","redirect_uri","state"],Gi={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Ki},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Ki},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Ki},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Wi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Yi(t){for(var e in Gi)if(Gi[e].fa==t)return Gi[e];return null}function $i(t){var e={};e["facebook.com"]=to,e["google.com"]=no,e["github.com"]=eo,e["twitter.com"]=ro;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Zi(t);if(void 0!==t[Qi])return new Ji(t)}catch(r){}return null}var Qi="idToken",Xi="providerId";function Ji(t){var e=t[Xi];if(!e&&t[Qi]){var n=zi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function Zi(t){Ji.call(this,t),Qr(this,"profile",Zr((t=Fr(t.rawUserInfo||"{}"))||{}))}function to(t){if(Zi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Zi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function no(t){if(Zi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ro(t){if(Zi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function io(t){var e=Un(t),n=Fn(e,"link"),r=Fn(Un(n),"link");return e=Fn(e,"deep_link_id"),Fn(Un(e),"link")||e||r||n||t}function oo(t,e){if(!t&&!e)throw new O("internal-error","Internal assert: no raw session string available");if(t&&e)throw new O("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?so:ao}E(Zi,Ji),E(to,Zi),E(eo,Zi),E(no,Zi),E(ro,Zi);var so="enroll",ao="signin";function co(){}function uo(t,e){return t.then(function(t){if(t[Qs]){var n=zi(t[Qs]);if(!n||e!=n.i)throw new O("user-mismatch");return t}throw new O("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==I+"user-not-found"?new O("user-mismatch"):t})}function lo(t,e){if(!e)throw new O("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function fo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new lo(t.providerId,t.pendingToken)}catch(e){}return null}function po(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new O("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function mo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Xn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function go(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new po(t.providerId,e,t.signInMethod)}catch(n){}}return null}function vo(t,e){this.Qc=e||[],Xr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Yi(t)||{}).Ja||null,this.ob=null}function bo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new O("argument-error",'SAML provider IDs must be prefixed with "saml."');vo.call(this,t,[])}function yo(t){vo.call(this,t,Ki),this.a=[]}function _o(){yo.call(this,"facebook.com")}function wo(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new _o).credential({accessToken:e})}function Co(){yo.call(this,"github.com")}function To(t){if(!t)throw new O("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return m(t)&&(e=t.accessToken),(new Co).credential({accessToken:e})}function Eo(){yo.call(this,"google.com"),this.Ca("profile")}function So(t,e){var n=t;return m(t)&&(n=t.idToken,e=t.accessToken),(new Eo).credential({idToken:n,accessToken:e})}function Oo(){vo.call(this,"twitter.com",Wi)}function xo(t,e){var n=t;if(m(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new O("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new po("twitter.com",n,"twitter.com")}function ko(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Ao.EMAIL_LINK_SIGN_IN_METHOD?Ao.EMAIL_LINK_SIGN_IN_METHOD:Ao.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Io(t){return t&&t.email&&t.password?new ko(t.email,t.password,t.signInMethod):null}function Ao(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Po(t,e){if(!(e=Do(e)))throw new O("argument-error","Invalid email link!");return new ko(t,e.code,Ao.EMAIL_LINK_SIGN_IN_METHOD)}function Do(t){return(t=Ii(t=io(t)))&&t.operation===ui?t:null}function Ro(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new O("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function No(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Ro(e)}return null}function Mo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function jo(t){try{this.a=t||r.default.auth()}catch(e){throw new O("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Lo(t,e){if(!t)throw new O("missing-verification-id");if(!e)throw new O("missing-verification-code");return new Ro({eb:t,cb:e})}function Fo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return So(o,n);case"facebook.com":return wo(n);case"github.com":return To(n);case"twitter.com":return xo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new lo(e,s):new po(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new yo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function Uo(t){if(!t.isOAuthProvider)throw new O("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new O("invalid-auth-event");if(this.g&&this.a)throw new O("invalid-auth-event");if(this.g&&!this.f)throw new O("invalid-auth-event")}function Bo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&x(t.error),t.postBody,t.tenantId):null}function qo(){this.b=null,this.a=[]}oo.prototype.Ha=function(){return xe(this.a?this.a:this.b)},oo.prototype.w=function(){return this.type==so?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},co.prototype.ka=function(){},co.prototype.b=function(){},co.prototype.c=function(){},co.prototype.w=function(){},lo.prototype.ka=function(t){return va(t,ho(this))},lo.prototype.b=function(t,e){var n=ho(this);return n.idToken=e,ba(t,n)},lo.prototype.c=function(t,e){return uo(ya(t,ho(this)),e)},lo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},po.prototype.ka=function(t){return va(t,mo(this))},po.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,ba(t,n)},po.prototype.c=function(t,e){return uo(ya(t,mo(this)),e)},po.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},vo.prototype.Ka=function(t){return this.Ib=mt(t),this},E(bo,vo),E(yo,vo),yo.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},yo.prototype.Qb=function(){return J(this.a)},yo.prototype.credential=function(t,e){var n;if(!(n=m(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new O("argument-error","credential failed: must provide the ID token and/or the access token.");return new po(this.providerId,n,this.providerId)},E(_o,yo),Qr(_o,"PROVIDER_ID","facebook.com"),Qr(_o,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(Co,yo),Qr(Co,"PROVIDER_ID","github.com"),Qr(Co,"GITHUB_SIGN_IN_METHOD","github.com"),E(Eo,yo),Qr(Eo,"PROVIDER_ID","google.com"),Qr(Eo,"GOOGLE_SIGN_IN_METHOD","google.com"),E(Oo,vo),Qr(Oo,"PROVIDER_ID","twitter.com"),Qr(Oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),ko.prototype.ka=function(t){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?tc(t,xa,{email:this.a,oobCode:this.f}):tc(t,$a,{email:this.a,password:this.f})},ko.prototype.b=function(t,e){return this.signInMethod==Ao.EMAIL_LINK_SIGN_IN_METHOD?tc(t,ka,{idToken:e,email:this.a,oobCode:this.f}):tc(t,Ba,{idToken:e,email:this.a,password:this.f})},ko.prototype.c=function(t,e){return uo(this.ka(t),e)},ko.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(Ao,{PROVIDER_ID:"password"}),Xr(Ao,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(Ao,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(t){return t.fb(Mo(this))},Ro.prototype.b=function(t,e){var n=Mo(this);return n.idToken=e,tc(t,Xa,n)},Ro.prototype.c=function(t,e){var n=Mo(this);return n.operation="REAUTH",uo(t=tc(t,Ja,n),e)},Ro.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},jo.prototype.fb=function(t,e){var n=this.a.a;return xe(e.verify()).then(function(r){if("string"!=typeof r)throw new O("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=m(t)?t.session:null,o=m(t)?t.phoneNumber:t;return(i&&i.type==so?i.Ha().then(function(t){return function(t,e){return tc(t,za,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==ao?i.Ha().then(function(e){return function(t,e){return tc(t,Ha,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return tc(t,Ua,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new O("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Xr(jo,{PROVIDER_ID:"phone"}),Xr(jo,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var zo,Ho=null;function Wo(t){var e="unauthorized-domain",n=void 0,r=Un(t);t=r.a,"chrome-extension"==(r=r.c)?n=zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",O.call(this,e,n)}function Ko(t,e,n){O.call(this,t,n),(t=e||{}).Jb&&Qr(this,"email",t.Jb),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.Zb&&Qr(this,"tenantId",t.Zb)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(I)&&(e=e.substring(I.length));var n={credential:Fo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new O(e,t.message||void 0);return new Ko(e,n,t.message)}return null}function Yo(){}function $o(){}function Qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Xo(){}function Jo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Zo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ts(t,e,n){this.reset(t,e,n,void 0,void 0)}function es(t){this.f=t,this.b=this.c=this.a=null}function ns(t,e){this.name=t,this.value=e}E(Wo,O),E(Ko,O),Ko.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&vt(t,e),t},Ko.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,E($o,Yo),$o.prototype.a=function(){var t=Qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},$o.prototype.b=function(){var t={};return Qo(this)&&(t[0]=!0,t[1]=!0),t},zo=new $o,E(Xo,Yo),Xo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Jo;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(t=Jo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Zo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Zo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Zo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ts.prototype.a=null,ts.prototype.reset=function(t,e,n,r,i){r||T(),delete this.a},ns.prototype.toString=function(){return this.name};var rs=new ns("SEVERE",1e3),is=new ns("WARNING",900),os=new ns("CONFIG",700),ss=new ns("FINE",500);function as(t){return t.c?t.c:t.a?as(t.a):(j("Root logger has no level set."),null)}es.prototype.log=function(t,e,n){if(t.value>=as(this).value)for(p(e)&&(e=e()),t=new ts(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var cs={},us=null;function ls(t){var e;if(us||(us=new es(""),cs[""]=us,us.c=os),!(e=cs[t])){e=new es(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ls(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,cs[t]=e}return e}function hs(t,e){t&&t.log(ss,e,void 0)}function ds(t){this.f=t}function fs(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=ps,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ls("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(ds,Yo),ds.prototype.a=function(){return new fs(this.f)},ds.prototype.b=function(t){return function(){return t}}({}),E(fs,wn);var ps=0;function ms(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function gs(t){t.readyState=4,t.g=null,t.c=null,t.m=null,vs(t)}function vs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function bs(t){wn.call(this),this.headers=new In,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ys,this.u=this.S=!1}(t=fs.prototype).open=function(t,e){if(this.readyState!=ps)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,vs(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,gs(this)),this.readyState=ps},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,vs(this)),this.a&&(this.readyState=3,vs(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ms(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?gs(this):vs(this),3==this.readyState&&ms(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,gs(this))},t.sc=function(t){this.a&&(this.response=t,gs(this))},t.Ua=function(t){var e=this.i;e&&e.log(is,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&gs(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(is,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(is,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fs.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),E(bs,wn);var ys="";bs.prototype.b=ls("goog.net.XhrIo");var _s=/^https?$/i,ws=["POST","PUT"];function Cs(t){return"content-type"==t.toLowerCase()}function Ts(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Es(t),Os(t)}function Es(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Ss(t){if(t.c&&void 0!==s)if(t.C[1]&&4==ks(t)&&2==Is(t))hs(t.b,As(t,"Local request error detected and ignored"));else if(t.i&&4==ks(t))Sn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==ks(t)){hs(t.b,As(t,"Request complete")),t.c=!1;try{var e,n=Is(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Dn)[1]||null;if(!o&&a.self&&a.self.location){var c=a.self.location.protocol;o=c.substr(0,c.length-1)}i=!_s.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<ks(t)?t.a.statusText:""}catch(l){hs(t.b,"Can not get status: "+l.message),u=""}t.h=u+" ["+Is(t)+"]",Es(t)}}finally{Os(t)}}}function Os(t,e){if(t.a){xs(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(rs,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function xs(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function ks(t){return t.a?t.a.readyState:0}function Is(t){try{return 2<ks(t)?t.a.status:-1}catch(e){return-1}}function As(t,e){return e+" ["+t.R+" "+t.l+" "+Is(t)+"]"}function Ps(t){var e=qs;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ds(t,e,n){t.a=!0,t.c=n,t.f=!e,js(t)}function Rs(t){if(t.a){if(!t.v)throw new Ls(t);t.v=!1}}function Ns(t,e,n,r){t.g.push([e,n,r]),t.a&&js(t)}function Ms(t){return G(t.g,function(t){return p(t[1])})}function js(t){if(t.h&&t.a&&Ms(t)){var e=t.h,n=Vs[e];n&&(a.clearTimeout(n.a),delete Vs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var c=o.call(i||t.s,e);void 0!==c&&(t.f=t.f&&(c==e||c instanceof Error),t.c=e=c),(R(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,Ms(t)||(n=!0)}}t.c=e,r&&(c=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Ps?(Ns(e,c,r),e.C=!0):e.then(c,r)),n&&(e=new Us(e),Vs[e.a]=e,t.h=e.a)}function Ls(){N.call(this)}function Fs(){N.call(this)}function Us(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=bs.prototype).Ma=function(){void 0!==s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",hs(this.b,As(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(hs(this.b,As(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Os(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Os(this,!0)),bs.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Ss(this):this.Jc())},t.Jc=function(){Ss(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(rs,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return hs(this.b,"Can not get response: "+e.message),null}},Ps.prototype.cancel=function(t){if(this.a)this.c instanceof Ps&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Fs(this),Rs(this),Ds(this,!1,t))}},Ps.prototype.m=function(t,e){this.i=!1,Ds(this,t,e)},Ps.prototype.then=function(t,e,n){var r,i,o=new _e(function(t,e){r=t,i=e});return Ns(this,r,function(t){t instanceof Fs?o.cancel():i(t)}),o.then(t,e,n)},Ps.prototype.$goog_Thenable=!0,E(Ls,N),Ls.prototype.message="Deferred has already fired",Ls.prototype.name="AlreadyCalledError",E(Fs,N),Fs.prototype.message="Deferred was canceled",Fs.prototype.name="CanceledError",Us.prototype.c=function(){throw delete Vs[this.a],this.b};var Vs={};function Bs(t){var e={},n=e.document||document,r=Ot(t).toString(),i=pe(document,"SCRIPT"),o={Wb:i,Ma:void 0},s=new Ps(o),c=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(c=window.setTimeout(function(){zs(i,!0);var t=new Ks(Ws,"Timeout reached for loading script "+r);Rs(s),Ds(s,!1,t)},h),o.Ma=c),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(zs(i,e.xd||!1,c),Rs(s),Ds(s,!0,null))},i.onerror=function(){zs(i,!0,c);var t=new Ks(Hs,"Error while loading script "+r);Rs(s),Ds(s,!1,t)},vt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ue(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=Ot(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=a?e=l(e.document):(null===u&&(u=l(a.document)),e=u),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),s}function qs(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&zs(t,!0,this.Ma)}}function zs(t,e,n){null!=n&&a.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Hs=0,Ws=1;function Ks(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),N.call(this,n),this.code=t}function Gs(t){this.f=t}function Ys(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Xs,this.g=mt(t.secureTokenHeaders||Js),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Zs,this.a=mt(t.firebaseHeaders||ta),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Cr(),!(n=a.XMLHttpRequest||n&&r.default.INTERNAL.node&&r.default.INTERNAL.node.XMLHttpRequest)&&!wr())throw new O("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=wr()?new ds(self):Tr()?new Gs(n):new Xo,this.b=null}E(Ks,N),E(Gs,Yo),Gs.prototype.a=function(){return new this.f},Gs.prototype.b=function(){return{}};var $s,Qs="idToken",Xs=new qr(3e4,6e4),Js={"Content-Type":"application/x-www-form-urlencoded"},Zs=new qr(3e4,6e4),ta={"Content-Type":"application/json"};function ea(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function na(t,e){e&&(t.l=ra("https://securetoken.googleapis.com/v1/token",e),t.h=ra("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ra("https://identitytoolkit.googleapis.com/v2/",e))}function ra(t,e){return t=Un(t),e=Un(e.url),t.f=t.a+t.f,Nn(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function ia(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function oa(t,e,n,r,i,o,s){(function(){var t=Ir();return!((t=Or(t)!=Sr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||$t&&se&&!(9<se))})()||wr()?t=w(t.u,t):($s||($s=new _e(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[aa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ns(t,null,e,void 0)}(Bs(xt(sa,{onload:aa})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,r,i,o,s)}Ys.prototype.T=function(){return this.b},Ys.prototype.u=function(t,e,n,r,i,o){if(wr()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new O("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new bs(this.f);if(o){s.g=Math.max(0,o);var c=setTimeout(function(){s.dispatchEvent("timeout")},o)}Cn(s,"complete",function(){c&&clearTimeout(c);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return hs(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Tn(s,"ready",function(){c&&clearTimeout(c),We(this)}),Tn(s,"timeout",function(){c&&clearTimeout(c),We(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():zo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:zo),t.a.onreadystatechange=w(t.Vb,t);try{hs(t.b,As(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return hs(t.b,As(t,"Error opening Xhr: "+s.message)),void Ts(t,s)}e=r||"";var o=new In(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"==typeof t)H(t,e,void 0);else for(var n=kn(t),r=xn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=Cs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=a.FormData&&e instanceof a.FormData,!Y(ws,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{xs(t),0<t.g&&(t.u=function(t){return $t&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),hs(t.b,As(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=Sn(t.Ma,t.g,t)),hs(t.b,As(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){hs(t.b,As(t,"Send error: "+s.message)),Ts(t,s)}}(s,t,n,r,i)};var sa=new yt(Tt,"https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function ca(t){if("string"!=typeof(t=t.email)||!vr.test(t))throw new O("invalid-email")}function ua(t){"email"in t&&ca(t)}function la(t){if(!t[Qs]){if(t.mfaPendingCredential)throw new O("multi-factor-auth-required",null,mt(t));throw new O("internal-error")}}function ha(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new O("internal-error")}else{if(!t.sessionInfo)throw new O("missing-verification-id");if(!t.code)throw new O("missing-verification-code")}}Ys.prototype.s=function(t,e,n,r,i){var o=this;$s.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ys.prototype.zb=function(){return tc(this,qa,{})},Ys.prototype.Bb=function(t,e){return tc(this,Va,{idToken:t,email:e})},Ys.prototype.Cb=function(t,e){return tc(this,Ba,{idToken:t,password:e})};var da={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fa(t){if(!t.phoneVerificationInfo)throw new O("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new O("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new O("missing-verification-code")}function pa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new O("internal-error")}function ma(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Zn(t=new $n(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function ga(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=ec(t.errorMessage)),e)throw e;la(t)}function va(t,e){return e.returnIdpCredential=!0,tc(t,Wa,e)}function ba(t,e){return e.returnIdpCredential=!0,tc(t,Ga,e)}function ya(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,tc(t,Ka,e)}function _a(t){if(!t.oobCode)throw new O("invalid-action-code")}(t=Ys.prototype).Db=function(t,e){var n={idToken:t},r=[];return ft(da,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),tc(this,Va,n)},t.vb=function(t,e){return vt(t={requestType:"PASSWORD_RESET",email:t},e),tc(this,Ma,t)},t.wb=function(t,e){return vt(t={requestType:"EMAIL_SIGNIN",email:t},e),tc(this,Da,t)},t.ub=function(t,e){return vt(t={requestType:"VERIFY_EMAIL",idToken:t},e),tc(this,Ra,t)},t.Eb=function(t,e,n){return vt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),tc(this,Na,t)},t.fb=function(t){return tc(this,Qa,t)},t.nb=function(t,e){return tc(this,Fa,{oobCode:t,newPassword:e})},t.Ra=function(t){return tc(this,Ca,{oobCode:t})},t.jb=function(t){return tc(this,wa,{oobCode:t})};var wa={endpoint:"setAccountInfo",A:_a,Z:"email",B:!0},Ca={endpoint:"resetPassword",A:_a,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new O("internal-error")},B:!0},Ta={endpoint:"signupNewUser",A:function(t){if(ca(t),!t.password)throw new O("weak-password")},G:la,V:!0,B:!0},Ea={endpoint:"createAuthUri",B:!0},Sa={endpoint:"deleteAccount",N:["idToken"]},Oa={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new O("internal-error")}},xa={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ca,G:la,V:!0,B:!0},ka={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ca,G:la,V:!0},Ia={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:fa,G:la,B:!0,Na:!0},Aa={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:fa,G:la,B:!0,Na:!0},Pa={endpoint:"getAccountInfo"},Da={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new O("internal-error");ca(t)},Z:"email",B:!0},Ra={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",B:!0},Na={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new O("internal-error")},Z:"email",B:!0},Ma={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new O("internal-error");ca(t)},Z:"email",B:!0},ja={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},La={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new O("internal-error")}},Fa={endpoint:"resetPassword",A:_a,Z:"email",B:!0},Ua={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Va={endpoint:"setAccountInfo",N:["idToken"],A:ua,V:!0},Ba={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ua(t),!t.password)throw new O("weak-password")},G:la,V:!0},qa={endpoint:"signupNewUser",G:la,V:!0,B:!0},za={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new O("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new O("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},Ha={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new O("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new O("internal-error")},B:!0,Na:!0},Wa={endpoint:"verifyAssertion",A:pa,Ya:ma,G:ga,V:!0,B:!0},Ka={endpoint:"verifyAssertion",A:pa,Ya:ma,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new O("user-not-found");if(t.errorMessage)throw ec(t.errorMessage);la(t)},V:!0,B:!0},Ga={endpoint:"verifyAssertion",A:function(t){if(pa(t),!t.idToken)throw new O("internal-error")},Ya:ma,G:ga,V:!0},Ya={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new O("invalid-custom-token")},G:la,V:!0,B:!0},$a={endpoint:"verifyPassword",A:function(t){if(ca(t),!t.password)throw new O("wrong-password")},G:la,V:!0,B:!0},Qa={endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Xa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new O("internal-error");ha(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);la(t)}},Ja={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ha,G:la,B:!0},Za={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Qs]^!!t.refreshToken)throw new O("internal-error")},B:!0,Na:!0};function tc(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return ke(new O("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return xe(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,s){var a=Un(e+n);Ln(a,"key",t.c),s&&Ln(a,"cb",Date.now().toString());var c="GET"==r;if(c)for(var u in i)i.hasOwnProperty(u)&&Ln(a,u,i[u]);return new _e(function(e,n){oa(t,a.toString(),function(t){t?t.error?n(nc(t,o||{})):e(t):n(new O("network-request-failed"))},r,c?void 0:rr(Lr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return r=t,e.Ya?e.Ya(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new O("internal-error");return r[e.Z]})}function ec(t){return nc({error:{errors:[{message:t}],code:400,message:t}})}function nc(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new O(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",vt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new O(r[i],e);return!e&&t&&(e=jr(t)),new O("internal-error",e)}function rc(t){this.b=t,this.a=null,this.rb=function(t){return(ac||(ac=new _e(function(t,e){function n(){Br(),Ar("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Br(),e(Error("Network Error"))},timeout:oc.get()})}if(Ar("gapi.iframes.Iframe"))t();else if(Ar("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){Ar("gapi.load")?n():e(Error("Network Error"))},xe(Bs(r=xt(ic,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw ac=null,t}))).then(function(){return new _e(function(e,n){Ar("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},sc.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var ic=new yt(Tt,"https://apis.google.com/js/api.js?onload=%{onload}"),oc=new qr(3e4,6e4),sc=new qr(5e3,15e3),ac=null;function cc(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Vn((t=Un(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Vn("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function uc(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function lc(t){try{return r.default.app(t).auth().Ga()}catch(e){return[]}}function hc(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function dc(t){var e=lr();return function(t){return tc(t,ja,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Un(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Un(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:gr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new Wo(lr())})}function fc(t){return t.m||(t.m=br().then(function(){if(!t.u){var e=t.c,n=t.i,r=lc(t.b),i=new cc(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.v=new rc(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Bo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)})}(t)})),t.m}function pc(t){return t.l||(t.C=t.c?kr(t.c,lc(t.b)):null,t.l=new Ys(t.g,D(t.i),t.C),t.f&&na(t.l,t.f)),t.l}function mc(t,e,n,r,i,o,s,a,c,u,l,h){return(t=new uc(t,e,n,r,i,h)).l=o,t.g=s,t.i=a,t.b=mt(c||null),t.f=u,t.yb(l).toString()}function gc(t){if(this.a=t||r.default.INTERNAL.reactNative&&r.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new O("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vc(t){this.b=t,this.a={},this.f=w(this.c,this)}cc.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},uc.prototype.yb=function(t){return this.h=t,this},uc.prototype.toString=function(){if(this.v){var t=Un(this.v.url);t=Vn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Vn("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.default.app(this.c).auth().la()}catch(c){n=null}for(var i in e.ob=n,Ln(t,"providerId",this.a.providerId),e=Lr((n=this.a).Ib))e[i]=e[i].toString();i=n.Qc,e=mt(e);for(var o=0;o<i.length;o++){var s=i[o];s in e&&delete e[s]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),pt(e)||Ln(t,"customParameters",jr(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Ln(t,"scopes",n.join(",")),this.l?Ln(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Jn(t.b,"eventId"),this.i?Ln(t,"v",this.i):Jn(t.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Fn(t,a)&&Ln(t,a,this.b[a]);return this.h?Ln(t,"tid",this.h):Jn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Jn(t.b,"eid"),(a=lc(this.c)).length&&Ln(t,"fw",a.join(",")),t.toString()},(t=hc.prototype).Ob=function(t,e,n){var r=new O("popup-closed-by-user"),i=new O("web-storage-unsupported"),o=this,s=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return fc(t).then(function(){return function(t,e){return t.rb.then(function(){return new _e(function(n){t.a.send(e.type,e,n,Ar("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pr(t),e(i),s=!0)})}).o(function(){}).then(function(){if(!s)return function(t){return new _e(function(e){return function n(){On(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return On(n).then(function(){e(r)})})},t.Xb=function(){var t=Ir();return!Mr(t)&&!Vr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,s,a){if(!t)return ke(new O("popup-blocked"));if(s&&!Mr())return this.ma().o(function(e){pr(t),i(e)}),r(),xe();this.a||(this.a=dc(pc(this)));var c=this;return this.a.then(function(){var e=c.ma().o(function(e){throw pr(t),i(e),e});return r(),e}).then(function(){Uo(n),s||hr(mc(c.s,c.g,c.b,e,n,null,o,c.c,void 0,c.i,a,c.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(c.a=null),t})},t.Nb=function(t,e,n,r){this.a||(this.a=dc(pc(this)));var i=this;return this.a.then(function(){Uo(e),hr(mc(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return fc(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new O("network-request-failed")})},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){Q(this.h,function(e){return e==t})},(t=gc.prototype).get=function(t){return xe(this.a.getItem(t)).then(function(t){return t&&Fr(t)})},t.set=function(t,e){return xe(this.a.setItem(t,jr(e)))},t.U=function(t){return xe(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var bc,yc=[];function _c(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function wc(t){this.a=t}function Cc(t){this.c=t,this.b=!1,this.a=[]}function Tc(t,e,n,r){var i,o,s,a,c=n||{},u=null;if(t.b)return ke(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:c},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Ec(t,u),e}).o(function(e){throw Ec(t,u),e})}function Ec(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),Q(t.a,function(t){return t==e})}}function Sc(){if(!Ic())throw new O("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=a.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.v=function(){var t=wr()?self:null;if(H(yc,function(n){n.b==t&&(e=n)}),!e){var e=new vc(t);yc.push(e)}return e}(),_c(this.v,"keyChanged",function(e,n){return Nc(t).then(function(e){return 0<e.length&&H(t.a,function(t){t(e)}),{keyProcessed:Y(e,n.key)}})}),_c(this.v,"ping",function(){return xe(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?xe().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):xe(null)}().then(function(e){(t.h=e)&&(t.g=new Cc(new wc(e)),Tc(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Oc(t){return new _e(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new _e(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Oc(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function xc(t){return t.i||(t.i=Oc(t)),t.i}function kc(t,e){var n=0;return new _e(function r(i,o){xc(t).then(e).then(i).o(function(e){if(!(3<++n))return xc(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Ic(){try{return!!a.indexedDB}catch(Gt){return!1}}function Ac(t){return t.objectStore("firebaseLocalStorage")}function Pc(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Dc(t){return new _e(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Rc(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Tc(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):xe()}function Nc(t){return xc(t).then(function(t){var e=Ac(Pc(t,!1));return e.getAll?Dc(e.getAll()):new _e(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=dr(t.c,n),t.c=n}return r})}function Mc(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function jc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xe().then(function(){if(Ic()){var t=Ur(),r="__sak"+t;return bc||(bc=new Sc),(n=bc).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){H(e.a,function(e){e(t)})}),t})}function Lc(){this.a={},this.type="inMemory"}function Fc(){if(!function(){var t="Node"==Cr();if(!(t=Uc()||t&&r.default.INTERNAL.node&&r.default.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Cr())throw new O("internal-error","The LocalStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=Uc()||r.default.INTERNAL.node.localStorage,this.type="localStorage"}function Uc(){try{var t=a.localStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Vc(){this.type="nullStorage"}function Bc(){if(!function(){var t="Node"==Cr();if(!(t=qc()||t&&r.default.INTERNAL.node&&r.default.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Cr())throw new O("internal-error","The SessionStorage compatibility library was not found.");throw new O("web-storage-unsupported")}this.a=qc()||r.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function qc(){try{var t=a.sessionStorage,e=Ur();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function zc(){var t={};t.Browser=Kc,t.Node=Gc,t.ReactNative=Yc,t.Worker=$c,this.a=t[Cr()]}vc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,function(e){i.push(xe().then(function(){return e(t.origin,t.data.data)}))}),Ae(i).then(function(r){var i=[];H(r,function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),H(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},wc.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Cc.prototype.close=function(){for(;0<this.a.length;)Ec(this,this.a[0]);this.b=!0},(t=Sc.prototype).set=function(t,e){var n=this,r=!1;return kc(this,function(e){return Dc((e=Ac(Pc(e,!0))).get(t))}).then(function(i){return kc(n,function(o){if(o=Ac(Pc(o,!0)),i)return i.value=e,Dc(o.put(i));n.b++,r=!0;var s={};return s.fbase_key=t,s.value=e,Dc(o.add(s))})}).then(function(){return n.c[t]=e,Rc(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return kc(this,function(e){return Dc(Ac(Pc(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return kc(this,function(r){return n=!0,e.b++,Dc(Ac(Pc(r,!0)).delete(t))}).then(function(){return delete e.c[t],Rc(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){Mc(t),function e(){t.f=setTimeout(function(){t.l=Nc(t).then(function(e){0<e.length&&H(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t}),0==this.a.length&&Mc(this)},(t=jc.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){Q(this.a,function(e){return e==t})},(t=Lc.prototype).get=function(t){return xe(this.a[t])},t.set=function(t,e){return this.a[t]=e,xe()},t.U=function(t){return delete this.a[t],xe()},t.ca=function(){},t.ia=function(){},(t=Fc.prototype).get=function(t){var e=this;return xe().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return xe().then(function(){var r=jr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return xe().then(function(){e.a.removeItem(t)})},t.ca=function(t){a.window&&un(a.window,"storage",t)},t.ia=function(t){a.window&&dn(a.window,"storage",t)},(t=Vc.prototype).get=function(){return xe(null)},t.set=function(){return xe()},t.U=function(){return xe()},t.ca=function(){},t.ia=function(){},(t=Bc.prototype).get=function(t){var e=this;return xe().then(function(){return Fr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return xe().then(function(){var r=jr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return xe().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var Hc,Wc,Kc={F:Fc,bb:Bc},Gc={F:Fc,bb:Bc},Yc={F:gc,bb:Vc},$c={F:Fc,bb:Vc},Qc={rd:"local",NONE:"none",td:"session"};function Xc(){var t=!(Vr(Ir())||!_r()),e=Mr(),n=Pr();this.m=t,this.h=e,this.l=n,this.a={},Hc||(Hc=new zc),t=Hc;try{this.g=!ur()&&Wr()||!a.indexedDB?new t.a.F:new jc(wr()?new Lc:new t.a.F)}catch(r){this.g=new Lc,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Lc}this.v=new Lc,this.f=w(this.Yb,this),this.b={}}function Jc(){return Wc||(Wc=new Xc),Wc}function Zc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function tu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function eu(t,e,n){return n=tu(e,n),"local"==e.F&&(t.b[n]=null),Zc(t,e.F).U(n)}function nu(t){t.c&&(clearInterval(t.c),t.c=null)}function ru(t){this.a=t,this.b=Jc()}(t=Xc.prototype).get=function(t,e){return Zc(this,t.F).get(tu(t,e))},t.set=function(t,e,n){var r=tu(t,n),i=this,o=Zc(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=tu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),pt(this.a)&&(Zc(this,"local").ca(this.f),this.h||(ur()||!Wr())&&a.indexedDB||!this.l||function(t){nu(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Xe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=tu(t,e),this.a[t]&&(Q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Zc(this,"local").ia(this.f),nu(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Zc(this,"local").ia(this.f):nu(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.mb(e))},$t&&se&&10==se&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,w(this.mb,this))},t.mb=function(t){this.a[t]&&H(this.a[t],function(t){t()})};var iu,ou={name:"authEvent",F:"local"};function su(){this.a=Jc()}function au(t,e){this.b=cu,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===iu&&(iu=a.Int32Array?new Int32Array(mu):mu),this.reset()}E(au,function(){this.b=-1});for(var cu=64,uu=cu-1,lu=[],hu=0;hu<uu;hu++)lu[hu]=0;var du=X(128,lu);function fu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],c=0|t.a[3],u=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&l^~u&h)+(0|iu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=u,u=c+s|0,c=a,a=i,i=r,r=s+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+c|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function pu(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(fu(t),i=0);else{if(!f(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(fu(t),i=0)}}t.c=i,t.g+=n}au.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):J(this.h)};var mu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function gu(){au.call(this,8,vu)}E(gu,au);var vu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function bu(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new su,this.g=new ru(this.h),this.f=null,this.b=[],this.a=this.c=null}function yu(t){return new O("invalid-cordova-configuration",t)}function _u(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function wu(t){return t.f||(t.f=t.ma().then(function(){return new _e(function(e){t.Ea(function n(r){return e(r),t.Sa(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Cu(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=io(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Fr(Fn(o=Un(i),"firebaseError")||null))?x(o):null)?new Vo(r.c,r.b,null,null,o,null,r.T()):new Vo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}_u(t,i)})}var n=new Vo("unknown",null,null,null,new O("no-auth-event")),r=!1,i=On(500).then(function(){return Cu(t).then(function(){r||_u(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Ar("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Ho||(Ho=new qo),function(t){var e=Ho;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Ar("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function Cu(t){var e=null;return function(t){return t.b.get(ou,t.a).then(function(t){return Bo(t)})}(t.g).then(function(n){return e=n,eu((n=t.g).b,ou,n.a)}).then(function(){return e})}function Tu(t){this.a=t,this.b=Jc()}(t=bu.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(yr(void 0)?br().then(function(){return new _e(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):ke(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof Ar("universalLinks.subscribe",a))throw yu("cordova-universal-links-plugin-fix is not installed");if(void 0===Ar("BuildInfo.packageName",a))throw yu("cordova-plugin-buildinfo is not installed");if("function"!=typeof Ar("cordova.plugins.browsertab.openUrl",a))throw yu("cordova-plugin-browsertab is not installed");if("function"!=typeof Ar("cordova.InAppBrowser.open",a))throw yu("cordova-plugin-inappbrowser is not installed")},function(){throw new O("cordova-not-ready")})},t.Ob=function(t,e){return e(new O("operation-not-supported-in-this-environment")),xe()},t.Mb=function(){return ke(new O("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return ke(new O("redirect-operation-pending"));var i=this,o=a.document,s=null,c=null,u=null,l=null;return this.c=xe().then(function(){return Uo(e),wu(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Vo(e,r,null,o,new O("no-auth-event"),null,i),c=Ar("BuildInfo.packageName",a);if("string"!=typeof c)throw new O("invalid-cordova-configuration");var u=Ar("BuildInfo.displayName",a),l={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=c;else{if(!Ir().toLowerCase().match(/android/))return ke(new O("operation-not-supported-in-this-environment"));l.apn=c}u&&(l.appDisplayName=u),o=function(t){var e=new gu;pu(e,t),t=[];var n=8*e.g;pu(e,du,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(fu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=mc(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(ou,s.w(),e)}).then(function(){var e=Ar("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new O("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=Ar("cordova.plugins.browsertab.openUrl",a)))throw new O("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Ar("cordova.InAppBrowser.open",a)))throw new O("invalid-cordova-configuration");e=Ir(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new _e(function(t,e){c=function(){var e=Ar("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(c),l=function(){zr()&&u()},o.addEventListener("resume",u=function(){s||(s=On(2e3).then(function(){e(new O("redirect-cancelled-by-user"))}))},!1),Ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return Cu(i).then(function(){throw t})})}).oa(function(){u&&o.removeEventListener("resume",u,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),c&&i.Sa(c),i.c=null})},t.Ea=function(t){this.b.push(t),wu(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new O("no-auth-event")),t(e))})},t.Sa=function(t){Q(this.b,function(e){return e==t})};var Eu={name:"pendingRedirect",F:"session"};function Su(t){return eu(t.b,Eu,t.a)}function Ou(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Bu,this.C=new Ku,this.g=new Tu(Uu(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=xu(this.D,this.v,this.m,k,this.J)}function xu(t,e,n,i,o){var s=r.default.SDK_VERSION||null;return yr()?new bu(t,e,n,s,i,o):new hc(t,e,n,s,i,o)}function ku(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Iu(t){t.a.Xb()&&ku(t).o(function(e){var n=new Vo("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Mu(e)&&t.s(n)}),t.a.Tb()||qu(t.b)}function Au(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Eu,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Su(t.g).then(function(){ku(t).o(function(e){var n=new Vo("unknown",null,null,null,new O("operation-not-supported-in-this-environment"));Mu(e)&&t.s(n)})}):Iu(t)}).o(function(){Iu(t)})}function Pu(t,e){Q(t.h,function(t){return t==e})}Ou.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=xu(this.D,this.v,this.m,null,this.J),this.i={}},Ou.prototype.s=function(t){if(!t)throw new O("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return qu(this.b),e};var Du=new qr(2e3,1e4),Ru=new qr(3e4,6e4);function Nu(t,e,n,r,i,o,s){return t.a.Mb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,s)}function Mu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function ju(t,e,n,r,i){var o;return function(t){return t.b.set(Eu,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,r,i).o(function(e){if(Mu(e))throw new O("operation-not-supported-in-this-environment");return o=e,Su(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new _e(function(){}):Su(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Lu(t,e,n,r,i){return t.a.Ob(r,function(t){e.na(n,null,t,i)},Du.get())}Ou.prototype.qa=function(){return this.b.qa()};var Fu={};function Uu(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Vu(t,e,n,r){var i=Uu(e,n,r);return Fu[i]||(Fu[i]=new Ou(t,e,n,r)),Fu[i]}function Bu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function qu(t){t.g||(t.g=!0,Wu(t,!1,null,null))}function zu(t){t.g&&!t.i&&Wu(t,!1,null,null)}function Hu(t,e){if(t.b=function(){return xe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Wu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return ke(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Hu(t,n):Hu(t,{user:null}),t.f=[],t.c=[]}function Ku(){}function Gu(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Yu(t,e){this.a=e,Qr(this,"verificationId",t)}function $u(t,e,n,r){return new jo(t).fb(e,n).then(function(t){return new Yu(t,r)})}function Qu(t){var e=Hi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new O("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:t,expirationTime:Hr(1e3*e.exp),authTime:Hr(1e3*e.auth_time),issuedAtTime:Hr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Xu(t,e,n){var r=e&&e[Zu];if(!r)throw new O("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=mt(e),this.g=n,this.c=new oo(null,r),this.b=[];var i=this;H(e[Ju]||[],function(t){(t=ei(t))&&i.b.push(t)}),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Bu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Bu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Wu(this,!0,null,t.a),xe()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.T(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){Wu(t,a,e,null)}).o(function(e){Wu(t,a,null,e)})}(this,t,e):ke(new O("invalid-auth-event")):(Wu(this,!1,null,null),xe())}else ke(new O("invalid-auth-event"))},Bu.prototype.qa=function(){var t=this;return new _e(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new O("timeout");t.a&&t.a.cancel(),t.a=On(Ru.get()).then(function(){t.b||(t.g=!0,Wu(t,!0,null,e))})}(t))})},Ku.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),xe()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):ke(new O("invalid-auth-event"))}else ke(new O("invalid-auth-event"))},Yu.prototype.confirm=function(t){return t=Lo(this.verificationId,t),this.a(t)};var Ju="mfaInfo",Zu="mfaPendingCredential";function tl(t,e,n,r){O.call(this,"multi-factor-auth-required",r,e),this.b=new Xu(t,e,n),Qr(this,"resolver",this.b)}function el(t,e,n){if(t&&m(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new tl(e,t.serverResponse,n,t.message)}catch(r){}return null}function nl(){}function rl(t){Qr(this,"factorId",t.fa),this.a=t}function il(t){if(rl.call(this,t),this.a.fa!=jo.PROVIDER_ID)throw new O("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function ol(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function sl(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),un(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ii]=t.uid),t.displayName&&(r[ni]=t.displayName),t.enrollmentTime&&(r[ri]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[oi]=t.phoneNumber);try{e=new si(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),al(this,n)}function al(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function cl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ul(t,e){t.stop(),t.b=On(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return zr()||!t?xe():new _e(function(n){e=function(){zr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){ul(t,!0)}).o(function(e){t.i(e)&&ul(t,!1)})}function ll(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function hl(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function dl(t,e){t.b=zi(e[Qs]||""),t.a=e.refreshToken,hl(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function fl(t,e){this.a=t||null,this.b=e||null,Xr(this,{lastSignInTime:Hr(e||null),creationTime:Hr(t||null)})}function pl(t,e,n,r,i,o){Xr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function ml(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.default.SDK_VERSION?kr(r.default.SDK_VERSION):null;this.a=new Ys(this.l,D(k),i),t.emulatorConfig&&na(this.a,t.emulatorConfig),this.b=new ll(this.a),Tl(this,e[Qs]),dl(this.b,e),Qr(this,"refreshToken",this.b.a),Ol(this,n||{}),wn.call(this),this.R=!1,this.s&&Dr()&&(this.i=Vu(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new cl(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=w(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){na(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){bl(o,t.f)},this.ba=null,this.O=new sl(this,n),Qr(this,"multiFactor",this.O)}function gl(t,e){t.ja&&dn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&un(e,"languageCodeChanged",t.Oa)}function vl(t,e){t.X&&dn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&un(e,"emulatorConfigChanged",t.Aa)}function bl(t,e){t.$=e,ia(t.a,r.default.SDK_VERSION?kr(r.default.SDK_VERSION,t.$):null)}function yl(t,e){t.ba&&dn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&un(e,"frameworkChanged",t.Ba)}function _l(t){try{return r.default.app(t.m).auth()}catch(e){throw new O("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function wl(t){t.D||t.u.b||(t.u.start(),dn(t,"tokenChanged",t.aa),un(t,"tokenChanged",t.aa))}function Cl(t){dn(t,"tokenChanged",t.aa),t.u.stop()}function Tl(t,e){t.za=e,Qr(t,"_lat",e)}function El(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Ae(e).then(function(){return t})}function Sl(t){t.i&&!t.R&&(t.R=!0,Au(t.i,t))}function Ol(t,e){Xr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new fl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function xl(){}function kl(t){return xe().then(function(){if(t.D)throw new O("app-deleted")})}function Il(t){return K(t.providerData,function(t){return t.providerId})}function Al(t,e){e&&(Pl(t,e.providerId),t.providerData.push(e))}function Pl(t,e){Q(t.providerData,function(t){return t.providerId==e})}function Dl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function Rl(t,e){t!=e&&(Xr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Qr(t,"metadata",e.metadata?function(t){return new fl(t.a,t.b)}(e.metadata):new fl),H(e.providerData,function(e){Al(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Qr(t,"refreshToken",t.b.a),al(t.O,e.O.b))}function Nl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return tc(t.a,Pa,{idToken:e}).then(w(t.Kc,t))}(t,e).then(function(){return n||Dl(t,"isAnonymous",!1),e})})}function Ml(t,e){e[Qs]&&t.za!=e[Qs]&&(dl(t.b,e),t.dispatchEvent(new ol("tokenChanged")),Tl(t,e[Qs]),Dl(t,"refreshToken",t.b.a))}function jl(t,e){return Nl(t).then(function(){if(Y(Il(t),e))return El(t).then(function(){throw new O("provider-already-linked")})})}function Ll(t,e,n){return Jr({user:t,credential:Fo(e),additionalUserInfo:e=$i(e),operationType:n})}function Fl(t,e){return Ml(t,e),t.reload().then(function(){return t})}function Ul(t,e,n,i,o){if(!Dr())return ke(new O("operation-not-supported-in-this-environment"));if(t.h&&!o)return ke(t.h);var s=Yi(n.providerId),a=Ur(t.uid+":::"),c=null;(!Mr()||_r())&&t.s&&n.isOAuthProvider&&(c=mc(t.s,t.l,t.m,e,n,null,a,r.default.SDK_VERSION||null,null,null,t.tenantId));var u=mr(c,s&&s.ua,s&&s.ta);return i=i().then(function(){if(Bl(t),!o)return t.I().then(function(){})}).then(function(){return Nu(t.i,u,e,n,a,!!c,t.tenantId)}).then(function(){return new _e(function(n,r){t.na(e,null,new O("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=a,t.c=Lu(t.i,t,e,u,a)})}).then(function(t){return u&&pr(u),t?Jr(t):null}).o(function(t){throw u&&pr(u),t}),ql(t,i,o)}function Vl(t,e,n,r,i){if(!Dr())return ke(new O("operation-not-supported-in-this-environment"));if(t.h&&!i)return ke(t.h);var o=null,s=Ur(t.uid+":::");return r=r().then(function(){if(Bl(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=s,El(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Wl,t.w(),e.a)),e}).then(function(){return ju(t.i,e,n,s,t.tenantId)}).o(function(e){if(o=e,t.ha)return Kl(t.ha);throw o}).then(function(){if(o)throw o}),ql(t,r,i)}function Bl(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new O("internal-error");throw new O("auth-domain-config-required")}}function ql(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),ke(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new ol("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(r),r.oa(function(){$(t.J,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),_l(t),w(t.jc,t))),n||e})}function zl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new ml(e,n,t);return t.providerData&&H(t.providerData,function(t){t&&Al(i,Jr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Hl(t){this.a=t,this.b=Jc()}Xu.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=mt(e.f);return delete n[Ju],delete n[Zu],vt(n,t),e.g(n)})},E(tl,O),nl.prototype.sb=function(t,e,n){return e.type==so?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),vt(n,{phoneVerificationInfo:Mo(t.a)}),tc(e,Ia,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return vt(n={mfaPendingCredential:n},{phoneVerificationInfo:Mo(t.a)}),tc(e,Aa,n)})}(this,t,e)},E(rl,nl),E(il,rl),E(ol,Qe),(t=sl.prototype).yc=function(t){al(this,function(t){var e=[];return H(t.mfaInfo||[],function(t){(t=ei(t))&&e.push(t)}),e}(t.hd))},t.Rb=function(){return this.a.I().then(function(t){return new oo(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then(function(n){return t.sb(r,n,e)}).then(function(t){return Ml(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return tc(r,Za,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=W(e.b,function(t){return t.uid!=n});return al(e,r),Ml(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,function(t){return t.w()})}}},cl.prototype.start=function(){this.a=this.c,ul(this,!0)},cl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ll.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},ll.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?ke(new O("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?oa(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(nc(t)):t.access_token&&t.refresh_token?n(t):r(new O("internal-error")):r(new O("network-request-failed"))},"POST",Xn(e).toString(),t.g,t.m.get()):r(new O("internal-error"))})}(t.f,e).then(function(e){return t.b=zi(e.access_token),t.a=e.refresh_token,hl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b.toString(),refreshToken:this.a})},fl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(ml,wn),ml.prototype.wa=function(t){this.ya=t,ea(this.a,t)},ml.prototype.la=function(){return this.ya},ml.prototype.Ga=function(){return J(this.$)},ml.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Qr(ml.prototype,"providerId","firebase"),(t=ml.prototype).reload=function(){var t=this;return ql(this,kl(this).then(function(){return Nl(t).then(function(){return El(t)}).then(xl)}))},t.oc=function(t){return this.I(t).then(function(t){return new Qu(t)})},t.I=function(t){var e=this;return ql(this,kl(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new O("internal-error");return t.accessToken!=e.za&&(Tl(e,t.accessToken),e.dispatchEvent(new ol("tokenChanged"))),Dl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new O("internal-error");Ol(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,function(t){return new pl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Al(this,e[n]);Dl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new ol("userReloaded",{hd:t}))},t.Lc=function(t){return Yr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return ql(this,t.c(this.a,this.uid).then(function(t){return Ml(e,t),n=Ll(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Yr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return ql(this,jl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ll(e,t,"link"),Fl(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return ql(this,jl(this,"phone").then(function(){return $u(_l(n),t,e,w(n.qb,n))}))},t.Mc=function(t,e){var n=this;return ql(this,xe().then(function(){return $u(_l(n),t,e,w(n.tb,n))}),!0)},t.Bb=function(t){var e=this;return ql(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return Ml(e,t),e.reload()}))},t.ed=function(t){var e=this;return ql(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return Ml(e,t),e.reload()}))},t.Cb=function(t){var e=this;return ql(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return Ml(e,t),e.reload()}))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return kl(this);var e=this;return ql(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Ml(e,t),Dl(e,"displayName",t.displayName||null),Dl(e,"photoURL",t.photoUrl||null),H(e.providerData,function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))}),El(e)}).then(xl))},t.cd=function(t){var e=this;return ql(this,Nl(this).then(function(n){return Y(Il(e),t)?function(t,e,n){return tc(t,Oa,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return H(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),H(Il(e),function(t){n[t]||Pl(e,t)}),n[jo.PROVIDER_ID]||Qr(e,"phoneNumber",null),El(e)}):El(e).then(function(){throw new O("no-such-provider")})}))},t.delete=function(){var t=this;return ql(this,this.I().then(function(e){return tc(t.a,Sa,{idToken:e})}).then(function(){t.dispatchEvent(new ol("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");gl(t,null),vl(t,null),yl(t,null),t.J=[],t.D=!0,Cl(t),Qr(t,"refreshToken",null),t.i&&Pu(t.i,t)})},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):null},t.Ec=function(t){var e=this;return Ul(this,"linkViaPopup",t,function(){return jl(e,t.providerId).then(function(){return El(e)})},!1)},t.Nc=function(t){return Ul(this,"reauthViaPopup",t,function(){return xe()},!0)},t.Fc=function(t){var e=this;return Vl(this,"linkViaRedirect",t,function(){return jl(e,t.providerId)},!1)},t.Oc=function(t){return Vl(this,"reauthViaRedirect",t,function(){return xe()},!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ql(this,this.I().then(function(n){return ba(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ll(i,t,"link"),Fl(i,t)}).then(function(){return o}))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ql(this,xe().then(function(){return uo(ya(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ll(i,t,"reauthenticate"),Ml(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},t.ub=function(t){var e=this,n=null;return ql(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:Vi(new Ai(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Eb=function(t,e){var n=this,r=null;return ql(this,this.I().then(function(t){return r=t,void 0===e||pt(e)?{}:Vi(new Ai(e))}).then(function(e){return n.a.Eb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return ql(this,t=uo(xe(t),n.uid).then(function(t){return e=Ll(n,t,"reauthenticate"),Ml(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&vt(t,this.metadata.w()),H(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),vt(t,this.O.w()),t};var Wl={name:"redirectUser",F:"session"};function Kl(t){return eu(t.b,Wl,t.a)}function Gl(t){this.a=t,this.b=Jc(),this.c=null,this.f=function(t){var e=Ql("local"),n=Ql("session"),r=Ql("none");return function(t,e,n){var r=tu(e,n),i=Zc(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=Fr(a.localStorage.getItem(r))}catch(c){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get($l,t.a).then(function(t){return t?Ql(t):e})})})}).then(function(e){return t.c=e,Yl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Ql("local"),this.a,w(this.g,this))}function Yl(t,e){var n,r=[];for(n in Qc)Qc[n]!==e&&r.push(eu(t.b,Ql(Qc[n]),t.a));return r.push(eu(t.b,$l,t.a)),function(t){return new _e(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Ie(t[a],C(o,a),s);else e(i)})}(r)}Gl.prototype.g=function(){var t=this,e=Ql("local");th(this,function(){return xe().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Yl(t,"local").then(function(){t.c=e})})})};var $l={name:"persistence",F:"session"};function Ql(t){return{name:"authUser",F:t}}function Xl(t,e){return th(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Jl(t){return th(t,function(){return eu(t.b,t.c,t.a)})}function Zl(t,e,n){return th(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),zl(t||{})})})}function th(t,e){return t.f=t.f.then(e,e),t.f}function eh(t){if(this.l=!1,Qr(this,"settings",new Gu),Qr(this,"app",t),!uh(this).options||!uh(this).options.apiKey)throw new O("invalid-api-key");t=r.default.SDK_VERSION?kr(r.default.SDK_VERSION):null,this.a=new Ys(uh(this).options&&uh(this).options.apiKey,D(k),t),this.R=[],this.s=[],this.O=[],this.hb=r.default.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=r.default.INTERNAL.createSubscribe(w(this.Ac,this)),ah(this,null),this.i=new Gl(uh(this).options.apiKey+":"+uh(this).name),this.D=new Hl(uh(this).options.apiKey+":"+uh(this).name),this.$=fh(this,function(t){var e=uh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Wl,t.a).then(function(t){return t&&e&&(t.authDomain=e),zl(t||{})})}(t.D,uh(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Kl(t.D)});return fh(t,e)}(t).then(function(){return Zl(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Xl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Jl(t.i)})):null}).then(function(e){ah(t,e||null)});return fh(t,n)}(this)),this.h=fh(this,function(t){return t.$.then(function(){return sh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Ql("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=uh(t).options.authDomain,n=uh(t).options.apiKey;e&&Dr()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Vu(e,n,uh(t).name,t.P),Au(t.b,t),lh(t)&&Sl(lh(t)),t.m){Sl(t.m);var r=t.m;r.wa(t.la()),gl(r,t),bl(r=t.m,t.J),yl(r,t),na((r=t.m).a,t.P),vl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Un(this.P.url);t=Jr({protocol:t.c,host:t.a,port:t.g,options:Jr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function nh(t){Qe.call(this,"languageCodeChanged"),this.h=t}function rh(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function ih(t){Qe.call(this,"frameworkChanged"),this.f=t}function oh(t){return t.Oa||ke(new O("auth-domain-config-required"))}function sh(t){if(!Dr())return ke(new O("operation-not-supported-in-this-environment"));var e=oh(t).then(function(){return t.b.qa()}).then(function(t){return t?Jr(t):null});return fh(t,e)}function ah(t,e){lh(t)&&(function(t,e){Q(t.S,function(t){return t==e})}(lh(t),t.Ba),dn(lh(t),"tokenChanged",t.ya),dn(lh(t),"userDeleted",t.za),dn(lh(t),"userInvalidated",t.Aa),Cl(lh(t))),e&&(e.S.push(t.Ba),un(e,"tokenChanged",t.ya),un(e,"userDeleted",t.za),un(e,"userInvalidated",t.Aa),0<t.u&&wl(e)),Qr(t,"currentUser",e),e&&(e.wa(t.la()),gl(e,t),bl(e,t.J),yl(e,t),na(e.a,t.P),vl(e,t))}function ch(t,e){var n=null,r=null;return fh(t,e.then(function(e){return n=Fo(e),r=$i(e),function(t,e){var n={};return n.apiKey=uh(t).options.apiKey,n.authDomain=uh(t).options.authDomain,n.appName=uh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,r){var i=new ml(t,e);return n&&(i.ha=n),r&&bl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return lh(t)&&e.uid==lh(t).uid?(Rl(lh(t),e),t.da(e)):(ah(t,e),Sl(e),t.da(e))}).then(function(){dh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=el(e.w(),t,w(t.kc,t))),n||e}).then(function(){return Jr({user:lh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function uh(t){return t.app}function lh(t){return t.currentUser}function hh(t){return lh(t)&&lh(t)._lat||null}function dh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](hh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](hh(t))}}function fh(t,e){return t.R.push(e),e.oa(function(){$(t.R,e)}),e}function ph(){}function mh(){this.a={},this.b=1e12}Gl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new O("invalid-persistence-type"),n=new O("unsupported-persistence-type");t:{for(r in Qc)if(Qc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(Cr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Ic()&&"none"!==t)throw n;break;default:if(!Pr()&&"none"!==t)throw n}}(t),th(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Yl(n,t)}).then(function(){if(n.c=Ql(t),e)return n.b.set(n.c,e,n.a)}):xe()})},E(eh,wn),E(nh,Qe),E(rh,Qe),E(ih,Qe),(t=eh.prototype).xb=function(t){return fh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ea(this.a,this.aa),this.dispatchEvent(new nh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=a.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new O("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),a.document&&!t&&br().then(function(){var t=a.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),a.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,na(this.a,this.P),this.dispatchEvent(new rh(this.P))}},t.Gc=function(t){this.J.push(t),ia(this.a,r.default.SDK_VERSION?kr(r.default.SDK_VERSION,this.J):null),this.dispatchEvent(new ih(this.J))},t.Ga=function(){return J(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:uh(this).options.apiKey,authDomain:uh(this).options.authDomain,appName:uh(this).name,currentUser:lh(this)&&lh(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return ch(i,va(i.a,o))})},t.Xc=function(t){if(!Dr())return ke(new O("operation-not-supported-in-this-environment"));var e=this,n=Yi(t.providerId),i=Ur(),o=null;(!Mr()||_r())&&uh(this).options.authDomain&&t.isOAuthProvider&&(o=mc(uh(this).options.authDomain,uh(this).options.apiKey,uh(this).name,"signInViaPopup",t,null,i,r.default.SDK_VERSION||null,null,null,this.T(),this.P));var s=mr(o,n&&n.ua,n&&n.ta);return fh(this,n=oh(this).then(function(n){return Nu(n,s,"signInViaPopup",t,i,!!o,e.T())}).then(function(){return new _e(function(t,n){e.na("signInViaPopup",null,new O("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Lu(e.b,e,"signInViaPopup",s,i)})}).then(function(t){return s&&pr(s),t?Jr(t):null}).o(function(t){throw s&&pr(s),t}))},t.Yc=function(t){if(!Dr())return ke(new O("operation-not-supported-in-this-environment"));var e=this;return fh(this,oh(this).then(function(){return function(t){return th(t,function(){return t.b.set($l,t.c.F,t.a)})}(e.i)}).then(function(){return ju(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.qa=function(){var t=this;return sh(this).then(function(e){return t.b&&zu(t.b.b),e}).o(function(e){throw t.b&&zu(t.b.b),e})},t.dd=function(t){if(!t)return ke(new O("null-user"));if(this.S!=t.tenantId)return ke(new O("tenant-id-mismatch"));var e=this,n={};n.apiKey=uh(this).options.apiKey,n.authDomain=uh(this).options.authDomain,n.appName=uh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Qs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new ml(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&bl(e,r),Rl(e,t),e}(t,n,e.D,e.Ga());return fh(this,this.h.then(function(){if(uh(e).options.apiKey!=t.l)return r.reload()}).then(function(){return lh(e)&&t.uid==lh(e).uid?(Rl(lh(e),t),e.da(t)):(ah(e,r),Sl(r),e.da(r))}).then(function(){dh(e)}))},t.Ab=function(){var t=this;return fh(this,this.h.then(function(){return t.b&&zu(t.b.b),lh(t)?(ah(t,null),Jl(t.i).then(function(){dh(t)})):xe()}))},t.Zc=function(){var t=this;return Zl(this.i,uh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=lh(t)&&e){n=lh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Rl(lh(t),e),lh(t).I();(lh(t)||e)&&(ah(t,e),e&&(Sl(e),e.ha=t.D),t.b&&Au(t.b,t),dh(t))}})},t.da=function(t){return Xl(this.i,t)},t.mc=function(){dh(this),this.da(lh(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then(function(){return ch(e,xe(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(lh(e))})},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),fh(t,t.h.then(function(){!t.l&&Y(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(hh(t)))}))}(this,function(){t.next(lh(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(lh(r)):"function"==typeof t.next&&t.next(lh(r))}),this.bc(t,e,n)},t.nc=function(t){var e=this;return fh(this,this.h.then(function(){return lh(e)?lh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return ch(e,tc(e.a,Ya,{token:t}))}).then(function(t){var n=t.user;return Dl(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tc(n.a,$a,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return ch(n,tc(n.a,Ta,{email:t,password:e}))})},t.$a=function(t){var e=this;return this.h.then(function(){return ch(e,t.ka(e.a))})},t.Sc=function(t){return Yr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then(function(){var e=lh(t);if(e&&e.isAnonymous){var n=Jr({providerId:null,isNewUser:!1});return Jr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ch(t,t.a.zb()).then(function(e){var n=e.user;return Dl(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return lh(this)&&lh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&lh(this)&&wl(lh(this))},t.Pc=function(t){var e=this;H(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&lh(this)&&Cl(lh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),fh(this,this.h.then(function(){e.l||Y(e.s,t)&&t(hh(e))}))},t.removeAuthTokenListener=function(t){Q(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Ql("local"),t.a,this.ja),this.b&&(Pu(this.b,this),zu(this.b.b)),Promise.resolve()},t.hc=function(t){return fh(this,function(t,e){return tc(t,Ea,{identifier:e,continueUri:Rr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!Do(t)},t.wb=function(t,e){var n=this;return fh(this,xe().then(function(){var t=new Ai(e);if(!t.c)throw new O("argument-error",Ri+" must be true when sending sign in link to email");return Vi(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},t.nb=function(t,e){return fh(this,this.a.nb(t,e).then(function(){}))},t.Ra=function(t){return fh(this,this.a.Ra(t).then(function(t){return new ai(t)}))},t.jb=function(t){return fh(this,this.a.jb(t).then(function(){}))},t.vb=function(t,e){var n=this;return fh(this,xe().then(function(){return void 0===e||pt(e)?{}:Vi(new Ai(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.Wc=function(t,e){return fh(this,$u(this,t,e,w(this.$a,this)))},t.Vc=function(t,e){var n=this;return fh(this,xe().then(function(){var r=e||lr(),i=Po(t,r);if(!(r=Do(r)))throw new O("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new O("tenant-id-mismatch");return n.$a(i)}))},ph.prototype.render=function(){},ph.prototype.reset=function(){},ph.prototype.getResponse=function(){},ph.prototype.execute=function(){};var gh=null;function vh(t,e){return(e=bh(e))&&t.a[e]||null}function bh(t){return(t=void 0===t?1e12:t)?t.toString():null}function yh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ce(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():un(this.f,"click",this.i)}function _h(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function wh(){}function Ch(){}mh.prototype.render=function(t,e){return this.a[this.b.toString()]=new yh(t,e),this.b++},mh.prototype.reset=function(t){var e=vh(this,t);t=bh(t),e&&t&&(e.delete(),delete this.a[t])},mh.prototype.getResponse=function(t){return(t=vh(this,t))?t.getResponse():null},mh.prototype.execute=function(t){(t=vh(this,t))&&t.execute()},yh.prototype.getResponse=function(){return _h(this),this.b},yh.prototype.execute=function(){_h(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},yh.prototype.delete=function(){_h(this),this.g=!0,clearTimeout(this.a),this.a=null,dn(this.f,"click",this.i)},Qr(wh,"FACTOR_ID","phone"),Ch.prototype.g=function(){return gh||(gh=new mh),xe(gh)},Ch.prototype.c=function(){};var Th=null;function Eh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Sh=new yt(Tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Oh=new qr(3e4,6e4);Eh.prototype.g=function(t){var e=this;return new _e(function(n,r){var i=setTimeout(function(){r(new O("network-request-failed"))},Oh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new O("internal-error"));delete a[e.a]},xe(Bs(xt(Sh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new O("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},Eh.prototype.c=function(){this.b--};var xh=null;function kh(t,e,n,r,i,o,s){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,s?(Th||(Th=new Ch),s=Th):(xh||(xh=new Eh),s=xh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ph])throw new O("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Dh],!a.document)throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ce(e)||!this.i&&ce(e).hasChildNodes())throw new O("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ys(t,o||null,i||null),this.u=r||function(){return null};var c=this;this.l=[];var u=this.a[Ih];this.a[Ih]=function(t){if(Rh(c,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=Ar(u,a);"function"==typeof e&&e(t)}};var l=this.a[Ah];this.a[Ah]=function(){if(Rh(c,null),"function"==typeof l)l();else if("string"==typeof l){var t=Ar(l,a);"function"==typeof t&&t()}}}var Ih="callback",Ah="expired-callback",Ph="sitekey",Dh="size";function Rh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Nh(t,e){return t.h.push(e),e.oa(function(){$(t.h,e)}),e}function Mh(t){if(t.D)throw new O("internal-error","RecaptchaVerifier instance has been destroyed.")}function jh(t,e,n){var i=!1;try{this.b=n||r.default.app()}catch(a){throw new O("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new O("invalid-api-key");n=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(a){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}s=r.default.SDK_VERSION?kr(r.default.SDK_VERSION,s):null,kh.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},s,D(k),i)}function Lh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new O("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Fh.length)throw new O("internal-error","Argument validator received an unsupported number of arguments.");n=Fh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new O("argument-error",t+" failed: "+r)}(t=kh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Nh(this,xe().then(function(){if(Rr()&&!wr())return br();throw new O("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,tc(t.s,La,{})}).then(function(e){t.a[Ph]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Mh(this);var t=this;return Nh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ce(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ae&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Ht(s.name),'"'),s.type){o.push(' type="',Ht(s.type),'"');var a={};vt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=pe(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ue(o,s)),2<r.length&&fe(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Mh(this);var t=this;return Nh(this,this.render().then(function(e){return new _e(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Q(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Mh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Mh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ce(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},E(jh,kh);var Fh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Uh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Vh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Bh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:m}}function qh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function zh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Hh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Wh(t,e){return m(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Kh(t){return m(t)&&"string"==typeof t.uid}function Gh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Yh(t,e){for(var n in e){var r=e[n].name;t[r]=Xh(r,t[n],e[n].j)}}function $h(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:C(function(t){return this[t]},n),set:C(function(t,e,n,r){Lh(t,[n],[r],!0),this[e]=r},r,n,e[n].kb),enumerable:!0})}}function Qh(t,e,n,r){t[e]=Xh(e,n,r)}function Xh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Lh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Yh(eh.prototype,{jb:{name:"applyActionCode",j:[Uh("code")]},Ra:{name:"checkActionCode",j:[Uh("code")]},nb:{name:"confirmPasswordReset",j:[Uh("code"),Uh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Uh("email"),Uh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Uh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Uh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Gh(Bh(),qh(),"nextOrObserver"),qh("opt_error",!0),qh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Gh(Bh(),qh(),"nextOrObserver"),qh("opt_error",!0),qh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Uh("email"),Gh(Bh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Uh("email"),Bh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Uh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Hh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[Hh()]},Tc:{name:"signInWithCustomToken",j:[Uh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Uh("email"),Uh("password")]},Vc:{name:"signInWithEmailLink",j:[Uh("email"),Uh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Gh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof ml)}},zh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Uh("url"),Bh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Uh("code")]}}),$h(eh.prototype,{lc:{name:"languageCode",kb:Gh(Uh(),zh(),"languageCode")},ti:{name:"tenantId",kb:Gh(Uh(),zh(),"tenantId")}}),(eh.Persistence=Qc).LOCAL="local",eh.Persistence.SESSION="session",eh.Persistence.NONE="none",Yh(ml.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Vh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Vh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Hh()]},qb:{name:"linkWithCredential",j:[Hh()]},Dc:{name:"linkWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Hh()]},tb:{name:"reauthenticateWithCredential",j:[Hh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Uh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Gh(Bh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Uh(null,!0)]},cd:{name:"unlink",j:[Uh("provider")]},Bb:{name:"updateEmail",j:[Uh("email")]},Cb:{name:"updatePassword",j:[Uh("password")]},ed:{name:"updatePhoneNumber",j:[Hh("phone")]},Db:{name:"updateProfile",j:[Bh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Uh("email"),Gh(Bh("opt_actionCodeSettings",!0),zh(null,!0),"opt_actionCodeSettings",!0)]}}),Yh(mh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yh(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),$h(Gu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Vh("appVerificationDisabledForTesting")}}),Yh(Yu.prototype,{confirm:{name:"confirm",j:[Uh("verificationCode")]}}),Qh(co,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[go,Io,No,fo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Gh(Uh(),Bh(),"json")]),Qh(Ao,"credential",function(t,e){return new ko(t,e)},[Uh("email"),Uh("password")]),Yh(ko.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(_o.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Qh(_o,"credential",wo,[Gh(Uh(),Bh(),"token")]),Qh(Ao,"credentialWithLink",Po,[Uh("email"),Uh("emailLink")]),Yh(Co.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Qh(Co,"credential",To,[Gh(Uh(),Bh(),"token")]),Yh(Eo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Qh(Eo,"credential",So,[Gh(Uh(),Gh(Bh(),zh()),"idToken"),Gh(Uh(),zh(),"accessToken",!0)]),Yh(Oo.prototype,{Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Qh(Oo,"credential",xo,[Gh(Uh(),Bh(),"token"),Uh("secret",!0)]),Yh(yo.prototype,{Ca:{name:"addScope",j:[Uh("scope")]},credential:{name:"credential",j:[Gh(Uh(),Gh(Bh(),zh()),"optionsOrIdToken"),Gh(Uh(),zh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Bh("customOAuthParameters")]}}),Yh(po.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(lo.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Qh(jo,"credential",Lo,[Uh("verificationId"),Uh("verificationCode")]),Yh(jo.prototype,{fb:{name:"verifyPhoneNumber",j:[Gh(Uh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Wh(t.session,so)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Wh(t.session,ao)&&Kh(t.multiFactorHint):t.session&&t.multiFactorUid?Wh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Yh(Ro.prototype,{w:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(O.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(Ko.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(Wo.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(tl.prototype,{toJSON:{name:"toJSON",j:[Uh(null,!0)]}}),Yh(Xu.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Yh(sl.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Uh("displayName",!0)]},bd:{name:"unenroll",j:[Gh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Kh},Uh(),"multiFactorInfoIdentifier")]}}),Yh(jh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Qh(wi,"parseLink",Ii,[Uh("link")]),Qh(wh,"assertion",function(t){return new il(t)},[Hh("phone")]),function(){if(void 0===r.default||!r.default.INTERNAL||!r.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ci,VERIFY_AND_CHANGE_EMAIL:li,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:eh,AuthCredential:co,Error:O};Qh(t,"EmailAuthProvider",Ao,[]),Qh(t,"FacebookAuthProvider",_o,[]),Qh(t,"GithubAuthProvider",Co,[]),Qh(t,"GoogleAuthProvider",Eo,[]),Qh(t,"TwitterAuthProvider",Oo,[]),Qh(t,"OAuthProvider",yo,[Uh("providerId")]),Qh(t,"SAMLAuthProvider",bo,[Uh("providerId")]),Qh(t,"PhoneAuthProvider",jo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof eh)}}]),Qh(t,"RecaptchaVerifier",jh,[Gh(Uh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Bh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.default.app.App)}}]),Qh(t,"ActionCodeURL",wi,[]),Qh(t,"PhoneMultiFactorGenerator",wh,[]),r.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new eh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.default.registerVersion("@firebase/auth","0.16.6"),r.default.INTERNAL.extendNamespace({User:ml})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM");class s extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(o.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new s(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(s.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new s(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>{return Object(i.a)()((e=s,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";n.r(e),n.d(e,"firebase",function(){return _});var r,i,o=n("mrSG"),s=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.Logger("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.deepCopy)(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(s.contains)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,o,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),c=e.match(/\s|\//);if(s||c){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}o(new a.Component(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.setUserLogHandler)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(s.contains)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&Object(s.deepExtend)(c,o.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(o.__assign)(Object(o.__assign)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.deepExtend)(e,t)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.22",void 0),t.registerVersion("fire-js","")}(_),e.default=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function o(){return i}const s=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Yb)(l)}const u=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=Object(r.Lb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.Yb)(s))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:v,token:t,providedIn:"root"}),t})();function v(t){const e=Object(r.Yb)(s).location;return new y(Object(r.Yb)(a),e&&e.origin||"")}const b=new r.r("appBaseHref");let y=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(b,8))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(a),r.Yb(b,8))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(T(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,T(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(g),r.Yb(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Lb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w(Object(r.Yb)(g),Object(r.Yb)(a))}function T(t){return t.replace(/\/index.html$/,"")}var E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),S=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),O=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),x=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),k=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function I(t,e){return M(Object(r.mb)(t)[r.cb.DateFormat],e)}function A(t,e){return M(Object(r.mb)(t)[r.cb.TimeFormat],e)}function P(t,e){return M(Object(r.mb)(t)[r.cb.DateTimeFormat],e)}function D(t,e){const n=Object(r.mb)(t),i=n[r.cb.NumberSymbols][e];if(void 0===i){if(e===k.CurrencyDecimal)return n[r.cb.NumberSymbols][k.Decimal];if(e===k.CurrencyGroup)return n[r.cb.NumberSymbols][k.Group]}return i}const R=r.pb;function N(t){if(!t[r.cb.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.cb.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function M(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function j(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const L=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,F={},U=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var V=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),B=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),q=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function z(t,e,n,r){let i=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return H(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(L))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,u),e}(n)}const e=new Date(t);if(!nt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=W(n,e)||e;let o,s=[];for(;e;){if(o=U.exec(e),!o){s.push(e);break}{s=s.concat(o.slice(1));const t=s.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=et(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,r)-r))}(i,r));let c="";return s.forEach(t=>{const e=function(t){if(tt[t])return tt[t];let e;switch(t){case"G":case"GG":case"GGG":e=$(q.Eras,O.Abbreviated);break;case"GGGG":e=$(q.Eras,O.Wide);break;case"GGGGG":e=$(q.Eras,O.Narrow);break;case"y":e=Y(B.FullYear,1,0,!1,!0);break;case"yy":e=Y(B.FullYear,2,0,!0,!0);break;case"yyy":e=Y(B.FullYear,3,0,!1,!0);break;case"yyyy":e=Y(B.FullYear,4,0,!1,!0);break;case"Y":e=Z(1);break;case"YY":e=Z(2,!0);break;case"YYY":e=Z(3);break;case"YYYY":e=Z(4);break;case"M":case"L":e=Y(B.Month,1,1);break;case"MM":case"LL":e=Y(B.Month,2,1);break;case"MMM":e=$(q.Months,O.Abbreviated);break;case"MMMM":e=$(q.Months,O.Wide);break;case"MMMMM":e=$(q.Months,O.Narrow);break;case"LLL":e=$(q.Months,O.Abbreviated,S.Standalone);break;case"LLLL":e=$(q.Months,O.Wide,S.Standalone);break;case"LLLLL":e=$(q.Months,O.Narrow,S.Standalone);break;case"w":e=J(1);break;case"ww":e=J(2);break;case"W":e=J(1,!0);break;case"d":e=Y(B.Date,1);break;case"dd":e=Y(B.Date,2);break;case"E":case"EE":case"EEE":e=$(q.Days,O.Abbreviated);break;case"EEEE":e=$(q.Days,O.Wide);break;case"EEEEE":e=$(q.Days,O.Narrow);break;case"EEEEEE":e=$(q.Days,O.Short);break;case"a":case"aa":case"aaa":e=$(q.DayPeriods,O.Abbreviated);break;case"aaaa":e=$(q.DayPeriods,O.Wide);break;case"aaaaa":e=$(q.DayPeriods,O.Narrow);break;case"b":case"bb":case"bbb":e=$(q.DayPeriods,O.Abbreviated,S.Standalone,!0);break;case"bbbb":e=$(q.DayPeriods,O.Wide,S.Standalone,!0);break;case"bbbbb":e=$(q.DayPeriods,O.Narrow,S.Standalone,!0);break;case"B":case"BB":case"BBB":e=$(q.DayPeriods,O.Abbreviated,S.Format,!0);break;case"BBBB":e=$(q.DayPeriods,O.Wide,S.Format,!0);break;case"BBBBB":e=$(q.DayPeriods,O.Narrow,S.Format,!0);break;case"h":e=Y(B.Hours,1,-12);break;case"hh":e=Y(B.Hours,2,-12);break;case"H":e=Y(B.Hours,1);break;case"HH":e=Y(B.Hours,2);break;case"m":e=Y(B.Minutes,1);break;case"mm":e=Y(B.Minutes,2);break;case"s":e=Y(B.Seconds,1);break;case"ss":e=Y(B.Seconds,2);break;case"S":e=Y(B.FractionalSeconds,1);break;case"SS":e=Y(B.FractionalSeconds,2);break;case"SSS":e=Y(B.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Q(V.Short);break;case"ZZZZZ":e=Q(V.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Q(V.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Q(V.Long);break;default:return null}return tt[t]=e,e}(t);c+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function H(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function W(t,e){const n=function(t){return Object(r.mb)(t)[r.cb.LocaleId]}(t);if(F[n]=F[n]||{},F[n][e])return F[n][e];let i="";switch(e){case"shortDate":i=I(t,x.Short);break;case"mediumDate":i=I(t,x.Medium);break;case"longDate":i=I(t,x.Long);break;case"fullDate":i=I(t,x.Full);break;case"shortTime":i=A(t,x.Short);break;case"mediumTime":i=A(t,x.Medium);break;case"longTime":i=A(t,x.Long);break;case"fullTime":i=A(t,x.Full);break;case"short":const e=W(t,"shortTime"),n=W(t,"shortDate");i=K(P(t,x.Short),[e,n]);break;case"medium":const r=W(t,"mediumTime"),o=W(t,"mediumDate");i=K(P(t,x.Medium),[r,o]);break;case"long":const s=W(t,"longTime"),a=W(t,"longDate");i=K(P(t,x.Long),[s,a]);break;case"full":const c=W(t,"fullTime"),u=W(t,"fullDate");i=K(P(t,x.Full),[c,u])}return i&&(F[n][e]=i),i}function K(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function G(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function Y(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case B.FullYear:return e.getFullYear();case B.Month:return e.getMonth();case B.Date:return e.getDate();case B.Hours:return e.getHours();case B.Minutes:return e.getMinutes();case B.Seconds:return e.getSeconds();case B.FractionalSeconds:return e.getMilliseconds();case B.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===B.Hours)0===a&&-12===n&&(a=12);else if(t===B.FractionalSeconds)return c=e,G(a,3).substr(0,c);var c;const u=D(s,k.MinusSign);return G(a,e,u,r,i)}}function $(t,e,n=S.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case q.Months:return function(t,e,n){const i=Object(r.mb)(t),o=M([i[r.cb.MonthsFormat],i[r.cb.MonthsStandalone]],e);return M(o,n)}(e,o,i)[t.getMonth()];case q.Days:return function(t,e,n){const i=Object(r.mb)(t),o=M([i[r.cb.DaysFormat],i[r.cb.DaysStandalone]],e);return M(o,n)}(e,o,i)[t.getDay()];case q.DayPeriods:const a=t.getHours(),c=t.getMinutes();if(s){const t=function(t){const e=Object(r.mb)(t);return N(e),(e[r.cb.ExtraData][2]||[]).map(t=>"string"==typeof t?j(t):[j(t[0]),j(t[1])])}(e),n=function(t,e,n){const i=Object(r.mb)(t);N(i);const o=M([i[r.cb.ExtraData][0],i[r.cb.ExtraData][1]],e)||[];return M(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&c>=e.minutes,i=a<n.hours||a===n.hours&&c<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===c)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=Object(r.mb)(t),o=M([i[r.cb.DayPeriodsFormat],i[r.cb.DayPeriodsStandalone]],e);return M(o,n)}(e,o,i)[a<12?0:1];case q.Eras:return function(t,e){return M(Object(r.mb)(t)[r.cb.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(o,s,t,e,n,i)}}function Q(t){return function(e,n,r){const i=-1*r,o=D(n,k.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case V.Short:return(i>=0?"+":"")+G(s,2,o)+G(Math.abs(i%60),2,o);case V.ShortGMT:return"GMT"+(i>=0?"+":"")+G(s,1,o);case V.Long:return"GMT"+(i>=0?"+":"")+G(s,2,o)+":"+G(Math.abs(i%60),2,o);case V.Extended:return 0===r?"Z":(i>=0?"+":"")+G(s,2,o)+":"+G(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function X(t){return H(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function J(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=X(n),e=function(t){const e=H(t,0,1).getDay();return H(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return G(i,t,D(r,k.MinusSign))}}function Z(t,e=!1){return function(n,r){return G(X(n).getFullYear(),t,D(r,k.MinusSign),e)}}const tt={};function et(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}class rt{}let it=(()=>{class t extends rt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(R(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.v))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();function ot(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}let st=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.sb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.yb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.t),r.Pb(r.u),r.Pb(r.l),r.Pb(r.F))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class at{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ct=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new at(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new ut(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new ut(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.R),r.Pb(r.M),r.Pb(r.t))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class ut{constructor(t,e){this.record=t,this.view=e}}let lt=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ht,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){dt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){dt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.R),r.Pb(r.M))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ht{constructor(){this.$implicit=null,this.ngIf=null}}function dt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.yb)(e)}'.`)}class ft{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let pt=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),mt=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new ft(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.R),r.Pb(r.M),r.Pb(pt,9))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),gt=(()=>{class t{constructor(t,e,n){n._addDefault(new ft(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.R),r.Pb(r.M),r.Pb(pt,9))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),vt=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.R))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.Bb]}),t})();function bt(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.yb)(t)}'`)}class yt{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class _t{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const wt=new _t,Ct=new yt;let Tt=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.ub)(e))return wt;if(Object(r.vb)(e))return Ct;throw bt(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.ac())},t.\u0275pipe=r.Ob({name:"async",type:t,pure:!1}),t})(),Et=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",r,i){if(null==e||""===e||e!=e)return null;try{return z(e,n,i||this.locale,r)}catch(o){throw bt(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.v))},t.\u0275pipe=r.Ob({name:"date",type:t,pure:!0}),t})(),St=(()=>{class t{transform(e,n,r){if(null==e)return null;if(!this.supports(e))throw bt(t,e);return e.slice(n,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Ob({name:"slice",type:t,pure:!1}),t})(),Ot=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[{provide:rt,useClass:it}]}),t})();function xt(t){return"browser"===t}function kt(t){return"server"===t}let It=(()=>{class t{}return t.\u0275prov=Object(r.Lb)({token:t,providedIn:"root",factory:()=>new At(Object(r.Yb)(s),window)}),t})();class At{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Pt(this.window.history)||Pt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Pt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Dt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Dt,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Nt||(Nt=document.querySelector("base"),Nt)?Nt.getAttribute("href"):null;return null==e?null:(n=e,Rt||(Rt=document.createElement("a")),Rt.setAttribute("href",n),"/"===Rt.pathname.charAt(0)?Rt.pathname:"/"+Rt.pathname);var n}resetBaseElement(){Nt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return ot(document.cookie,t)}}let Rt,Nt=null;const Mt=new r.r("TRANSITION_ID"),jt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Mt,s,r.s],multi:!0}];class Lt{static init(){Object(r.Z)(new Lt)}addToWindow(t){r.rb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.rb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.rb.getAllAngularRootElements=()=>t.getAllRootElements(),r.rb.frameworkStabilizers||(r.rb.frameworkStabilizers=[]),r.rb.frameworkStabilizers.push(t=>{const e=r.rb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Ft=new r.r("EventManagerPlugins");let Ut=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ft),r.Yb(r.A))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();class Vt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Bt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),qt=(()=>{class t extends Bt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(zt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(zt))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();function zt(t){o().remove(t)}const Ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Wt=/%COMP%/g;function Kt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Kt(t,i,n):(i=i.replace(Wt,t),n.push(i))}return n}function Gt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Yt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new $t(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Qt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.S.ShadowDom:return new Xt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Kt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ut),r.Yb(qt),r.Yb(r.c))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();class $t{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Ht[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Ht[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Ht[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.H.DashCase|r.H.Important)?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Gt(n)):this.eventManager.addEventListener(t,e,Gt(n))}}class Qt extends $t{constructor(t,e,n,r){super(t),this.component=n;const i=Kt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Wt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Wt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Xt extends $t{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Kt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Jt=(()=>{class t extends Vt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const Zt=["alt","control","meta","shift"],te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ee={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ne={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let re=(()=>{class t extends Vt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Zt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ee.hasOwnProperty(e)&&(e=ee[e]))}return te[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Zt.forEach(r=>{r!=n&&(0,ne[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),ie=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return Object(r.Yb)(oe)},token:t,providedIn:"root"}),t})(),oe=(()=>{class t extends ie{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.J.NONE:return e;case r.J.HTML:return Object(r.gb)(e,"HTML")?Object(r.zb)(e):Object(r.eb)(this._doc,String(e)).toString();case r.J.STYLE:return Object(r.gb)(e,"Style")?Object(r.zb)(e):e;case r.J.SCRIPT:if(Object(r.gb)(e,"Script"))return Object(r.zb)(e);throw new Error("unsafe value used in a script context");case r.J.URL:return Object(r.qb)(e),Object(r.gb)(e,"URL")?Object(r.zb)(e):Object(r.fb)(String(e));case r.J.RESOURCE_URL:if(Object(r.gb)(e,"ResourceURL"))return Object(r.zb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.hb)(t)}bypassSecurityTrustStyle(t){return Object(r.kb)(t)}bypassSecurityTrustScript(t){return Object(r.jb)(t)}bypassSecurityTrustUrl(t){return Object(r.lb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.ib)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=Object(r.Lb)({factory:function(){return t=Object(r.Yb)(r.o),new oe(t.get(s));var t},token:t,providedIn:"root"}),t})();const se=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){Dt.makeCurrent(),Lt.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.xb)(document),document},deps:[]}],ae=Object(r.T)(r.Y,"browser",se),ce=[[],{provide:r.bb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Ft,useClass:Jt,multi:!0,deps:[s,r.A,r.C]},{provide:Ft,useClass:re,multi:!0,deps:[s]},[],{provide:Yt,useClass:Yt,deps:[Ut,qt,r.c]},{provide:r.G,useExisting:Yt},{provide:Bt,useExisting:qt},{provide:qt,useClass:qt,deps:[s]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:Ut,useClass:Ut,deps:[Ft,r.A]},[]];let ue=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Mt,useExisting:r.c},jt]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(t,12))},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:ce,imports:[Ot,r.f]}),t})();"undefined"!=typeof window&&window;var le=n("LRne"),he=n("HDdC"),de=n("5+tZ");function fe(t,e){return Object(de.a)(t,e,1)}var pe=n("7o/Q");function me(t,e){return function(n){return n.lift(new ge(t,e))}}class ge{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ve(t,this.predicate,this.thisArg))}}class ve extends pe.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var be=n("lJxs");class ye{}class _e{}class we{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof we?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new we;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof we?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ce{encodeKey(t){return Te(t)}encodeValue(t){return Te(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Te(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Ee{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ce,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ee({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Se(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Oe(t){return"undefined"!=typeof Blob&&t instanceof Blob}function xe(t){return"undefined"!=typeof FormData&&t instanceof FormData}class ke{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new we),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ee,this.urlWithParams=e}serializeBody(){return null===this.body?null:Se(this.body)||Oe(this.body)||xe(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ee?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xe(this.body)?null:Oe(this.body)?this.body.type||null:Se(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ee?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new ke(e,n,i,{params:c,headers:a,reportProgress:s,responseType:r,withCredentials:o})}}var Ie=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Ae{constructor(t,e=200,n="OK"){this.headers=t.headers||new we,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Pe extends Ae{constructor(t={}){super(t),this.type=Ie.ResponseHeader}clone(t={}){return new Pe({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class De extends Ae{constructor(t={}){super(t),this.type=Ie.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new De({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Re extends Ae{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ne(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Me=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof ke)r=t;else{let i,o;i=n.headers instanceof we?n.headers:new we(n.headers),n.params&&(o=n.params instanceof Ee?n.params:new Ee({fromObject:n.params})),r=new ke(t,e,void 0!==n.body?n.body:null,{headers:i,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(le.a)(r).pipe(fe(t=>this.handler.handle(t)));if(t instanceof ke||"events"===n.observe)return i;const o=i.pipe(me(t=>t instanceof De));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe(Object(be.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe(Object(be.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe(Object(be.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe(Object(be.a)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ee).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Ne(n,e))}post(t,e,n={}){return this.request("POST",t,Ne(n,e))}put(t,e,n={}){return this.request("PUT",t,Ne(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ye))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();class je{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Le=new r.r("HTTP_INTERCEPTORS");let Fe=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const Ue=/^\)\]\}',?\n/;class Ve{}let Be=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),qe=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new he.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new we(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new Pe({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let u=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof c){const t=c;c=c.replace(Ue,"");try{c=""!==c?JSON.parse(c):null}catch(l){c=t,u&&(u=!1,c={error:l,text:c})}}u?(e.next(new De({body:c,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new Re({error:c,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new Re({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let c=!1;const u=r=>{c||(e.next(o()),c=!0);let i={type:Ie.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:Ie.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",u),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:Ie.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",u),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Ve))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const ze=new r.r("XSRF_COOKIE_NAME"),He=new r.r("XSRF_HEADER_NAME");class We{}let Ke=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ot(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s),r.Yb(r.C),r.Yb(ze))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),Ge=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(We),r.Yb(He))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),Ye=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(Le,[]);this.chain=t.reduceRight((t,e)=>new je(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(_e),r.Yb(r.s))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),$e=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Ge,useClass:Fe}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:ze,useValue:e.cookieName}:[],e.headerName?{provide:He,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[Ge,{provide:Le,useExisting:Ge,multi:!0},{provide:We,useClass:Ke},{provide:ze,useValue:"XSRF-TOKEN"},{provide:He,useValue:"X-XSRF-TOKEN"}]}),t})(),Qe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[Me,{provide:ye,useClass:Ye},qe,{provide:_e,useExisting:qe},Be,{provide:Ve,useExisting:Be}],imports:[[$e.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Xe=n("Cfvw"),Je=n("XNiG"),Ze=n("9ppp");class tn extends Je.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ze.a;return this._value}next(t){super.next(this._value=t)}}var en=n("z+Ro"),nn=n("DH7j");class rn extends pe.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class on extends pe.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var sn=n("SeVD");function an(t,e,n,r,i=new on(t,n,r)){if(!i.closed)return e instanceof he.a?e.subscribe(i):Object(sn.a)(e)(i)}var cn=n("yCtX");const un={};function ln(...t){let e,n;return Object(en.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(nn.a)(t[0])&&(t=t[0]),Object(cn.a)(t,n).lift(new hn(e))}class hn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new dn(t,this.resultSelector))}}class dn extends rn{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(un),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(an(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===un?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const fn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var pn=n("bHdf");function mn(...t){return Object(pn.a)(1)(Object(le.a)(...t))}var gn=n("EY2u");function vn(t){return new he.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Xe.a)(n):Object(gn.b)()).subscribe(e)})}var bn=n("EQ5u"),yn=n("zx2A");function _n(t,e){return"function"==typeof e?n=>n.pipe(_n((n,r)=>Object(Xe.a)(t(n,r)).pipe(Object(be.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new wn(t))}class wn{constructor(t){this.project=t}call(t,e){return e.subscribe(new Cn(t,this.project))}}class Cn extends yn.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new yn.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(yn.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Tn=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function En(t){return e=>0===t?Object(gn.b)():e.lift(new Sn(t))}class Sn{constructor(t){if(this.total=t,this.total<0)throw new Tn}call(t,e){return e.subscribe(new On(t,this.total))}}class On extends pe.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function xn(...t){const e=t[t.length-1];return Object(en.a)(e)?(t.pop(),n=>mn(t,n,e)):e=>mn(t,e)}function kn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new In(t,e,n))}}class In{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new An(t,this.accumulator,this.seed,this.hasSeed))}}class An extends pe.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Pn(t){return function(e){const n=new Dn(t),r=e.lift(n);return n.caught=r}}class Dn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Rn(t,this.selector,this.caught))}}class Rn extends yn.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new yn.a(this);this.add(r);const i=Object(yn.c)(n,r);i!==r&&this.add(i)}}}function Nn(t){return function(e){return 0===t?Object(gn.b)():e.lift(new Mn(t))}}class Mn{constructor(t){if(this.total=t,this.total<0)throw new Tn}call(t,e){return e.subscribe(new jn(t,this.total))}}class jn extends pe.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Ln(t=Vn){return e=>e.lift(new Fn(t))}class Fn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Un(t,this.errorFactory))}}class Un extends pe.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(l_){t=l_}this.destination.error(t)}}}function Vn(){return new fn}function Bn(t=null){return e=>e.lift(new qn(t))}class qn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new zn(t,this.defaultValue))}}class zn extends pe.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Hn=n("SpAZ");function Wn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?me((e,n)=>t(e,n,r)):Hn.a,En(1),n?Bn(e):Ln(()=>new fn))}var Kn=n("vkgz"),Gn=n("x+ZX"),Yn=n("quSY");function $n(t){return e=>e.lift(new Qn(t))}class Qn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Xn(t,this.callback))}}class Xn extends pe.a{constructor(t,e){super(t),this.add(new Yn.a(e))}}class Jn{constructor(t,e){this.id=t,this.url=e}}class Zn extends Jn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tr extends Jn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class er extends Jn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nr extends Jn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rr extends Jn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ir extends Jn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class or extends Jn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sr extends Jn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ar extends Jn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ur{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const mr="primary";class gr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function vr(t){return new gr(t)}function br(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function yr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function _r(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!wr(t[i],e[i]))return!1;return!0}function wr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Cr(t){return Array.prototype.concat.apply([],t)}function Tr(t){return t.length>0?t[t.length-1]:null}function Er(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Sr(t){return Object(r.tb)(t)?t:Object(r.ub)(t)?Object(Xe.a)(Promise.resolve(t)):Object(le.a)(t)}function Or(t,e,n){return n?function(t,e){return _r(t,e)}(t.queryParams,e.queryParams)&&xr(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>wr(t[n],e[n]))}(t.queryParams,e.queryParams)&&kr(t.root,e.root)}function xr(t,e){if(!Rr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!xr(t.children[n],e.children[n]))return!1}return!0}function kr(t,e){return Ir(t,e,e.segments)}function Ir(t,e,n){if(t.segments.length>n.length)return!!Rr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Rr(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!kr(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Rr(t.segments,r)&&!!t.children.primary&&Ir(t.children.primary,e,i)}}class Ar{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vr(this.queryParams)),this._queryParamMap}toString(){return jr.serialize(this)}}class Pr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Er(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lr(this)}}class Dr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=vr(this.parameters)),this._parameterMap}toString(){return Hr(this)}}function Rr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Nr{}class Mr{parse(t){const e=new $r(t);return new Ar(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Fr(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Vr(e)}=${Vr(t)}`).join("&"):`${Vr(e)}=${Vr(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const jr=new Mr;function Lr(t){return t.segments.map(t=>Hr(t)).join("/")}function Fr(t,e){if(!t.hasChildren())return Lr(t);if(e){const e=t.children.primary?Fr(t.children.primary,!1):"",n=[];return Er(t.children,(t,e)=>{e!==mr&&n.push(`${e}:${Fr(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Er(t.children,(t,r)=>{r===mr&&(n=n.concat(e(t,r)))}),Er(t.children,(t,r)=>{r!==mr&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===mr?[Fr(t.children.primary,!1)]:[`${n}:${Fr(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Lr(t)}/${e[0]}`:`${Lr(t)}/(${e.join("//")})`}}function Ur(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vr(t){return Ur(t).replace(/%3B/gi,";")}function Br(t){return Ur(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qr(t){return decodeURIComponent(t)}function zr(t){return qr(t.replace(/\+/g,"%20"))}function Hr(t){return`${Br(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Br(t)}=${Br(e[t])}`).join("")}`;var e}const Wr=/^[^\/()?;=#]+/;function Kr(t){const e=t.match(Wr);return e?e[0]:""}const Gr=/^[^=?&#]+/,Yr=/^[^?&#]+/;class $r{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pr([],{}):new Pr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Pr(t,e)),n}parseSegment(){const t=Kr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Dr(qr(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Kr(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Kr(this.remaining);t&&(n=t,this.capture(n))}t[qr(e)]=qr(n)}parseQueryParam(t){const e=function(t){const e=t.match(Gr);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Yr);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=zr(e),i=zr(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Kr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=mr);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Pr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Qr{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Xr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Jr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Jr(t,this._root).map(t=>t.value)}}function Xr(t,e){if(t===e.value)return e;for(const n of e.children){const e=Xr(t,n);if(e)return e}return null}function Jr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Jr(t,n);if(r.length)return r.unshift(e),r}return[]}class Zr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function ti(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ei extends Qr{constructor(t,e){super(t),this.snapshot=e,ai(this,t)}toString(){return this.snapshot.toString()}}function ni(t,e){const n=function(t,e){const n=new oi([],{},{},"",{},mr,e,null,t.root,-1,{});return new si("",new Zr(n,[]))}(t,e),r=new tn([new Dr("",{})]),i=new tn({}),o=new tn({}),s=new tn({}),a=new tn(""),c=new ri(r,i,s,a,o,mr,e,n.root);return c.snapshot=n.root,new ei(new Zr(c,[]),n)}class ri{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(be.a)(t=>vr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(be.a)(t=>vr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ii(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class oi{constructor(t,e,n,r,i,o,s,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class si extends Qr{constructor(t,e){super(e),this.url=t,ai(this,e)}toString(){return ci(this._root)}}function ai(t,e){e.value._routerState=t,e.children.forEach(e=>ai(t,e))}function ci(t){const e=t.children.length>0?` { ${t.children.map(ci).join(", ")} } `:"";return`${t.value}${e}`}function ui(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,_r(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),_r(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!_r(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),_r(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function li(t,e){return _r(t.params,e.params)&&function(t,e){return Rr(t,e)&&t.every((t,n)=>_r(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||li(t.parent,e.parent))}function hi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return hi(t,e,r);return hi(t,e)})}(t,e,n);return new Zr(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return di(e,t),t}}const n=new ri(new tn((r=e.value).url),new tn(r.params),new tn(r.queryParams),new tn(r.fragment),new tn(r.data),r.outlet,r.component,r),i=e.children.map(e=>hi(t,e));return new Zr(n,i)}var r}function di(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)di(t.children[n],e.children[n])}function fi(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function pi(t){return"object"==typeof t&&null!=t&&t.outlets}function mi(t,e,n,r,i){let o={};return r&&Er(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Ar(n.root===t?e:gi(n.root,t,e),o,i)}function gi(t,e,n){const r={};return Er(t.children,(t,i)=>{r[i]=t===e?n:gi(t,e,n)}),new Pr(t.segments,r)}class vi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&fi(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(pi);if(r&&r!==Tr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function yi(t,e,n){if(t||(t=new Pr([],{})),0===t.segments.length&&t.hasChildren())return _i(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(pi(s))break;const a=`${s}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ei(a,c,e))return o;r+=2}else{if(!Ei(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Pr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Pr(t.segments.slice(r.pathIndex),t.children),_i(e,0,i)}return r.match&&0===i.length?new Pr(t.segments,{}):r.match&&!t.hasChildren()?wi(t,e,n):r.match?_i(t,0,i):wi(t,e,n)}function _i(t,e,n){if(0===n.length)return new Pr(t.segments,{});{const r=function(t){return pi(t[0])?t[0].outlets:{[mr]:t}}(n),i={};return Er(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=yi(t.children[r],e,n))}),Er(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Pr(t.segments,i)}}function wi(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(pi(o)){const t=Ci(o.outlets);return new Pr(r,t)}if(0===i&&fi(n[0])){r.push(new Dr(t.segments[e].path,Ti(n[0]))),i++;continue}const s=pi(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&fi(a)?(r.push(new Dr(s,Ti(a))),i+=2):(r.push(new Dr(s,{})),i++)}return new Pr(r,{})}function Ci(t){const e={};return Er(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=wi(new Pr([],{}),0,t))}),e}function Ti(t){const e={};return Er(t,(t,n)=>e[n]=`${t}`),e}function Ei(t,e,n){return t==n.path&&_r(e,n.parameters)}class Si{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ui(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=ti(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Er(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=ti(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=ti(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new fr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new hr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ui(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Oi(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Oi(t){ui(t.value),t.children.forEach(Oi)}class xi{constructor(t,e){this.routes=t,this.module=e}}function ki(t){return"function"==typeof t}function Ii(t){return t instanceof Ar}const Ai=Symbol("INITIAL_VALUE");function Pi(){return _n(t=>ln(t.map(t=>t.pipe(En(1),xn(Ai)))).pipe(kn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Ai)return t;if(r===Ai&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ii(r))return r}return t},t)},Ai),me(t=>t!==Ai),Object(be.a)(t=>Ii(t)?t:!0===t),En(1)))}let Di=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Qb(0,"router-outlet")},directives:function(){return[xo]},encapsulation:2}),t})();function Ri(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Ni(r,Mi(e,r))}}function Ni(t,e){t.children&&Ri(t.children,e)}function Mi(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function ji(t){const e=t.children&&t.children.map(ji),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==mr&&(n.component=Di),n}function Li(t){return t.outlet||mr}function Fi(t,e){const n=t.filter(t=>Li(t)===e);return n.push(...t.filter(t=>Li(t)!==e)),n}const Ui={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Vi(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Ui):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||yr)(n,t,e);if(!i)return Object.assign({},Ui);const o={};Er(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Bi(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>qi(t,e,n)&&Li(n)!==mr)}(t,n,r)){const i=new Pr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Li(o)!==mr){const n=new Pr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Li(o)]=n}return i}(t,e,r,new Pr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>qi(t,e,n))}(t,n,r)){const o=new Pr(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(qi(t,n,a)&&!i[Li(a)]){const n=new Pr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Li(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Pr(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function qi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function zi(t,e,n,r){return!!(Li(t)===r||r!==mr&&qi(e,n,t))&&("**"===t.path||Vi(e,t,n).matched)}function Hi(t,e,n){return 0===e.length&&!t.children[n]}class Wi{constructor(t){this.segmentGroup=t||null}}class Ki{constructor(t){this.urlTree=t}}function Gi(t){return new he.a(e=>e.error(new Wi(t)))}function Yi(t){return new he.a(e=>e.error(new Ki(t)))}function $i(t){return new he.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Qi{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=Bi(this.urlTree.root,[],[],this.config).segmentGroup,e=new Pr(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,mr).pipe(Object(be.a)(t=>this.createUrlTree(Xi(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Pn(t=>{if(t instanceof Ki)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Wi)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,mr).pipe(Object(be.a)(e=>this.createUrlTree(Xi(e),t.queryParams,t.fragment))).pipe(Pn(t=>{if(t instanceof Wi)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Pr([],{[mr]:t}):t;return new Ar(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(be.a)(t=>new Pr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Xe.a)(r).pipe(fe(r=>{const i=n.children[r],o=Fi(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(be.a)(t=>({segment:t,outlet:r})))}),kn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?me((e,n)=>t(e,n,r)):Hn.a,Nn(1),n?Bn(e):Ln(()=>new fn))}())}expandSegment(t,e,n,r,i,o){return Object(Xe.a)(n).pipe(fe(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Pn(t=>{if(t instanceof Wi)return Object(le.a)(null);throw t}))),Wn(t=>!!t),Pn((t,n)=>{if(t instanceof fn||"EmptyError"===t.name){if(Hi(e,r,i))return Object(le.a)(new Pr([],{}));throw new Wi(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return zi(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Gi(e):Gi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Yi(i):this.lineralizeSegments(n,i).pipe(Object(de.a)(n=>{const i=new Pr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Vi(e,r,i);if(!s)return Gi(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Yi(l):this.lineralizeSegments(r,l).pipe(Object(de.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(le.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(be.a)(t=>(n._loadedConfig=t,new Pr(r,{})))):Object(le.a)(new Pr(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=Vi(e,n,r);if(!o)return Gi(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(de.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:u}=Bi(e,s,c,o),l=new Pr(a.segments,a.children);if(0===u.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(be.a)(t=>new Pr(s,t)));if(0===o.length&&0===u.length)return Object(le.a)(new Pr(s,{}));const h=Li(n)===i;return this.expandSegment(r,l,o,u,h?mr:i,!0).pipe(Object(be.a)(t=>new Pr(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(le.a)(new xi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(le.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(de.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(be.a)(t=>(e._loadedConfig=t,t))):function(t){return new he.a(e=>e.error(br(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(le.a)(new xi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(le.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&ki(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!ki(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Sr(o)});return Object(le.a)(i).pipe(Pi(),Object(Kn.a)(t=>{if(!Ii(t))return;const e=br(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(be.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(le.a)(n);if(r.numberOfChildren>1||!r.children.primary)return $i(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Ar(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Er(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Er(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Pr(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Xi(t){const e={};for(const n of Object.keys(t.children)){const r=Xi(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Pr(t.segments.concat(e.segments),e.children)}return t}(new Pr(t.segments,e))}class Ji{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Zi{constructor(t,e){this.component=t,this.route=e}}function to(t,e,n){const r=t._root;return no(r,e?e._root:null,n,[r.value])}function eo(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function no(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ti(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Rr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Rr(t.url,e.url)||!_r(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!li(t,e)||!_r(t.queryParams,e.queryParams);case"paramsChange":default:return!li(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ji(r)):(o.data=s.data,o._resolvedData=s._resolvedData),no(t,e,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zi(a.outlet.component,s))}else s&&ro(e,a,i),i.canActivateChecks.push(new Ji(r)),no(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Er(o,(t,e)=>ro(t,n.getContext(e),i)),i}function ro(t,e,n){const r=ti(t),i=t.value;Er(r,(t,r)=>{ro(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Zi(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class io{}function oo(t){return new he.a(e=>e.error(t))}class so{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=Bi(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,mr);if(null===e)return null;const n=new oi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},mr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Zr(n,e),i=new si(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ii(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=Fi(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=co(n);return r.sort((t,e)=>t.value.outlet===mr?-1:e.value.outlet===mr?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Hi(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!zi(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Tr(n).parameters:{};i=new oi(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ho(t),Li(t),t.component,t,uo(e),lo(e)+n.length,fo(t))}else{const r=Vi(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new oi(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ho(t),Li(t),t.component,t,uo(e),lo(e)+o.length,fo(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Bi(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Zr(i,t)]}if(0===a.length&&0===u.length)return[new Zr(i,[])];const l=Li(t)===r,h=this.processSegment(a,c,u,l?mr:r);return null===h?null:[new Zr(i,h)]}}function ao(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function co(t){const e=[],n=new Set;for(const r of t){if(!ao(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=co(r.children);e.push(new Zr(r.value,t))}return e.filter(t=>!n.has(t))}function uo(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function lo(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ho(t){return t.data||{}}function fo(t){return t.resolve||{}}function po(t){return _n(e=>{const n=t(e);return n?Object(Xe.a)(n).pipe(Object(be.a)(()=>e)):Object(le.a)(e)})}class mo extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const go=new r.r("ROUTES");class vo{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(be.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new xi(Cr(i.injector.get(go,void 0,r.q.Self|r.q.Optional)).map(ji),i)}),Pn(t=>{throw e._loader$=void 0,t}));return e._loader$=new bn.a(n,()=>new Je.a).pipe(Object(Gn.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(Xe.a)(this.loader.load(t)):Sr(t()).pipe(Object(de.a)(t=>t instanceof r.w?Object(le.a)(t):Object(Xe.a)(this.compiler.compileModuleAsync(t))))}}class bo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new yo,this.attachRef=null}}class yo{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new bo,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class _o{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function wo(t){throw t}function Co(t,e,n){return e.parse("/")}function To(t,e){return Object(le.a)(null)}let Eo=(()=>{class t{constructor(t,e,n,i,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Je.a,this.errorHandler=wo,this.malformedUriErrorHandler=Co,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:To,afterPreactivation:To},this.urlHandlingStrategy=new _o,this.routeReuseStrategy=new mo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.y),this.console=o.get(r.ab);const u=o.get(r.A);this.isNgZoneEnabled=u instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Ar(new Pr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vo(s,a,t=>this.triggerEvent(new cr(t)),t=>this.triggerEvent(new ur(t))),this.routerState=ni(this.currentUrlTree,this.rootComponentType),this.transitions=new tn({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(me(t=>0!==t.id),Object(be.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),_n(t=>{let n=!1,r=!1;return Object(le.a)(t).pipe(Object(Kn.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_n(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(le.a)(t).pipe(_n(t=>{const n=this.transitions.getValue();return e.next(new Zn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?gn.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,_n(t=>function(t,e,n,r,i){return new Qi(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(be.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Kn.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(de.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new so(t,e,n,r,i,o).recognize();return null===s?oo(new io):Object(le.a)(s)}catch(l_){return oo(l_)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(be.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Kn.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new rr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Zn(n,this.serializeUrl(r),i,o);e.next(a);const c=ni(r,this.rootComponentType).snapshot;return Object(le.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),gn.a}),po(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Kn.a)(t=>{const e=new ir(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(be.a)(t=>Object.assign(Object.assign({},t),{guards:to(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(de.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(le.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Xe.a)(t).pipe(Object(de.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(le.a)(!0);const s=o.map(o=>{const s=eo(o,e,i);let a;if(function(t){return t&&ki(t.canDeactivate)}(s))a=Sr(s.canDeactivate(t,e,n,r));else{if(!ki(s))throw new Error("Invalid CanDeactivate guard");a=Sr(s(t,e,n,r))}return a.pipe(Wn())});return Object(le.a)(s).pipe(Pi())}(t.component,t.route,n,e,r)),Wn(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(de.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Xe.a)(e).pipe(fe(e=>mn(function(t,e){return null!==t&&e&&e(new lr(t)),Object(le.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new dr(t)),Object(le.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>vn(()=>{const i=e.guards.map(i=>{const o=eo(i,e.node,n);let s;if(function(t){return t&&ki(t.canActivateChild)}(o))s=Sr(o.canActivateChild(r,t));else{if(!ki(o))throw new Error("Invalid CanActivateChild guard");s=Sr(o(r,t))}return s.pipe(Wn())});return Object(le.a)(i).pipe(Pi())}));return Object(le.a)(i).pipe(Pi())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(le.a)(!0);const i=r.map(r=>vn(()=>{const i=eo(r,e,n);let o;if(function(t){return t&&ki(t.canActivate)}(i))o=Sr(i.canActivate(e,t));else{if(!ki(i))throw new Error("Invalid CanActivate guard");o=Sr(i(e,t))}return o.pipe(Wn())}));return Object(le.a)(i).pipe(Pi())}(t,e.route,n))),Wn(t=>!0!==t,!0))}(r,o,t,e):Object(le.a)(n)),Object(be.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Kn.a)(t=>{if(Ii(t.guardsResult)){const e=br(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new or(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),me(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new er(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),po(t=>{if(t.guards.canActivateChecks.length)return Object(le.a)(t).pipe(Object(Kn.a)(t=>{const e=new sr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),_n(t=>{let n=!1;return Object(le.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(de.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(le.a)(t);let o=0;return Object(Xe.a)(n).pipe(fe(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(le.a)({});const o={};return Object(Xe.a)(i).pipe(Object(de.a)(i=>function(t,e,n,r){const i=eo(t,e,r);return Sr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Kn.a)(t=>{o[i]=t}))),Nn(1),Object(de.a)(()=>Object.keys(o).length===i.length?Object(le.a)(o):gn.a))}(t._resolve,t,e,r).pipe(Object(be.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ii(t,n).resolve),null)))}(t.route,e,r,i)),Object(Kn.a)(()=>o++),Nn(1),Object(de.a)(e=>o===n.length?Object(le.a)(t):gn.a))})),Object(Kn.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new er(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Kn.a)(t=>{const e=new ar(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),po(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(be.a)(t=>{const e=function(t,e,n){const r=hi(t,e._root,n?n._root:void 0);return new ei(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Kn.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=t=>this.triggerEvent(t),Object(be.a)(t=>(new Si(o,t.targetRouterState,t.currentRouterState,s).activate(i),t))),Object(Kn.a)({next(){n=!0},complete(){n=!0}}),$n(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new er(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Pn(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ii(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new er(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new nr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(Ah){t.reject(Ah)}}var i;return gn.a}));var i,o,s}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ri(t),this.config=t.map(ji),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i;let u=null;switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return mi(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new vi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Er(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new vi(n,e,r)}(n);if(o.toRoot())return mi(e.root,new Pr([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new bi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new bi(t,t===e.root,0)}const r=fi(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new bi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?_i(s.segmentGroup,s.index,o.commands):yi(s.segmentGroup,s.index,o.commands);return mi(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Ii(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(l_){e=this.malformedUriErrorHandler(l_,this.urlSerializer,t)}return e}isActive(t,e){if(Ii(t))return Or(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Or(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new tr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.O),r.Yb(Nr),r.Yb(yo),r.Yb(w),r.Yb(r.s),r.Yb(r.x),r.Yb(r.i),r.Yb(void 0))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),So=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Je.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Oo(this.skipLocationChange),replaceUrl:Oo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Oo(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Eo),r.Pb(ri),r.Zb("tabindex"),r.Pb(r.F),r.Pb(r.l))},t.\u0275dir=r.Kb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.bc("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Bb]}),t})();function Oo(t){return""===t||!!t}let xo=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||mr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ko(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(yo),r.Pb(r.R),r.Pb(r.j),r.Zb("name"),r.Pb(r.h))},t.\u0275dir=r.Kb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ko{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ri?this.route:t===yo?this.childContexts:this.parent.get(t,e)}}class Io{}class Ao{preload(t,e){return Object(le.a)(null)}}let Po=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new vo(e,n,e=>t.triggerEvent(new cr(e)),e=>t.triggerEvent(new ur(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(me(t=>t instanceof tr),fe(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Xe.a)(n).pipe(Object(pn.a)(),Object(be.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(le.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(de.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Eo),r.Yb(r.x),r.Yb(r.i),r.Yb(r.s),r.Yb(Io))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),Do=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Zn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new pr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Eo),r.Yb(It),r.Yb(void 0))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const Ro=new r.r("ROUTER_CONFIGURATION"),No=new r.r("ROUTER_FORROOT_GUARD"),Mo=[w,{provide:Nr,useClass:Mr},{provide:Eo,useFactory:function(t,e,n,r,i,s,a,c={},u,l){const h=new Eo(null,t,e,n,r,i,s,Cr(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Nr,yo,w,r.s,r.x,r.i,go,Ro,[class{},new r.B],[class{},new r.B]]},yo,{provide:ri,useFactory:function(t){return t.routerState.root},deps:[Eo]},{provide:r.x,useClass:r.L},Po,Ao,class{preload(t,e){return e().pipe(Pn(()=>Object(le.a)(null)))}},{provide:Ro,useValue:{enableTracing:!1}}];function jo(){return new r.z("Router",Eo)}let Lo=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Mo,Bo(e),{provide:No,useFactory:Vo,deps:[[Eo,new r.B,new r.K]]},{provide:Ro,useValue:n||{}},{provide:g,useFactory:Uo,deps:[a,[new r.p(b),new r.B],Ro]},{provide:Do,useFactory:Fo,deps:[Eo,It,Ro]},{provide:Io,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ao},{provide:r.z,multi:!0,useFactory:jo},[qo,{provide:r.d,multi:!0,useFactory:zo,deps:[qo]},{provide:Wo,useFactory:Ho,deps:[qo]},{provide:r.b,multi:!0,useExisting:Wo}]]}}static forChild(e){return{ngModule:t,providers:[Bo(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(No,8),r.Yb(Eo,8))},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();function Fo(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Do(t,e,n)}function Uo(t,e,n={}){return n.useHash?new _(t,e):new y(t,e)}function Vo(t){return"guarded"}function Bo(t){return[{provide:r.a,multi:!0,useValue:t},{provide:go,multi:!0,useValue:t}]}let qo=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Je.a}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Eo),r=this.injector.get(Ro);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(le.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Ro),n=this.injector.get(Po),i=this.injector.get(Do),o=this.injector.get(Eo),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.s))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();function zo(t){return t.appInitializer.bind(t)}function Ho(t){return t.bootstrapListener.bind(t)}const Wo=new r.r("Router Initializer");let Ko=(()=>{class t{}return t.USER_ICON="./assets/user-icon.png",t.PASSWORD_ICON="./assets/password-icon.png",t.GOOGLE_ICON="./assets/google-icon.png",t.APP_ICON="./assets/home-cinema.png",t.SEARCH_ICON="./assets/loupe.png",t.SIGN_IN_URL="/sign-in",t.SIGN_UP_URL="/sign-up",t.FORGOT_PASSWORD_URL="/forgot-password",t.CHARTS_URL="/dashboard",t})();var Go=n("mrSG"),Yo=n("zIRd"),$o=(n("t6oF"),n("6Uf2"),n("qOnz")),Qo=n("q/0M"),Xo=function(t,e){return(Xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Jo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Zo,ts="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},es=es||{},ns=ts||self;function rs(){}function is(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function os(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ss="closure_uid_"+(1e9*Math.random()>>>0),as=0;function cs(t,e,n){return t.call.apply(t.bind,arguments)}function us(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ls(t,e,n){return(ls=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cs:us).apply(null,arguments)}function hs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function ds(){return Date.now()}function fs(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function ps(){this.j=this.j,this.i=this.i}ps.prototype.j=!1,ps.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ss)&&t[ss]||(t[ss]=++as)}(this)},ps.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var ms=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},gs=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function vs(t){return Array.prototype.concat.apply([],arguments)}function bs(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function ys(t){return/^[\s\xa0]*$/.test(t)}var _s,ws=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Cs(t,e){return-1!=t.indexOf(e)}function Ts(t,e){return t<e?-1:t>e?1:0}t:{var Es=ns.navigator;if(Es){var Ss=Es.userAgent;if(Ss){_s=Ss;break t}}_s=""}function Os(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function xs(t){var e={};for(var n in t)e[n]=t[n];return e}var ks="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Is(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ks.length;o++)n=ks[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function As(t){return As[" "](t),t}As[" "]=rs;var Ps,Ds,Rs=Cs(_s,"Opera"),Ns=Cs(_s,"Trident")||Cs(_s,"MSIE"),Ms=Cs(_s,"Edge"),js=Ms||Ns,Ls=Cs(_s,"Gecko")&&!(Cs(_s.toLowerCase(),"webkit")&&!Cs(_s,"Edge"))&&!(Cs(_s,"Trident")||Cs(_s,"MSIE"))&&!Cs(_s,"Edge"),Fs=Cs(_s.toLowerCase(),"webkit")&&!Cs(_s,"Edge");function Us(){var t=ns.document;return t?t.documentMode:void 0}t:{var Vs="",Bs=(Ds=_s,Ls?/rv:([^\);]+)(\)|;)/.exec(Ds):Ms?/Edge\/([\d\.]+)/.exec(Ds):Ns?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ds):Fs?/WebKit\/(\S+)/.exec(Ds):Rs?/(?:Version)[ \/]?(\S+)/.exec(Ds):void 0);if(Bs&&(Vs=Bs?Bs[1]:""),Ns){var qs=Us();if(null!=qs&&qs>parseFloat(Vs)){Ps=String(qs);break t}}Ps=Vs}var zs={};function Hs(t){return function(t,e){var n=zs;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ws(String(Ps)).split("."),r=ws(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=Ts(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||Ts(0==s[2].length,0==a[2].length)||Ts(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Ws=ns.document&&Ns&&(Us()||parseInt(Ps,10))||void 0,Ks=!Ns||9<=Number(Ws),Gs=Ns&&!Hs("9"),Ys=function(){if(!ns.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ns.addEventListener("test",rs,e),ns.removeEventListener("test",rs,e)}catch(n){}return t}();function $s(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Qs(t,e){if($s.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Ls){t:{try{As(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Xs[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}$s.prototype.b=function(){this.defaultPrevented=!0},fs(Qs,$s);var Xs={2:"touch",3:"pen",4:"mouse"};Qs.prototype.b=function(){Qs.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Gs)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Js="closure_listenable_"+(1e6*Math.random()|0),Zs=0;function ta(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Zs,this.Y=this.Z=!1}function ea(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function na(t){this.src=t,this.a={},this.b=0}function ra(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=ms(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ea(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ia(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}na.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ia(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ta(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var oa="closure_lm_"+(1e6*Math.random()|0),sa={};function aa(t,e,n,r,i){if(r&&r.once)return ua(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)aa(t,e[o],n,r,i);return null}return n=va(n),t&&t[Js]?t.va(e,n,os(r)?!!r.capture:!!r,i):ca(t,e,n,!1,r,i)}function ca(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=os(i)?!!i.capture:!!i;if(s&&!Ks)return null;var a=ma(t);if(a||(t[oa]=a=new na(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=pa,e=Ks?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ys||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(da(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ua(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)ua(t,e[o],n,r,i);return null}return n=va(n),t&&t[Js]?t.wa(e,n,os(r)?!!r.capture:!!r,i):ca(t,e,n,!0,r,i)}function la(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)la(t,e[o],n,r,i);else r=os(r)?!!r.capture:!!r,n=va(n),t&&t[Js]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ia(o=t.a[e],n,r,i))&&(ea(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=ma(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ia(e,n,r,i)),(n=-1<t?e[t]:null)&&ha(n))}function ha(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Js])ra(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(da(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ma(e))?(ra(n,t),0==n.b&&(n.src=null,e[oa]=null)):ea(t)}}}function da(t){return t in sa?sa[t]:sa[t]="on"+t}function fa(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ha(t),n.call(r,e)}function pa(t,e){if(t.Y)return!0;if(!Ks){if(!e)t:{e=["window","event"];for(var n=ns,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return fa(t,e=new Qs(e,this))}return fa(t,new Qs(e,this))}function ma(t){return(t=t[oa])instanceof na?t:null}var ga="__closure_events_fn_"+(1e9*Math.random()>>>0);function va(t){return"function"==typeof t?t:(t[ga]||(t[ga]=function(e){return t.handleEvent(e)}),t[ga])}function ba(){ps.call(this),this.c=new na(this),this.J=this,this.C=null}function ya(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new $s(e,t);else if(e instanceof $s)e.target=e.target||t;else{var i=e;Is(e=new $s(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=_a(s,r,!0,e)&&i}if(i=_a(s=e.a=t,r,!0,e)&&i,i=_a(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=_a(s=e.a=n[o],r,!1,e)&&i}function _a(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,c=s.ca||s.src;s.Z&&ra(t.c,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}fs(ba,ps),ba.prototype[Js]=!0,(Zo=ba.prototype).addEventListener=function(t,e,n,r){aa(this,t,e,n,r)},Zo.removeEventListener=function(t,e,n,r){la(this,t,e,n,r)},Zo.G=function(){if(ba.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ea(n[r]);delete e.a[t],e.b--}}this.C=null},Zo.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Zo.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var wa=ns.JSON.stringify;function Ca(){this.b=this.a=null}var Ta,Ea=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Oa},function(t){t.reset()});function Sa(){var t=Aa,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Oa(){this.next=this.b=this.a=null}function xa(t){ns.setTimeout(function(){throw t},0)}function ka(t,e){Ta||function(){var t=ns.Promise.resolve(void 0);Ta=function(){t.then(Pa)}}(),Ia||(Ta(),Ia=!0),Aa.add(t,e)}Ca.prototype.add=function(t,e){var n=Ea.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Oa.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Oa.prototype.reset=function(){this.next=this.b=this.a=null};var Ia=!1,Aa=new Ca;function Pa(){for(var t;t=Sa();){try{t.a.call(t.b)}catch(n){xa(n)}var e=Ea;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Ia=!1}function Da(t,e){ba.call(this),this.b=t||1,this.a=e||ns,this.f=ls(this.Za,this),this.g=ds()}function Ra(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Na(t,e,n){if("function"==typeof t)n&&(t=ls(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ls(t.handleEvent,t)}return 2147483647<Number(e)?-1:ns.setTimeout(t,e||0)}function Ma(t){t.a=Na(function(){t.a=null,t.c&&(t.c=!1,Ma(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}fs(Da,ba),(Zo=Da.prototype).aa=!1,Zo.M=null,Zo.Za=function(){if(this.aa){var t=ds()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),ya(this,"tick"),this.aa&&(Ra(this),this.start()))}},Zo.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=ds())},Zo.G=function(){Da.X.G.call(this),Ra(this),delete this.a};var ja=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Xo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ma(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ns.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(ps);function La(t){ps.call(this),this.b=t,this.a={}}fs(La,ps);var Fa=[];function Ua(t,e,n,r){Array.isArray(n)||(n&&(Fa[0]=n.toString()),n=Fa);for(var i=0;i<n.length;i++){var o=aa(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Va(t){Os(t.a,function(t,e){this.a.hasOwnProperty(e)&&ha(t)},t),t.a={}}function Ba(){this.a=!0}function qa(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return wa(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}La.prototype.G=function(){La.X.G.call(this),Va(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ba.prototype.info=function(){};var za={},Ha=null;function Wa(){return Ha=Ha||new ba}function Ka(t){$s.call(this,za.Fa,t)}function Ga(t){var e=Wa();ya(e,new Ka(e,t))}function Ya(t,e){$s.call(this,za.STAT_EVENT,t),this.stat=e}function $a(t){var e=Wa();ya(e,new Ya(e,t))}function Qa(t){$s.call(this,za.Ga,t)}function Xa(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ns.setTimeout(function(){t()},e)}za.Fa="serverreachability",fs(Ka,$s),za.STAT_EVENT="statevent",fs(Ya,$s),za.Ga="timingevent",fs(Qa,$s);var Ja={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Za={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function tc(){}function ec(){}tc.prototype.a=null;var nc,rc={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function ic(){$s.call(this,"d")}function oc(){$s.call(this,"c")}function sc(){}function ac(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new La(this),this.P=cc,this.R=new Da(t=js?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}fs(ic,$s),fs(oc,$s),fs(sc,tc),nc=new sc;var cc=45e3,uc={},lc={};function hc(t,e,n){t.H=1,t.i=Rc(xc(e)),t.j=n,t.I=!0,dc(t,null)}function dc(t,e){t.u=ds(),mc(t),t.l=xc(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Kc(n.b,"t",r),t.D=0,t.a=Vu(t.g,t.g.C?e:null),0<t.O&&(t.F=new ja(ls(t.Ca,t,t.a),t.O)),Ua(t.J,t.a,"readystatechange",t.Xa),e=t.B?xs(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ga(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+u+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function fc(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=pc(t,n);if(i==lc){4==e&&(t.h=4,$a(14),r=!1),qa(t.c,t.f,null,"[Incomplete Response]");break}if(i==uc){t.h=4,$a(15),qa(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}qa(t.c,t.f,i,null),_c(t,i)}4==e&&0==n.length&&(t.h=1,$a(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Du(e),e.F=!0,$a(11))):(qa(t.c,t.f,n,"[Invalid Chunked Response]"),yc(t),bc(t))}function pc(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?lc:(n=Number(e.substring(n,r)),isNaN(n)?uc:(r+=1)+n>e.length?lc:(e=e.substr(r,n),t.D=r+n,e))}function mc(t){t.T=ds()+t.P,gc(t,t.P)}function gc(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Xa(ls(t.Va,t),e)}function vc(t){t.o&&(ns.clearTimeout(t.o),t.o=null)}function bc(t){0==t.g.v||t.A||Mu(t.g,t)}function yc(t){vc(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ra(t.R),Va(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function _c(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Zc(n.b,t)))if(n.I=t.N,!t.C&&Zc(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(xy){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Nu(n),Tu(n)}Pu(n),$a(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Xa(ls(n.Sa,n),6e3));if(1>=Jc(n.b)&&n.ea){try{n.ea()}catch(xy){}n.ea=void 0}}else Lu(n,11)}else if((t.C||n.a==t)&&Nu(n),!ys(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(Cs(l,"spdy")||Cs(l,"quic")||Cs(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(tu(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,Dc(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=ds()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=Uu(c,c.C?c.ga:null,c.fa),f.C){eu(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(vc(p),mc(p)),c.a=f}else Au(c);0<n.g.length&&Ou(n)}else"stop"!=i[0]&&"close"!=i[0]||Lu(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Lu(n,7):Cu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ga(4)}catch(xy){}}function wc(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(is(t)||"string"==typeof t)gs(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(is(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(is(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Cc(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Cc)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Tc(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ec(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ec(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ec(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Zo=ac.prototype).setTimeout=function(t){this.P=t},Zo.Xa=function(t){t=t.target;var e=this.F;e&&3==bu(t)?e.f():this.Ca(t)},Zo.Ca=function(t){try{if(t==this.a)t:{var e=bu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!js&&!this.a.$())){this.A||4!=e||7==n||Ga(8==n||0>=r?3:2),vc(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ys(s)){var c=s;break e}}c=null}if(!c){this.b=!1,this.h=3,$a(12),yc(this),bc(this);break t}qa(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,_c(this,c)}this.I?(fc(this,e,o),js&&this.b&&3==e&&(Ua(this.J,this.R,"tick",this.Wa),this.R.start())):(qa(this.c,this.f,o,null),_c(this,o)),4==e&&yc(this),this.b&&!this.A&&(4==e?Mu(this.g,this):(this.b=!1,mc(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,$a(12)):(this.h=0,$a(13)),yc(this),bc(this)}}}catch(u){}},Zo.Wa=function(){if(this.a){var t=bu(this.a),e=this.a.$();this.D<e.length&&(vc(this),fc(this,t,e),this.b&&4!=t&&mc(this))}},Zo.cancel=function(){this.A=!0,yc(this)},Zo.Va=function(){this.o=null;var t=ds();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ga(3),$a(17)),yc(this),this.h=2,bc(this)):gc(this,this.T-t)},(Zo=Cc.prototype).K=function(){Tc(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Zo.L=function(){return Tc(this),this.a.concat()},Zo.get=function(t,e){return Ec(this.b,t)?this.b[t]:e},Zo.set=function(t,e){Ec(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Zo.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Sc=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oc(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Oc){this.a=void 0!==e?e:t.a,kc(this,t.f),this.j=t.j,Ic(this,t.c),Ac(this,t.h),this.g=t.g,e=t.b;var n=new qc;n.c=e.c,e.a&&(n.a=new Cc(e.a),n.b=e.b),Pc(this,n),this.i=t.i}else t&&(n=String(t).match(Sc))?(this.a=!!e,kc(this,n[1]||"",!0),this.j=Nc(n[2]||""),Ic(this,n[3]||"",!0),Ac(this,n[4]),this.g=Nc(n[5]||"",!0),Pc(this,n[6]||"",!0),this.i=Nc(n[7]||"")):(this.a=!!e,this.b=new qc(null,this.a))}function xc(t){return new Oc(t)}function kc(t,e,n){t.f=n?Nc(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ic(t,e,n){t.c=n?Nc(e,!0):e}function Ac(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Pc(t,e,n){e instanceof qc?(t.b=e,function(t,e){e&&!t.f&&(zc(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Hc(this,e),Kc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Mc(e,Vc)),t.b=new qc(e,t.a))}function Dc(t,e,n){t.b.set(e,n)}function Rc(t){return Dc(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ds()).toString(36)),t}function Nc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Mc(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,jc),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function jc(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Oc.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Mc(e,Lc,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Mc(e,Lc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Mc(n,"/"==n.charAt(0)?Uc:Fc,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Mc(n,Bc)),t.join("")};var Lc=/[#\/\?@]/g,Fc=/[#\?:]/g,Uc=/[#\?]/g,Vc=/[#\?@]/g,Bc=/#/g;function qc(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function zc(t){t.a||(t.a=new Cc,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Hc(t,e){zc(t),e=Gc(t,e),Ec(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ec((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Tc(t)))}function Wc(t,e){return zc(t),e=Gc(t,e),Ec(t.a.b,e)}function Kc(t,e,n){Hc(t,e),0<n.length&&(t.c=null,t.a.set(Gc(t,e),bs(n)),t.b+=n.length)}function Gc(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Zo=qc.prototype).add=function(t,e){zc(this),this.c=null,t=Gc(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Zo.forEach=function(t,e){zc(this),this.a.forEach(function(n,r){gs(n,function(n){t.call(e,n,r,this)},this)},this)},Zo.L=function(){zc(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Zo.K=function(t){zc(this);var e=[];if("string"==typeof t)Wc(this,t)&&(e=vs(e,this.a.get(Gc(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=vs(e,t[n])}return e},Zo.set=function(t,e){return zc(this),this.c=null,Wc(this,t=Gc(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Zo.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Zo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Yc=function(){return function(t,e){this.b=t,this.a=e}}();function $c(t){this.g=t||Qc,t=ns.PerformanceNavigationTiming?0<(t=ns.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ns.ia&&ns.ia.ya&&ns.ia.ya()&&ns.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Qc=10;function Xc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Jc(t){return t.b?1:t.a?t.a.size:0}function Zc(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function tu(t,e){t.a?t.a.add(e):t.b=e}function eu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function nu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Jo(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return bs(t.c)}function ru(){}function iu(){this.a=new ru}function ou(t,e,n){var r=n||"";try{wc(t,function(t,n){var i=t;os(t)&&(i=wa(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(l_){throw e.push(r+"type="+encodeURIComponent("_badmap")),l_}}function su(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}$c.prototype.cancel=function(){var t,e;if(this.c=nu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Jo(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ru.prototype.stringify=function(t){return ns.JSON.stringify(t,void 0)},ru.prototype.parse=function(t){return ns.JSON.parse(t,void 0)};var au=ns.JSON.parse;function cu(t){ba.call(this),this.headers=new Cc,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=uu,this.D=this.F=!1}fs(cu,ba);var uu="",lu=/^https?$/i,hu=["POST","PUT"];function du(t){return"content-type"==t.toLowerCase()}function fu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,pu(t),gu(t)}function pu(t){t.u||(t.u=!0,ya(t,"complete"),ya(t,"error"))}function mu(t){if(t.b&&void 0!==es&&(!t.s[1]||4!=bu(t)||2!=t.W()))if(t.l&&4==bu(t))Na(t.za,0,t);else if(ya(t,"readystatechange"),4==bu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Sc)[1]||null;if(!o&&ns.self&&ns.self.location){var s=ns.self.location.protocol;o=s.substr(0,s.length-1)}i=!lu.test(o?o.toLowerCase():"")}e=i}if(e)ya(t,"complete"),ya(t,"success");else{t.h=6;try{var a=2<bu(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",pu(t)}}finally{gu(t)}}}function gu(t,e){if(t.a){vu(t);var n=t.a,r=t.s[0]?rs:null;t.a=null,t.s=null,e||ya(t,"ready");try{n.onreadystatechange=r}catch(l_){}}}function vu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ns.clearTimeout(t.m),t.m=null)}function bu(t){return t.a?t.a.readyState:0}function yu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Os(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Dc(t,e,n))}function _u(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function wu(t){this.pa=0,this.g=[],this.c=new Ba,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=_u("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=_u("baseRetryDelayMs",5e3,t),this.Ra=_u("retryDelaySeedMs",1e4,t),this.Ma=_u("forwardChannelMaxRetries",2,t),this.ma=_u("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new $c(t&&t.concurrentRequestLimit),this.ka=new iu,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Cu(t){if(Eu(t),3==t.v){var e=t.R++,n=xc(t.B);Dc(n,"SID",t.J),Dc(n,"RID",e),Dc(n,"TYPE","terminate"),ku(t,n),(e=new ac(t,t.c,e,void 0)).H=2,e.i=Rc(xc(n)),n=!1,ns.navigator&&ns.navigator.sendBeacon&&(n=ns.navigator.sendBeacon(e.i.toString(),"")),!n&&ns.Image&&((new Image).src=e.i,n=!0),n||(e.a=Vu(e.g,null),e.a.ba(e.i)),e.u=ds(),mc(e)}Fu(t)}function Tu(t){t.a&&(Du(t),t.a.cancel(),t.a=null)}function Eu(t){Tu(t),t.j&&(ns.clearTimeout(t.j),t.j=null),Nu(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ns.clearTimeout(t.h),t.h=null)}function Su(t,e){t.g.push(new Yc(t.Oa++,e)),3==t.v&&Ou(t)}function Ou(t){Xc(t.b)||t.h||(t.h=!0,ka(t.Ba,t),t.u=0)}function xu(t,e){var n;n=e?e.f:t.R++;var r=xc(t.B);Dc(r,"SID",t.J),Dc(r,"RID",n),Dc(r,"AID",t.P),ku(t,r),t.i&&t.l&&yu(r,t.i,t.l),n=new ac(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Iu(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),tu(t.b,n),hc(n,r,e)}function ku(t,e){t.f&&wc({},function(t,n){Dc(e,n,t)})}function Iu(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ls(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=o))o=Math.max(0,i[c].b-100),a=!1;else try{ou(l,s,"req"+u+"_")}catch(gl){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Au(t){t.a||t.j||(t.T=1,ka(t.Aa,t),t.o=0)}function Pu(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Xa(ls(t.Aa,t),ju(t,t.o)),t.o++,0))}function Du(t){null!=t.s&&(ns.clearTimeout(t.s),t.s=null)}function Ru(t){t.a=new ac(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=xc(t.la);Dc(e,"RID","rpc"),Dc(e,"SID",t.J),Dc(e,"CI",t.H?"0":"1"),Dc(e,"AID",t.P),ku(t,e),Dc(e,"TYPE","xmlhttp"),t.i&&t.l&&yu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Rc(xc(e)),n.j=null,n.I=!0,dc(n,t)}function Nu(t){null!=t.m&&(ns.clearTimeout(t.m),t.m=null)}function Mu(t,e){var n=null;if(t.a==e){Nu(t),Du(t),t.a=null;var r=2}else{if(!Zc(t.b,e))return;n=e.s,eu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=ds()-e.u;var i=t.u;ya(r=Wa(),new Qa(r,n,e,i)),Ou(t)}else Au(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Jc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Xa(ls(t.Ba,t,e),ju(t,t.u)),t.u++,0)))}(t,e)||2==r&&Pu(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Lu(t,5);break;case 4:Lu(t,10);break;case 3:Lu(t,6);break;default:Lu(t,2)}}function ju(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Lu(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ls(t.Ya,t);n||(n=new Oc("//www.google.com/images/cleardot.gif"),ns.location&&"http"==ns.location.protocol||kc(n,"https"),Rc(n)),function(t,e){var n=new Ba;if(ns.Image){var r=new Image;r.onload=hs(su,n,r,"TestLoadImage: loaded",!0,e),r.onerror=hs(su,n,r,"TestLoadImage: error",!1,e),r.onabort=hs(su,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=hs(su,n,r,"TestLoadImage: timeout",!1,e),ns.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else $a(2);t.v=0,t.f&&t.f.ra(e),Fu(t),Eu(t)}function Fu(t){t.v=0,t.I=-1,t.f&&(0==nu(t.b).length&&0==t.g.length||(t.b.c.length=0,bs(t.g),t.g.length=0),t.f.qa())}function Uu(t,e,n){var r=function(t){return t instanceof Oc?xc(t):new Oc(t,void 0)}(n);if(""!=r.c)e&&Ic(r,e+"."+r.c),Ac(r,r.h);else{var i=ns.location;r=function(t,e,n,r){var i=new Oc(null,void 0);return t&&kc(i,t),e&&Ic(i,e),n&&Ac(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Os(t.V,function(t,e){Dc(r,e,t)}),n=t.na,(e=t.A)&&n&&Dc(r,e,n),Dc(r,"VER",t.ha),ku(t,r),r}function Vu(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new cu(t.Na)).F=t.C,e}function Bu(){}function qu(){if(Ns&&!(10<=Number(Ws)))throw Error("Environmental error: no available transport.")}function zu(t,e){ba.call(this),this.a=new wu(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!ys(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ys(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Ku(this)}function Hu(t){ic.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Wu(){oc.call(this),this.status=1}function Ku(t){this.a=t}(Zo=cu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:nc),this.a.onreadystatechange=ls(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void fu(this,o)}t=n||"";var i=new Cc(this.headers);r&&wc(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=du,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ns.FormData&&t instanceof ns.FormData,!(0<=ms(hu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{vu(this),0<this.o&&((this.D=function(t){return Ns&&Hs(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=ls(this.xa,this)):this.m=Na(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){fu(this,o)}},Zo.xa=function(){void 0!==es&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,ya(this,"timeout"),this.abort(8))},Zo.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,ya(this,"complete"),ya(this,"abort"),gu(this))},Zo.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),gu(this,!0)),cu.X.G.call(this)},Zo.za=function(){this.j||(this.A||this.l||this.g?mu(this):this.Ua())},Zo.Ua=function(){mu(this)},Zo.W=function(){try{return 2<bu(this)?this.a.status:-1}catch(Ds){return-1}},Zo.$=function(){try{return this.a?this.a.responseText:""}catch(Ds){return""}},Zo.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),au(e)}},Zo.ua=function(){return this.h},Zo.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Zo=wu.prototype).ha=8,Zo.v=1,Zo.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ac(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Is(r=xs(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Iu(this,n,e),Dc(i=xc(this.B),"RID",t),Dc(i,"CVER",22),this.A&&Dc(i,"X-HTTP-Session-Id",this.A),ku(this,i),this.i&&r&&yu(i,this.i,r),tu(this.b,n),this.Ia&&Dc(i,"TYPE","init"),this.da?(Dc(i,"$req",e),Dc(i,"SID","null"),n.U=!0,hc(n,i,null)):hc(n,i,e),this.v=2}}else 3==this.v&&(t?xu(this,t):0==this.g.length||Xc(this.b)||xu(this))},Zo.Aa=function(){if(this.j=null,Ru(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Xa(ls(this.Ta,this),t)}},Zo.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,$a(10),Tu(this),Ru(this))},Zo.Sa=function(){null!=this.m&&(this.m=null,Tu(this),Pu(this),$a(19))},Zo.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),$a(2)):(this.c.info("Failed to ping google.com"),$a(1))},(Zo=Bu.prototype).ta=function(){},Zo.sa=function(){},Zo.ra=function(){},Zo.qa=function(){},Zo.Ja=function(){},qu.prototype.a=function(t,e){return new zu(t,e)},fs(zu,ba),zu.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;$a(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Uu(t,null,t.fa),Ou(t)},zu.prototype.close=function(){Cu(this.a)},zu.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Su(this.a,e)}else this.l?((e={}).__data__=wa(t),Su(this.a,e)):Su(this.a,t)},zu.prototype.G=function(){this.a.f=null,delete this.f,Cu(this.a),delete this.a,zu.X.G.call(this)},fs(Hu,ic),fs(Wu,oc),fs(Ku,Bu),Ku.prototype.ta=function(){ya(this.a,"a")},Ku.prototype.sa=function(t){ya(this.a,new Hu(t))},Ku.prototype.ra=function(t){ya(this.a,new Wu(t))},Ku.prototype.qa=function(){ya(this.a,"b")},qu.prototype.createWebChannel=qu.prototype.a,zu.prototype.send=zu.prototype.h,zu.prototype.open=zu.prototype.g,zu.prototype.close=zu.prototype.close,Ja.NO_ERROR=0,Ja.TIMEOUT=8,Ja.HTTP_ERROR=6,Za.COMPLETE="complete",ec.EventType=rc,rc.OPEN="a",rc.CLOSE="b",rc.ERROR="c",rc.MESSAGE="d",ba.prototype.listen=ba.prototype.va,cu.prototype.listenOnce=cu.prototype.wa,cu.prototype.getLastError=cu.prototype.Qa,cu.prototype.getLastErrorCode=cu.prototype.ua,cu.prototype.getStatus=cu.prototype.W,cu.prototype.getResponseJson=cu.prototype.Pa,cu.prototype.getResponseText=cu.prototype.$,cu.prototype.send=cu.prototype.ba;var Gu=Ja,Yu=Za,$u=za,Qu=ec,Xu=cu,Ju=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Ju.o=-1;var Zu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},tl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Go.__extends)(e,t),e}(Error),el=new Qo.Logger("@firebase/firestore");function nl(){return el.logLevel}function rl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(el.logLevel<=Qo.LogLevel.DEBUG){var r=e.map(sl);el.debug.apply(el,Object(Go.__spreadArray)(["Firestore (8.6.2): "+t],r))}}function il(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(el.logLevel<=Qo.LogLevel.ERROR){var r=e.map(sl);el.error.apply(el,Object(Go.__spreadArray)(["Firestore (8.6.2): "+t],r))}}function ol(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(el.logLevel<=Qo.LogLevel.WARN){var r=e.map(sl);el.warn.apply(el,Object(Go.__spreadArray)(["Firestore (8.6.2): "+t],r))}}function sl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(l_){return t}}function al(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.2) INTERNAL ASSERTION FAILED: "+t;throw il(e),new Error(e)}function cl(t,e){t||al()}function ul(t,e){return t}function ll(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var hl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=ll(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function dl(t,e){return t<e?-1:t>e?1:0}function fl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function pl(t){return t+"\0"}var ml=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new tl(Zu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new tl(Zu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new tl(Zu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new tl(Zu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?dl(this.nanoseconds,t.nanoseconds):dl(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),gl=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ml(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function vl(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var _l=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&al(),void 0===n?n=t.length-e:n>t.length-e&&al(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),wl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new tl(Zu.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(_l),Cl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Tl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Cl.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new tl(Zu.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new tl(Zu.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new tl(Zu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new tl(Zu.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(_l),El=function(){function t(t){this.fields=t,t.sort(Tl.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return fl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Sl=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return dl(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Sl.EMPTY_BYTE_STRING=new Sl("");var Ol=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xl(t){if(cl(!!t),"string"==typeof t){var e=0,n=Ol.exec(t);if(cl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kl(t.seconds),nanos:kl(t.nanos)}}function kl(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Il(t){return"string"==typeof t?Sl.fromBase64String(t):Sl.fromUint8Array(t)}function Al(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pl(t){var e=t.mapValue.fields.__previous_value__;return Al(e)?Pl(e):e}function Dl(t){var e=xl(t.mapValue.fields.__local_write_time__.timestampValue);return new ml(e.seconds,e.nanos)}function Rl(t){return null==t}function Nl(t){return 0===t&&1/t==-1/0}function Ml(t){return"number"==typeof t&&Number.isInteger(t)&&!Nl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var jl=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(wl.fromString(e))},t.fromName=function(e){return new t(wl.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===wl.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return wl.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new wl(e.slice()))},t}();function Ll(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Al(t)?4:10:al()}function Fl(t,e){var n=Ll(t);if(n!==Ll(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dl(t).isEqual(Dl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=xl(t.timestampValue),r=xl(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Il(t.bytesValue).isEqual(Il(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return kl(t.geoPointValue.latitude)===kl(e.geoPointValue.latitude)&&kl(t.geoPointValue.longitude)===kl(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return kl(t.integerValue)===kl(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=kl(t.doubleValue),r=kl(e.doubleValue);return n===r?Nl(n)===Nl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],Fl);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(vl(n)!==vl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Fl(n[i],r[i])))return!1;return!0}(t,e);default:return al()}}function Ul(t,e){return void 0!==(t.values||[]).find(function(t){return Fl(t,e)})}function Vl(t,e){var n=Ll(t),r=Ll(e);if(n!==r)return dl(n,r);switch(n){case 0:return 0;case 1:return dl(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=kl(t.integerValue||t.doubleValue),r=kl(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Bl(t.timestampValue,e.timestampValue);case 4:return Bl(Dl(t),Dl(e));case 5:return dl(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Il(t),r=Il(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=dl(n[i],r[i]);if(0!==o)return o}return dl(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=dl(kl(t.latitude),kl(e.latitude));return 0!==n?n:dl(kl(t.longitude),kl(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Vl(n[i],r[i]);if(o)return o}return dl(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=dl(r[s],o[s]);if(0!==a)return a;var c=Vl(n[r[s]],i[o[s]]);if(0!==c)return c}return dl(r.length,o.length)}(t.mapValue,e.mapValue);default:throw al()}}function Bl(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return dl(t,e);var n=xl(t),r=xl(e),i=dl(n.seconds,r.seconds);return 0!==i?i:dl(n.nanos,r.nanos)}function ql(t){return zl(t)}function zl(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=xl(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Il(t.bytesValue).toBase64():"referenceValue"in t?jl.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=zl(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+zl(t.fields[o])}return e+"}"}(t.mapValue):al();var e}function Hl(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Wl(t){return!!t&&"integerValue"in t}function Kl(t){return!!t&&"arrayValue"in t}function Gl(t){return!!t&&"nullValue"in t}function Yl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $l(t){return!!t&&"mapValue"in t}var Ql=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(Tl.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Fl(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Ll(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=$l(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(Tl.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!$l(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Xl(t){var e=[];return bl(t.fields||{},function(t,n){var r=new Tl([t]);if($l(n)){var i=Xl(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new El(e)}var Jl=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,gl.min(),Ql.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Ql.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Ql.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ql.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ql.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Zl=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function th(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Zl(t,e,n,r,i,o,s)}function eh(t){var e=ul(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+ql(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Rl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=ph(e.startAt)),e.endAt&&(n+="|ub:",n+=ph(e.endAt)),e.h=n}return e.h}function nh(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!gh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Fl(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bh(t.startAt,e.startAt)&&bh(t.endAt,e.endAt)}function rh(t){return jl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var ih=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Go.__extends)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new oh(t,n,r):"array-contains"===n?new uh(t,r):"in"===n?new lh(t,r):"not-in"===n?new hh(t,r):"array-contains-any"===n?new dh(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new sh(t,n):new ah(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Vl(e,this.value)):null!==e&&Ll(this.value)===Ll(e)&&this.m(Vl(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return al()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),oh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=jl.fromName(r.referenceValue),i}return Object(Go.__extends)(e,t),e.prototype.matches=function(t){var e=jl.comparator(t.key,this.key);return this.m(e)},e}(ih),sh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ch(0,n),r}return Object(Go.__extends)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(ih),ah=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ch(0,n),r}return Object(Go.__extends)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(ih);function ch(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return jl.fromName(t.referenceValue)})}var uh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Go.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Kl(e)&&Ul(e.arrayValue,this.value)},e}(ih),lh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Go.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ul(this.value.arrayValue,e)},e}(ih),hh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Go.__extends)(e,t),e.prototype.matches=function(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ul(this.value.arrayValue,e)},e}(ih),dh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Go.__extends)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Kl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ul(e.value.arrayValue,t)})},e}(ih),fh=function(t,e){this.position=t,this.before=e};function ph(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ql(t)}).join(",")}var mh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function gh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function vh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?jl.comparator(jl.fromName(s.referenceValue),n.key):Vl(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function bh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Fl(t.position[n],e.position[n]))return!1;return!0}var yh=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function _h(t,e,n,r,i,o,s,a){return new yh(t,e,n,r,i,o,s,a)}function wh(t){return new yh(t)}function Ch(t){return!Rl(t.limit)&&"F"===t.limitType}function Th(t){return!Rl(t.limit)&&"L"===t.limitType}function Eh(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Sh(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Oh(t){return null!==t.collectionGroup}function xh(t){var e=ul(t);if(null===e.p){e.p=[];var n=Sh(e),r=Eh(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new mh(n)),e.p.push(new mh(Tl.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new mh(Tl.keyField(),c))}}}return e.p}function kh(t){var e=ul(t);if(!e.T)if("F"===e.limitType)e.T=th(e.path,e.collectionGroup,xh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=xh(e);r<i.length;r++){var o=i[r];n.push(new mh(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new fh(e.endAt.position,!e.endAt.before):null,a=e.startAt?new fh(e.startAt.position,!e.startAt.before):null;e.T=th(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function Ih(t,e,n){return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ah(t,e){return nh(kh(t),kh(e))&&t.limitType===e.limitType}function Ph(t){return eh(kh(t))+"|lt:"+t.limitType}function Dh(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+ql(e.value);var e}).join(", ")+"]"),Rl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+ph(t.startAt)),t.endAt&&(e+=", endAt: "+ph(t.endAt)),"Target("+e+")"}(kh(t))+"; limitType="+t.limitType+")"}function Rh(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):jl.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!vh(t.startAt,xh(t),e)||t.endAt&&vh(t.endAt,xh(t),e))}(t,e)}function Nh(t){return function(e,n){for(var r=!1,i=0,o=xh(t);i<o.length;i++){var s=o[i],a=Mh(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Mh(t,e,n){var r=t.field.isKeyField()?jl.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Vl(r,i):al()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return al()}}function jh(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nl(e)?"-0":e}}function Lh(t){return{integerValue:""+t}}function Fh(t,e){return Ml(e)?Lh(e):jh(t,e)}var Uh=function(){this._=void 0};function Vh(t,e,n){return t instanceof zh?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Hh?Wh(t,e):t instanceof Kh?Gh(t,e):function(t,e){var n=qh(t,e),r=$h(n)+$h(t.A);return Wl(n)&&Wl(t.A)?Lh(r):jh(t.R,r)}(t,e)}function Bh(t,e,n){return t instanceof Hh?Wh(t,e):t instanceof Kh?Gh(t,e):n}function qh(t,e){return t instanceof Yh?Wl(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var zh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.__extends)(e,t),e}(Uh),Hh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Go.__extends)(e,t),e}(Uh);function Wh(t,e){for(var n=Qh(e),r=function(t){n.some(function(e){return Fl(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Kh=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Go.__extends)(e,t),e}(Uh);function Gh(t,e){for(var n=Qh(e),r=function(t){n=n.filter(function(e){return!Fl(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Yh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Go.__extends)(e,t),e}(Uh);function $h(t){return kl(t.integerValue||t.doubleValue)}function Qh(t){return Kl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Xh=function(t,e){this.field=t,this.transform=e},Jh=function(t,e){this.version=t,this.transformResults=e},Zh=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function td(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var ed=function(){};function nd(t,e,n){t instanceof ad?function(t,e,n){var r=t.value.clone(),i=ld(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof cd?function(t,e,n){if(td(t.precondition,e)){var r=ld(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ud(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function rd(t,e,n){t instanceof ad?function(t,e,n){if(td(t.precondition,e)){var r=t.value.clone(),i=hd(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(sd(e),r).setHasLocalMutations()}}(t,e,n):t instanceof cd?function(t,e,n){if(td(t.precondition,e)){var r=hd(t.fieldTransforms,n,e),i=e.data;i.setAll(ud(t)),i.setAll(r),e.convertToFoundDocument(sd(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){td(t.precondition,e)&&e.convertToNoDocument(gl.min())}(t,e)}function id(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=qh(o.transform,s||null);null!=a&&(null==n&&(n=Ql.empty()),n.set(o.field,a))}return n||null}function od(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&fl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Hh&&e instanceof Hh||t instanceof Kh&&e instanceof Kh?fl(t.elements,e.elements,Fl):t instanceof Yh&&e instanceof Yh?Fl(t.A,e.A):t instanceof zh&&e instanceof zh}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function sd(t){return t.isFoundDocument()?t.version:gl.min()}var ad=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return Object(Go.__extends)(e,t),e}(ed),cd=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return Object(Go.__extends)(e,t),e}(ed);function ud(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function ld(t,e,n){var r=new Map;cl(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Bh(s,a,n[i]))}return r}function hd(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,c=n.data.field(s.field);r.set(s.field,Vh(a,c,e))}return r}var dd,fd,pd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Go.__extends)(e,t),e}(ed),md=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Go.__extends)(e,t),e}(ed),gd=function(t){this.count=t};function vd(t){switch(t){case Zu.OK:return al();case Zu.CANCELLED:case Zu.UNKNOWN:case Zu.DEADLINE_EXCEEDED:case Zu.RESOURCE_EXHAUSTED:case Zu.INTERNAL:case Zu.UNAVAILABLE:case Zu.UNAUTHENTICATED:return!1;case Zu.INVALID_ARGUMENT:case Zu.NOT_FOUND:case Zu.ALREADY_EXISTS:case Zu.PERMISSION_DENIED:case Zu.FAILED_PRECONDITION:case Zu.ABORTED:case Zu.OUT_OF_RANGE:case Zu.UNIMPLEMENTED:case Zu.DATA_LOSS:return!0;default:return al()}}function bd(t){if(void 0===t)return il("GRPC error has no .code"),Zu.UNKNOWN;switch(t){case dd.OK:return Zu.OK;case dd.CANCELLED:return Zu.CANCELLED;case dd.UNKNOWN:return Zu.UNKNOWN;case dd.DEADLINE_EXCEEDED:return Zu.DEADLINE_EXCEEDED;case dd.RESOURCE_EXHAUSTED:return Zu.RESOURCE_EXHAUSTED;case dd.INTERNAL:return Zu.INTERNAL;case dd.UNAVAILABLE:return Zu.UNAVAILABLE;case dd.UNAUTHENTICATED:return Zu.UNAUTHENTICATED;case dd.INVALID_ARGUMENT:return Zu.INVALID_ARGUMENT;case dd.NOT_FOUND:return Zu.NOT_FOUND;case dd.ALREADY_EXISTS:return Zu.ALREADY_EXISTS;case dd.PERMISSION_DENIED:return Zu.PERMISSION_DENIED;case dd.FAILED_PRECONDITION:return Zu.FAILED_PRECONDITION;case dd.ABORTED:return Zu.ABORTED;case dd.OUT_OF_RANGE:return Zu.OUT_OF_RANGE;case dd.UNIMPLEMENTED:return Zu.UNIMPLEMENTED;case dd.DATA_LOSS:return Zu.DATA_LOSS;default:return al()}}(fd=dd||(dd={}))[fd.OK=0]="OK",fd[fd.CANCELLED=1]="CANCELLED",fd[fd.UNKNOWN=2]="UNKNOWN",fd[fd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fd[fd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fd[fd.NOT_FOUND=5]="NOT_FOUND",fd[fd.ALREADY_EXISTS=6]="ALREADY_EXISTS",fd[fd.PERMISSION_DENIED=7]="PERMISSION_DENIED",fd[fd.UNAUTHENTICATED=16]="UNAUTHENTICATED",fd[fd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fd[fd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fd[fd.ABORTED=10]="ABORTED",fd[fd.OUT_OF_RANGE=11]="OUT_OF_RANGE",fd[fd.UNIMPLEMENTED=12]="UNIMPLEMENTED",fd[fd.INTERNAL=13]="INTERNAL",fd[fd.UNAVAILABLE=14]="UNAVAILABLE",fd[fd.DATA_LOSS=15]="DATA_LOSS";var yd=function(){function t(t,e){this.comparator=t,this.root=e||wd.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wd.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wd.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new _d(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new _d(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new _d(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new _d(this.root,t,this.comparator,!0)},t}(),_d=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),wd=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw al();if(this.right.isRed())throw al();var t=this.left.check();if(t!==this.right.check())throw al();return t+(this.isRed()?0:1)},t}();wd.EMPTY=null,wd.RED=!0,wd.BLACK=!1,wd.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw al()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw al()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw al()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw al()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw al()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new wd(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Cd=function(){function t(t){this.comparator=t,this.data=new yd(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Td(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Td(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Td=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Ed=new yd(jl.comparator);function Sd(){return Ed}var Od=new yd(jl.comparator);function xd(){return Od}var kd=new yd(jl.comparator);function Id(){return kd}var Ad=new Cd(jl.comparator);function Pd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ad,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Dd=new Cd(dl);function Rd(){return Dd}var Nd=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Md.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(gl.min(),r,Rd(),Sd(),Pd())},t}(),Md=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Sl.EMPTY_BYTE_STRING,n,Pd(),Pd(),Pd())},t}(),jd=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Ld=function(t,e){this.targetId=t,this.V=e},Fd=function(t,e,n,r){void 0===n&&(n=Sl.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ud=function(){function t(){this.S=0,this.D=qd(),this.C=Sl.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Pd(),e=Pd(),n=Pd();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:al()}}),new Md(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=qd()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Vd=function(){function t(t){this.W=t,this.G=new Map,this.H=Sd(),this.J=Bd(),this.Y=new Cd(dl)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:al()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(rh(i))if(0===n){var o=new jl(i.path);this.tt(e,o,Jl.newNoDocument(o,gl.min()))}else cl(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.at=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&rh(o.target)){var s=new jl(o.target.path);null!==e.H.get(s)||e.ut(i,s)||e.tt(i,s,Jl.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Pd();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Nd(t,n,this.Y,this.H,r);return this.H=Sd(),this.J=Bd(),this.Y=new Cd(dl),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.ut(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.ut(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ud,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Cd(dl),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||rl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Ud),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.ut=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Bd(){return new yd(jl.comparator)}function qd(){return new yd(jl.comparator)}var zd={asc:"ASCENDING",desc:"DESCENDING"},Hd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wd=function(t,e){this.databaseId=t,this.I=e};function Kd(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Gd(t,e){return t.I?e.toBase64():e.toUint8Array()}function Yd(t,e){return Kd(t,e.toTimestamp())}function $d(t){return cl(!!t),gl.fromTimestamp(function(t){var e=xl(t);return new ml(e.seconds,e.nanos)}(t))}function Qd(t,e){return function(t){return new wl(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Xd(t){var e=wl.fromString(t);return cl(Cf(e)),e}function Jd(t,e){return Qd(t.databaseId,e.path)}function Zd(t,e){var n=Xd(e);if(n.get(1)!==t.databaseId.projectId)throw new tl(Zu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new tl(Zu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new jl(rf(n))}function tf(t,e){return Qd(t.databaseId,e)}function ef(t){var e=Xd(t);return 4===e.length?wl.emptyPath():rf(e)}function nf(t){return new wl(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rf(t){return cl(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function of(t,e,n){return{name:Jd(t,e),fields:n.toProto().mapValue.fields}}function sf(t,e,n){var r=Zd(t,e.name),i=$d(e.updateTime),o=new Ql({mapValue:{fields:e.fields}}),s=Jl.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function af(t,e){var n;if(e instanceof ad)n={update:of(t,e.key,e.value)};else if(e instanceof pd)n={delete:Jd(t,e.key)};else if(e instanceof cd)n={update:of(t,e.key,e.data),updateMask:wf(e.fieldMask)};else{if(!(e instanceof md))return al();n={verify:Jd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof zh)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hh)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Kh)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Yh)return{fieldPath:e.field.canonicalString(),increment:n.A};throw al()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Yd(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:al()}(t,e.precondition)),n}function cf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Zh.updateTime($d(t.updateTime)):void 0!==t.exists?Zh.exists(t.exists):Zh.none()}(e.currentDocument):Zh.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(cl("REQUEST_TIME"===e.setToServerValue),n=new zh):"appendMissingElements"in e?n=new Hh(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Kh(e.removeAllFromArray.values||[]):"increment"in e?n=new Yh(t,e.increment):al();var r=Tl.fromServerFormat(e.fieldPath);return new Xh(r,n)}(t,e)}):[];if(e.update){var i=Zd(t,e.update.name),o=new Ql({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new El((t.fieldPaths||[]).map(function(t){return Tl.fromServerFormat(t)}))}(e.updateMask);return new cd(i,o,s,n,r)}return new ad(i,o,n,r)}if(e.delete){var a=Zd(t,e.delete);return new pd(a,n)}if(e.verify){var c=Zd(t,e.verify);return new md(c,n)}return al()}function uf(t,e){return{documents:[tf(t,e.path)]}}function lf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=tf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=tf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Yl(t.value))return{unaryFilter:{field:vf(t.field),op:"IS_NAN"}};if(Gl(t.value))return{unaryFilter:{field:vf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Yl(t.value))return{unaryFilter:{field:vf(t.field),op:"IS_NOT_NAN"}};if(Gl(t.value))return{unaryFilter:{field:vf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vf(t.field),op:gf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:vf(t.field),direction:mf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Rl(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=ff(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ff(e.endAt)),n}function hf(t){var e=ef(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){cl(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=df(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new mh(bf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return Rl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=pf(n.startAt));var l=null;return n.endAt&&(l=pf(n.endAt)),_h(e,i,a,s,c,"F",u,l)}function df(t){return t?void 0!==t.unaryFilter?[_f(t)]:void 0!==t.fieldFilter?[yf(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return df(t)}).reduce(function(t,e){return t.concat(e)}):al():[]}function ff(t){return{before:t.before,values:t.position}}function pf(t){return new fh(t.values||[],!!t.before)}function mf(t){return zd[t]}function gf(t){return Hd[t]}function vf(t){return{fieldPath:t.canonicalString()}}function bf(t){return Tl.fromServerFormat(t.fieldPath)}function yf(t){return ih.create(bf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return al()}}(t.fieldFilter.op),t.fieldFilter.value)}function _f(t){switch(t.unaryFilter.op){case"IS_NAN":var e=bf(t.unaryFilter.field);return ih.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=bf(t.unaryFilter.field);return ih.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=bf(t.unaryFilter.field);return ih.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=bf(t.unaryFilter.field);return ih.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return al()}}function wf(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Cf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Tf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Sf(e)),e=Ef(t.get(n),e);return Sf(e)}function Ef(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Sf(t){return t+"\x01\x01"}function Of(t){var e=t.length;if(cl(e>=2),2===e)return cl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),wl.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&al(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:al()}o=s+2}return new wl(r)}var xf=function(t,e){this.seconds=t,this.nanoseconds=e},kf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};kf.store="owner",kf.key="owner";var If=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};If.store="mutationQueues",If.keyPath="userId";var Af=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Af.store="mutations",Af.keyPath="batchId",Af.userMutationsIndex="userMutationsIndex",Af.userMutationsKeyPath=["userId","batchId"];var Pf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Tf(e)]},t.key=function(t,e,n){return[t,Tf(e),n]},t}();Pf.store="documentMutations",Pf.PLACEHOLDER=new Pf;var Df=function(t,e){this.path=t,this.readTime=e},Rf=function(t,e){this.path=t,this.version=e},Nf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Nf.store="remoteDocuments",Nf.readTimeIndex="readTimeIndex",Nf.readTimeIndexPath="readTime",Nf.collectionReadTimeIndex="collectionReadTimeIndex",Nf.collectionReadTimeIndexPath=["parentPath","readTime"];var Mf=function(t){this.byteSize=t};Mf.store="remoteDocumentGlobal",Mf.key="remoteDocumentGlobalKey";var jf=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};jf.store="targets",jf.keyPath="targetId",jf.queryTargetsIndexName="queryTargetsIndex",jf.queryTargetsKeyPath=["canonicalId","targetId"];var Lf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Lf.store="targetDocuments",Lf.keyPath=["targetId","path"],Lf.documentTargetsIndex="documentTargetsIndex",Lf.documentTargetsKeyPath=["path","targetId"];var Ff=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ff.key="targetGlobalKey",Ff.store="targetGlobal";var Uf=function(t,e){this.collectionId=t,this.parent=e};Uf.store="collectionParents",Uf.keyPath=["collectionId","parent"];var Vf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Vf.store="clientMetadata",Vf.keyPath="clientId";var Bf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Bf.store="bundles",Bf.keyPath="bundleId";var qf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};qf.store="namedQueries",qf.keyPath="name";var zf=Object(Go.__spreadArray)(Object(Go.__spreadArray)([],Object(Go.__spreadArray)(Object(Go.__spreadArray)([],Object(Go.__spreadArray)(Object(Go.__spreadArray)([],Object(Go.__spreadArray)(Object(Go.__spreadArray)([],[If.store,Af.store,Pf.store,Nf.store,jf.store,kf.store,Ff.store,Lf.store]),[Vf.store])),[Mf.store])),[Uf.store])),[Bf.store,qf.store]),Hf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Wf=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),Kf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Gf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&al(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Yf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Kf,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Xf(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=np(e.target.error);n.ft.reject(new Xf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Xf(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(rl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Zf(e)},t}(),$f=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object($o.getUA)())&&il("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return rl("SimpleDb","Removing database:",t),tp(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object($o.getUA)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(rl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Xf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new tl(Zu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Xf(t,n))},i.onupgradeneeded=function(t){rl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){rl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Go.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,c;return Object(Go.__generator)(this,function(u){switch(u.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,c,u,l;return Object(Go.__generator)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Yf.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Gf.reject(t)}).toPromise(),c={},s.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(h.sent(),s),c)];case 4:return rl("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Qf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return tp(this.Pt.delete())},t}(),Xf=function(t){function e(e,n){var r=this;return(r=t.call(this,Zu.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Go.__extends)(e,t),e}(tl);function Jf(t){return"IndexedDbTransactionError"===t.name}var Zf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(rl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(rl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),tp(n)},t.prototype.add=function(t){return rl("SimpleDb","ADD",this.store.name,t,t),tp(this.store.add(t))},t.prototype.get=function(t){var e=this;return tp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),rl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return rl("SimpleDb","DELETE",this.store.name,t),tp(this.store.delete(t))},t.prototype.count=function(){return rl("SimpleDb","COUNT",this.store.name),tp(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){rl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Gf(function(n,r){e.onerror=function(t){var e=np(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Gf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Qf(i),s=e(i.primaryKey,i.value,o);if(s instanceof Gf){var a=s.catch(function(t){return o.done(),Gf.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Gf.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function tp(t){return new Gf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=np(t.target.error);n(e)}})}var ep=!1;function np(t){var e=$f._t(Object($o.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new tl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ep||(ep=!0,setTimeout(function(){throw r},0)),r}}return t}var rp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Go.__extends)(e,t),e}(Wf);function ip(t,e){var n=ul(t);return $f.It(n.Mt,e)}var op=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&nd(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&rd(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&rd(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(gl.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Pd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&fl(this.mutations,t.mutations,function(t,e){return od(t,e)})&&fl(this.baseMutations,t.baseMutations,function(t,e){return od(t,e)})},t}(),sp=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){cl(e.mutations.length===r.length);for(var i=Id(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ap=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=gl.min()),void 0===o&&(o=gl.min()),void 0===s&&(s=Sl.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),cp=function(t){this.Lt=t};function up(t,e){if(e.document)return sf(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=jl.fromSegments(e.noDocument.path),r=pp(e.noDocument.readTime),i=Jl.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=jl.fromSegments(e.unknownDocument.path);return r=pp(e.unknownDocument.version),Jl.newUnknownDocument(o,r)}return al()}function lp(t,e,n){var r=hp(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Jd(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Kd(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Nf(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=fp(e.version);return s=e.hasCommittedMutations,new Nf(null,new Df(a,c),null,s,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=fp(e.version);return new Nf(new Rf(u,l),null,null,!0,r,i)}return al()}function hp(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function dp(t){var e=new ml(t[0],t[1]);return gl.fromTimestamp(e)}function fp(t){var e=t.toTimestamp();return new xf(e.seconds,e.nanoseconds)}function pp(t){var e=new ml(t.seconds,t.nanoseconds);return gl.fromTimestamp(e)}function mp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return cf(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return cf(t.Lt,e)}),o=ml.fromMillis(e.localWriteTimeMs);return new op(e.batchId,o,n,i)}function gp(t){var e,n,r=pp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?pp(t.lastLimboFreeSnapshotVersion):gl.min();return void 0!==t.query.documents?(cl(1===(n=t.query).documents.length),e=kh(wh(ef(n.documents[0])))):e=function(t){return kh(hf(t))}(t.query),new ap(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Sl.fromBase64String(t.resumeToken))}function vp(t,e){var n,r=fp(e.snapshotVersion),i=fp(e.lastLimboFreeSnapshotVersion);n=rh(e.target)?uf(t.Lt,e.target):lf(t.Lt,e.target);var o=e.resumeToken.toBase64();return new jf(e.targetId,eh(e.target),r,o,e.sequenceNumber,i,n)}function bp(t){var e=hf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ih(e,e.limit,"L"):e}var yp=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return _p(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:pp(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return _p(t).put({bundleId:(n=e).id,createTime:fp($d(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return wp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:bp(e.bundledQuery),readTime:pp(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return wp(t).put(function(t){return{name:t.name,readTime:fp($d(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function _p(t){return ip(t,Bf.store)}function wp(t){return ip(t,qf.store)}var Cp=function(){function t(){this.Bt=new Tp}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Gf.resolve()},t.prototype.getCollectionParents=function(t,e){return Gf.resolve(this.Bt.getEntries(e))},t}(),Tp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Cd(wl.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Cd(wl.comparator)).toArray()},t}(),Ep=function(){function t(){this.qt=new Tp}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:Tf(i)};return Sp(t).put(o)}return Gf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[pl(e),""],!1,!0);return Sp(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Of(o.parent))}return n})},t}();function Sp(t){return ip(t,Uf.store)}var Op={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xp=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function kp(t,e,n){var r=t.store(Af.store),i=t.store(Pf.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,c=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(c.next(function(){cl(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=Pf.key(e,d.key.path,n.batchId);o.push(i.delete(f)),u.push(d.key)}return Gf.waitFor(o).next(function(){return u})}function Ip(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw al();e=t.noDocument}return JSON.stringify(e).length}xp.DEFAULT_COLLECTION_PERCENTILE=10,xp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xp.DEFAULT=new xp(41943040,xp.DEFAULT_COLLECTION_PERCENTILE,xp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xp.DISABLED=new xp(-1,0,0);var Ap=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return cl(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Dp(t).Ot({index:Af.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Rp(t),s=Dp(t);return s.add({}).next(function(a){cl("number"==typeof a);for(var c=new op(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map(function(e){return af(t.Lt,e)}),i=n.mutations.map(function(e){return af(t.Lt,e)});return new Af(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),l=[],h=new Cd(function(t,e){return dl(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=Pf.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(u)),l.push(o.put(m,Pf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=c.keys()}),Gf.waitFor(l).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Dp(t).get(e).next(function(t){return t?(cl(t.userId===n.userId),mp(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Gf.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Dp(t).Ot({index:Af.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(cl(e.batchId>=r),o=mp(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Dp(t).Ot({index:Af.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Dp(t).Nt(Af.userMutationsIndex,n).next(function(t){return t.map(function(t){return mp(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Pf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Rp(t).Ot({range:i},function(r,i,s){var a=r[0],c=r[2],u=Of(r[1]);if(a===n.userId&&e.path.isEqual(u))return Dp(t).get(c).next(function(t){if(!t)throw al();cl(t.userId===n.userId),o.push(mp(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Cd(dl),i=[];return e.forEach(function(e){var o=Pf.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Rp(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[2],c=Of(t[1]);s===n.userId&&e.path.isEqual(c)?r=r.add(a):o.done()});i.push(a)}),Gf.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Pf.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Cd(dl);return Rp(t).Ot({range:s},function(t,e,o){var s=t[0],c=t[2],u=Of(t[1]);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(c)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Dp(t).get(e).next(function(t){if(null===t)throw al();cl(t.userId===n.userId),r.push(mp(n.R,t))}))}),Gf.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return kp(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Gf.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Gf.resolve();var r=IDBKeyRange.lowerBound(Pf.prefixForUser(e.userId)),i=[];return Rp(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=Of(t[1]);i.push(o)}else r.done()}).next(function(){cl(0===i.length)})})},t.prototype.containsKey=function(t,e){return Pp(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Np(t).get(this.userId).next(function(t){return t||new If(e.userId,-1,"")})},t}();function Pp(t,e,n){var r=Pf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Rp(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Dp(t){return ip(t,Af.store)}function Rp(t){return ip(t,Pf.store)}function Np(t){return ip(t,If.store)}var Mp=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),jp=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Mp(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return gl.fromTimestamp(new ml(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Lp(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return cl(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Lp(t).Ot(function(s,a){var c=gp(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,o.push(r.removeTargetData(t,c)))}).next(function(){return Gf.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Lp(t).Ot(function(t,n){var r=gp(n);e(r)})},t.prototype.Xt=function(t){return Fp(t).get(Ff.key).next(function(t){return cl(null!==t),t})},t.prototype.Zt=function(t,e){return Fp(t).put(Ff.key,e)},t.prototype.te=function(t,e){return Lp(t).put(vp(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=eh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Lp(t).Ot({range:r,index:jf.queryTargetsIndexName},function(t,n,r){var o=gp(n);nh(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Up(t);return e.forEach(function(e){var s=Tf(e.path);i.push(o.put(new Lf(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Gf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Up(t);return Gf.forEach(e,function(e){var o=Tf(e.path);return Gf.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Up(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Up(t),i=Pd();return r.Ot({range:n,kt:!0},function(t,e,n){var r=Of(t[1]),o=new jl(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=Tf(e.path),r=IDBKeyRange.bound([n],[pl(n)],!1,!0),i=0;return Up(t).Ot({index:Lf.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Lp(t).get(e).next(function(t){return t?gp(t):null})},t}();function Lp(t){return ip(t,jf.store)}function Fp(t){return ip(t,Ff.store)}function Up(t){return ip(t,Lf.store)}function Vp(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){if(t.code!==Zu.FAILED_PRECONDITION||t.message!==Hf)throw t;return rl("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Bp(t,e){var n=t[1],r=e[1],i=dl(t[0],e[0]);return 0===i?dl(n,r):i}var qp=function(){function t(t){this.ne=t,this.buffer=new Cd(Bp),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Bp(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),zp=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ae(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ae=function(t){var e=this,n=this.oe?3e5:6e4;rl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Go.__awaiter)(e,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Jf(e=n.sent())?(rl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Vp(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ae(t)];case 8:return n.sent(),[2]}})})})},t}(),Hp=function(){function t(t,e){this.ue=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ue.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Gf.resolve(Ju.o);var r=new qp(e);return this.ue.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ue.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ue.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ue.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(rl("LruGarbageCollector","Garbage collection skipped; disabled"),Gf.resolve(Op)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(rl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Op):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ue.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,c,u=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>u.params.maximumSequenceNumbersToCollect?(rl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),u.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),u.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),nl()<=Qo.LogLevel.DEBUG&&rl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),Gf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Wp=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Hp(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Kp(t,n)},t.prototype.removeReference=function(t,e,n){return Kp(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Kp(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Np(t).$t(function(r){return Pp(t,r,e).next(function(t){return t&&(n=!0),Gf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var c=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),Up(t).delete([0,Tf(s.path)])})});i.push(c)}}).next(function(){return Gf.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Kp(t,e)},t.prototype.we=function(t,e){var n,r=Up(t),i=Ju.o;return r.Ot({index:Lf.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Ju.o&&e(new jl(Of(n)),i),i=s,n=o):i=Ju.o}).next(function(){i!==Ju.o&&e(new jl(Of(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Kp(t,e){return Up(t).put(function(t,e){return new Lf(0,Tf(t.path),e)}(e,t.currentSequenceNumber))}var Gp=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){bl(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return yl(this.inner)},t}(),Yp=function(){function t(){this.changes=new Gp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:gl.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Jl.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Gf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),$p=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Jp(t).put(Zp(e),n)},t.prototype.removeEntry=function(t,e){var n=Jp(t),r=Zp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Jp(t).get(Zp(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Jp(t).get(Zp(e)).next(function(t){return{document:n.ye(e,t),size:Ip(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Sd();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Sd(),i=new yd(jl.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Ip(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Gf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Jp(t).Ot({range:r},function(t,e,r){for(var s=jl.fromSegments(t);o&&jl.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Sd(),o=e.path.length+1,s={};if(n.isEqual(gl.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=hp(n);s.range=IDBKeyRange.lowerBound([c,u],!0),s.index=Nf.collectionReadTimeIndex}return Jp(t).Ot(s,function(t,n,s){if(t.length===o){var a=up(r.R,n);e.path.isPrefixOf(a.key.path)?Rh(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Qp(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Xp(t).get(Mf.key).next(function(t){return cl(!!t),t})},t.prototype.me=function(t,e){return Xp(t).put(Mf.key,e)},t.prototype.ye=function(t,e){if(e){var n=up(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(gl.min()))return n}return Jl.newInvalidDocument(t)},t}(),Qp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Gp(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Go.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Cd(function(t,e){return dl(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var c=lp(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var u=Ip(c);r+=u-a,n.push(e.Ie.addEntry(t,o,c))}else if(r-=a,e.trackRemovals){var l=lp(e.Ie.R,Jl.newNoDocument(o,gl.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Gf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Yp);function Xp(t){return ip(t,Mf.store)}function Jp(t){return ip(t,Nf.store)}function Zp(t){return t.path.toArray()}var tm=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;cl(n<r&&n>=0&&r<=11);var o=new Yf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(kf.store)}(t),function(t){t.createObjectStore(If.store,{keyPath:If.keyPath}),t.createObjectStore(Af.store,{keyPath:Af.keyPath,autoIncrement:!0}).createIndex(Af.userMutationsIndex,Af.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Pf.store)}(t),em(t),function(t){t.createObjectStore(Nf.store)}(t));var s=Gf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Lf.store),t.deleteObjectStore(jf.store),t.deleteObjectStore(Ff.store)}(t),em(t)),s=s.next(function(){return function(t){var e=t.store(Ff.store),n=new Ff(0,0,gl.min().toTimestamp(),0);return e.put(Ff.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Af.store).Nt().next(function(n){t.deleteObjectStore(Af.store),t.createObjectStore(Af.store,{keyPath:Af.keyPath,autoIncrement:!0}).createIndex(Af.userMutationsIndex,Af.userMutationsKeyPath,{unique:!0});var r=e.store(Af.store),i=n.map(function(t){return r.put(t)});return Gf.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(Vf.store,{keyPath:Vf.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Mf.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Nf.store);e.createIndex(Nf.readTimeIndex,Nf.readTimeIndexPath,{unique:!1}),e.createIndex(Nf.collectionReadTimeIndex,Nf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(Bf.store,{keyPath:Bf.keyPath})}(t),function(t){t.createObjectStore(qf.store,{keyPath:qf.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(Nf.store).Ot(function(t,n){e+=Ip(n)}).next(function(){var n=new Mf(e);return t.store(Mf.store).put(Mf.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(If.store),r=t.store(Af.store);return n.Nt().next(function(n){return Gf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Af.userMutationsIndex,i).next(function(r){return Gf.forEach(r,function(r){cl(r.userId===n.userId);var i=mp(e.R,r);return kp(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(Lf.store),n=t.store(Nf.store);return t.store(Ff.store).get(Ff.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new wl(n),s=function(t){return[0,Tf(t)]}(o);r.push(e.get(s).next(function(n){return n?Gf.resolve():function(n){return e.put(new Lf(0,Tf(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Gf.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(Uf.store,{keyPath:Uf.keyPath});var n=e.store(Uf.store),r=new Tp,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Tf(i)})}};return e.store(Nf.store).Ot({kt:!0},function(t,e){var n=new wl(t);return i(n.popLast())}).next(function(){return e.store(Pf.store).Ot({kt:!0},function(t,e){var n=Of(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(jf.store);return n.Ot(function(t,r){var i=gp(r),o=vp(e.R,i);return n.put(o)})},t}();function em(t){t.createObjectStore(Lf.store,{keyPath:Lf.keyPath}).createIndex(Lf.documentTargetsIndex,Lf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(jf.store,{keyPath:jf.keyPath}).createIndex(jf.queryTargetsIndexName,jf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ff.store)}var nm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",rm=function(){function t(e,n,r,i,o,s,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new tl(Zu.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Wp(this,i),this.Le=n+"main",this.R=new cp(c),this.Be=new $f(this.Le,11,new tm(this.R)),this.qe=new jp(this.referenceDelegate,this.R),this.Ut=new Ep,this.Ue=function(t,e){return new $p(t,e)}(this.R,this.Ut),this.Qe=new yp,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&il("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new tl(Zu.FAILED_PRECONDITION,nm);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Ju(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Go.__awaiter)(e,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Go.__awaiter)(e,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Go.__awaiter)(e,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return om(e).put(new Vf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Jf(e))return rl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return rl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return im(t).get(kf.key).next(function(t){return Gf.resolve(e.tn(t))})},t.prototype.en=function(t){return om(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=ip(t,Vf.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Gf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Gf.resolve(!0):im(t).get(kf.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new tl(Zu.FAILED_PRECONDITION,nm);return!1}}return!(!e.networkEnabled||!e.inForeground)||om(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&rl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t=this;return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.an(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.un(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[kf.store,Vf.store],function(e){var n=new rp(e,Ju.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return om(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Ap.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return rl("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",zf,function(o){return r=new rp(o,i.Ne?i.Ne.next():Ju.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw il("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new tl(Zu.FAILED_PRECONDITION,Hf);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return im(t).get(kf.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new tl(Zu.FAILED_PRECONDITION,nm)})},t.prototype.Ze=function(t){var e=new kf(this.clientId,this.allowTabSynchronization,Date.now());return im(t).put(kf.key,e)},t.yt=function(){return $f.yt()},t.prototype.Xe=function(t){var e=this,n=im(t);return n.get(kf.key).next(function(t){return e.tn(t)?(rl("IndexedDbPersistence","Releasing primary lease."),n.delete(kf.key)):Gf.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(il("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.un=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.an(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return rl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return il("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.an=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){il("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function im(t){return ip(t,kf.store)}function om(t){return ip(t,Vf.store)}function sm(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var am=function(t,e){this.progress=t,this.wn=e},cm=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return jl.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Oh(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new jl(e)).next(function(t){var e=xd();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=xd();return this.Ut.getCollectionParents(t,i).next(function(s){return Gf.forEach(s,function(s){var a=function(t,e){return new yh(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var c=a[s],u=c.key,l=r.get(u);null==l&&(l=Jl.newInvalidDocument(u),r=r.insert(u,l)),rd(c,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}})}).next(function(){return r.forEach(function(t,n){Rh(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Pd(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var c=a[s];c instanceof cd&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),um=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Pd(),i=Pd(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),lm=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(gl.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(Ch(e)||Th(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(nl()<=Qo.LogLevel.DEBUG&&rl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Dh(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Cd(Nh(t));return e.forEach(function(e,r){Rh(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return nl()<=Qo.LogLevel.DEBUG&&rl("QueryEngine","Using full collection scan to execute query:",Dh(e)),this.Sn.getDocumentsMatchingQuery(t,e,gl.min())},t}(),hm=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new yd(dl),this.kn=new Gp(function(t){return eh(t)},nh),this.On=gl.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new cm(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function dm(t,e,n,r){return new hm(t,e,n,r)}function fm(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(Go.__generator)(this,function(s){switch(s.label){case 0:return n=ul(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new cm(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=Pd(),a=0,c=o;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)s=s.add(g[m].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function pm(t,e){var n=ul(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Gf.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);cl(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function mm(t){var e=ul(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function gm(t,e){var n=ul(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,u),function(t,e,n){return cl(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&s.push(n.qe.updateTargetData(t,u))}}});var a=Sd();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(vm(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(gl.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(c)}return Gf.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function vm(t,e,n,r,i){var o=Pd();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Sd();return n.forEach(function(n,s){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(gl.min())?(e.removeEntry(n,c),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,c),o=o.insert(n,s)):rl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function bm(t,e){var n=ul(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function ym(t,e){var n=ul(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Gf.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new ap(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function _m(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:r=ul(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Jf(s=a.sent()))throw s;return rl("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function wm(t,e,n){var r=ul(t),i=gl.min(),o=Pd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=ul(t),i=r.kn.get(n);return void 0!==i?Gf.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,kh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:gl.min(),n?o:Pd())}).next(function(t){return{documents:t,Bn:o}})})}function Cm(t,e){var n=ul(t),r=ul(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function Tm(t){var e=ul(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=ul(t),i=Sd(),o=hp(n),s=Jp(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:Nf.readTimeIndex,range:a},function(t,e){var n=up(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:dp(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function Em(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){return[2,(e=ul(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Jp(t),n=gl.min();return e.Ot({index:Nf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=dp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function Sm(t,e,n,r){return Object(Go.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,c,u,l,h,d,f;return Object(Go.__generator)(this,function(p){switch(p.label){case 0:for(i=ul(t),o=Pd(),s=Sd(),a=Id(),c=0,u=n;c<u.length;c++)h=e.qn((l=u[c]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,ym(i,function(t){return kh(wh(wl.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return vm(t,d,s,gl.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,o,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function Om(t,e,n){return void 0===n&&(n=Pd()),Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return[4,ym(t,kh(bp(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=ul(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=$d(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(Sl.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var xm=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Gf.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:$d(n.createTime)}),Gf.resolve()},t.prototype.getNamedQuery=function(t,e){return Gf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:bp(t.bundledQuery),readTime:$d(t.readTime)}}(e)),Gf.resolve()},t}(),km=function(){function t(){this.Wn=new Cd(Im.Gn),this.zn=new Cd(Im.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Im(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new Im(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new jl(new wl([])),r=new Im(n,t),i=new Im(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new jl(new wl([])),n=new Im(e,t),r=new Im(e,t+1),i=Pd();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Im(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Im=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return jl.comparator(t.key,e.key)||dl(t.ns,e.ns)},t.Hn=function(t,e){return dl(t.ns,e.ns)||jl.comparator(t.key,e.key)},t}(),Am=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Cd(Im.Gn)}return t.prototype.checkEmpty=function(t){return Gf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new op(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var c=a[s];this.rs=this.rs.add(new Im(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return Gf.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Gf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Gf.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Gf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Gf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Im(e,0),i=new Im(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Gf.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Cd(dl);return e.forEach(function(t){var e=new Im(t,0),i=new Im(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Gf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;jl.isDocumentKey(i)||(i=i.child(""));var o=new Im(new jl(i),0),s=new Cd(dl);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Gf.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;cl(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Gf.forEach(e.mutations,function(i){var o=new Im(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Im(e,0),r=this.rs.firstAfterOrEqual(n);return Gf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Gf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Pm=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new yd(jl.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Gf.resolve(n?n.document.clone():Jl.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Sd();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Jl.newInvalidDocument(t))}),Gf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Sd(),i=new jl(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,c=a.document,u=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;u.compareTo(n)<=0||Rh(e,c)&&(r=r.insert(c.key,c.clone()))}return Gf.resolve(r)},t.prototype.fs=function(t,e){return Gf.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new Dm(this)},t.prototype.getSize=function(t){return Gf.resolve(this.size)},t}(),Dm=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Go.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Gf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Yp),Rm=function(){function t(t){this.persistence=t,this.ds=new Gp(function(t){return eh(t)},nh),this.lastRemoteSnapshotVersion=gl.min(),this.highestTargetId=0,this.ws=0,this._s=new km,this.targetCount=0,this.ys=Mp.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Gf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Gf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Gf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Gf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Gf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Mp(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Gf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Gf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Gf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Gf.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Gf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Gf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Gf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Gf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Gf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Gf.resolve(n)},t.prototype.containsKey=function(t,e){return Gf.resolve(this._s.containsKey(e))},t}(),Nm=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Ju(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Rm(this),this.Ut=new Cp,this.Ue=function(t,e){return new Pm(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new cp(e),this.Qe=new xm(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Am(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;rl("MemoryPersistence","Starting transaction:",t);var i=new Mm(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Gf.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),Mm=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Go.__extends)(e,t),e}(Wf),jm=function(){function t(t){this.persistence=t,this.As=new km,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw al()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Gf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Gf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Gf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Gf.forEach(this.vs,function(r){var i=jl.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Gf.or([function(){return Gf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Lm=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function Fm(t,e){return"firestore_clients_"+t+"_"+e}function Um(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Vm(t,e){return"firestore_targets_"+t+"_"+e}Lm.UNAUTHENTICATED=new Lm(null),Lm.GOOGLE_CREDENTIALS=new Lm("google-credentials-uid"),Lm.FIRST_PARTY=new Lm("first-party-uid");var Bm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new tl(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(il("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),qm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new tl(i.error.code,i.error.message)),o?new t(e,i.state,r):(il("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),zm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Rd(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ml(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(il("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Hm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(il("SharedClientState","Failed to parse online state: "+e),null)},t}(),Wm=function(){function t(){this.activeTargetIds=Rd()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Km=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new yd(dl),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=Fm(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Wm),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,c,u,l=this;return Object(Go.__generator)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(Fm(this.persistenceKey,r)))&&(o=zm.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),c=0,u=this.Os;c<u.length;c++)this.Fs(u[c]);return this.Os=[],this.window.addEventListener("pagehide",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Vm(this.persistenceKey,t));if(n){var r=qm.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Vm(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return rl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){rl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){rl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(rl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void il("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Go.__awaiter)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Go.__generator)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Ju.o;if(null!=t)try{var n=JSON.parse(t);cl("number"==typeof n),e=n}catch(t){il("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Ju.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Bm(this.currentUser,t,e,n),i=Um(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Um(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=Vm(this.persistenceKey,t),i=new qm(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return zm.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return Bm.Vs(new Lm(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return qm.Vs(r,e)},t.prototype.js=function(t){return Hm.Vs(t)},t.prototype.ii=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ai(t.batchId,t.state,t.error)]:(rl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ui(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Rd();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Gm=function(){function t(){this.li=new Wm,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Wm,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Ym=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),$m=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){rl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){rl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Qm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Xm=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Jm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Go.__extends)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Xu;s.listenOnce(Yu.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Gu.NO_ERROR:var e=s.getResponseJson();rl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Gu.TIMEOUT:rl("Connection",'RPC "'+t+'" timed out'),o(new tl(Zu.DEADLINE_EXCEEDED,"Request time out"));break;case Gu.HTTP_ERROR:var n=s.getStatus();if(rl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Zu).indexOf(e)>=0?e:Zu.UNKNOWN}(r.status);o(new tl(a,r.message))}else o(new tl(Zu.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new tl(Zu.UNAVAILABLE,"Connection failed."));break;default:al()}}finally{rl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new qu,i=Wa(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),Object($o.isMobileCordova)()||Object($o.isReactNative)()||Object($o.isElectron)()||Object($o.isIE)()||Object($o.isUWP)()||Object($o.isBrowserExtension)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");rl("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),c=!1,u=!1,l=new Xm({Ei:function(t){u?rl("Connection","Not sending because WebChannel is closed:",t):(c||(rl("Connection","Opening WebChannel transport."),a.open(),c=!0),rl("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Qu.EventType.OPEN,function(){u||rl("Connection","WebChannel transport opened.")}),h(a,Qu.EventType.CLOSE,function(){u||(u=!0,rl("Connection","WebChannel transport closed"),l.Vi())}),h(a,Qu.EventType.ERROR,function(t){u||(u=!0,ol("Connection","WebChannel transport errored:",t),l.Vi(new tl(Zu.UNAVAILABLE,"The operation could not be completed")))}),h(a,Qu.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];cl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){rl("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=dd[t];if(void 0!==e)return bd(e)}(i),s=r.message;void 0===o&&(o=Zu.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),u=!0,l.Vi(new tl(o,s)),a.close()}else rl("Connection","WebChannel received:",n),l.Si(n)}}),h(i,$u.STAT_EVENT,function(t){10===t.stat?rl("Connection","Detected buffering proxy"):11===t.stat&&rl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);rl("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return rl("RestConnection","Received: ",t),t},function(e){throw ol("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.2",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+Qm[t]},t}());function Zm(){return"undefined"!=typeof window?window:null}function tg(){return"undefined"!=typeof document?document:null}function eg(t){return new Wd(t,!0)}var ng=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&rl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),rg=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ng(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ar(),this.stream.send(t)},t.prototype.rr=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ar=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return this.ar(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Zu.RESOURCE_EXHAUSTED?(il(e.toString()),il("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Zu.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ur(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ur=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new tl(Zu.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Go.__awaiter)(t,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return rl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(rl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ig=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return Object(Go.__extends)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:al()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(cl(void 0===e||"string"==typeof e),Sl.fromBase64String(e||"")):(cl(void 0===e||e instanceof Uint8Array),Sl.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Zu.UNKNOWN:bd(t.code);return new tl(e,t.message||"")}(a);n=new Fd(r,i,o,s||null)}else if("documentChange"in e){i=Zd(t,(r=e.documentChange).document.name),o=$d(r.document.updateTime);var a=new Ql({mapValue:{fields:r.document.fields}}),c=(s=Jl.newFoundDocument(i,o,a),r.targetIds||[]);n=new jd(c,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Zd(t,(r=e.documentDelete).document),o=r.readTime?$d(r.readTime):gl.min(),a=Jl.newNoDocument(i,o),n=new jd([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Zd(t,(r=e.documentRemove).document),n=new jd([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return al();var u=e.filter;i=new gd(r=u.count||0),n=new Ld(o=u.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return gl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?gl.min():e.readTime?$d(e.readTime):gl.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=nf(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=rh(r)?{documents:uf(t,r)}:{query:lf(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Gd(t,e.resumeToken):e.snapshotVersion.compareTo(gl.min())>0&&(n.readTime=Kd(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return al()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=nf(this.R),e.removeTarget=t,this.cr(e)},e}(rg),og=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return Object(Go.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ur=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(cl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(cl(void 0!==e),t.map(function(t){return function(t,e){var n=$d(t.updateTime?t.updateTime:e);return n.isEqual(gl.min())&&(n=$d(e)),new Jh(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=$d(t.commitTime);return this.listener.Tr(n,e)}return cl(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=nf(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return af(e.R,t)})};this.cr(n)},e}(rg),sg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Go.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new tl(Zu.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Zu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new tl(Zu.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Zu.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new tl(Zu.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),ag=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(il(e),this.Vr=!1):rl("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),cg=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Go.__awaiter)(o,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){switch(t.label){case 0:return vg(this)?(rl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return(e=ul(t)).$r.add(4),[4,lg(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,ug(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new ag(n,r)};function ug(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:if(!vg(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function lg(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function hg(t,e){var n=ul(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),gg(n)?mg(n):Dg(n).er()&&fg(n,e))}function dg(t,e){var n=ul(t),r=Dg(n);n.Or.delete(e),r.er()&&pg(n,e),0===n.Or.size&&(r.er()?r.ir():vg(n)&&n.Br.set("Unknown"))}function fg(t,e){t.qr.U(e.targetId),Dg(t).mr(e)}function pg(t,e){t.qr.U(e),Dg(t).yr(e)}function mg(t){t.qr=new Vd({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),Dg(t).start(),t.Br.Sr()}function gg(t){return vg(t)&&!Dg(t).tr()&&t.Or.size>0}function vg(t){return 0===ul(t).$r.size}function bg(t){t.qr=void 0}function yg(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){return t.Or.forEach(function(e,n){fg(t,e)}),[2]})})}function _g(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(n){return bg(t),gg(t)?(t.Br.Nr(e),mg(t)):t.Br.set("Unknown"),[2]})})}function wg(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(Go.__generator)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof Fd&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(Go.__generator)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),rl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Cg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof jd?t.qr.X(e):e instanceof Ld?t.qr.rt(e):t.qr.et(e),n.isEqual(gl.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,mm(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.at(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(Sl.EMPTY_BYTE_STRING,n.snapshotVersion)),pg(t,e);var r=new ap(n.target,e,1,n.sequenceNumber);fg(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return rl("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Cg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Cg(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r=this;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:if(!Jf(e))throw e;return t.$r.add(1),[4,lg(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return mm(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Go.__awaiter)(r,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return rl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,ug(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Tg(t,e){return e().catch(function(n){return Cg(t,n,e)})}function Eg(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Go.__generator)(this,function(s){switch(s.label){case 0:e=ul(t),n=Rg(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return vg(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,bm(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=Rg(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Cg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Sg(e)&&Og(e),[2]}})})}function Sg(t){return vg(t)&&!Rg(t).tr()&&t.kr.length>0}function Og(t){Rg(t).start()}function xg(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){return Rg(t).Ar(),[2]})})}function kg(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(Go.__generator)(this,function(i){for(e=Rg(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function Ig(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=sp.from(r,e,n),[4,Tg(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,Eg(t)];case 2:return o.sent(),[2]}})})}function Ag(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return e&&Rg(t).pr?[4,function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return vd(r=e.code)&&r!==Zu.ABORTED?(n=t.kr.shift(),Rg(t).sr(),[4,Tg(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Eg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Sg(t)&&Og(t),[2]}})})}function Pg(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return n=ul(t),e?(n.$r.delete(2),[4,ug(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,lg(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Dg(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=ul(t);return r.br(),new ig(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:yg.bind(null,t),Ri:_g.bind(null,t),_r:wg.bind(null,t)}),t.Mr.push(function(n){return Object(Go.__awaiter)(e,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),gg(t)?mg(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),bg(t),e.label=3;case 3:return[2]}})})})),t.Ur}function Rg(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=ul(t);return r.br(),new og(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:xg.bind(null,t),Ri:Ag.bind(null,t),Ir:kg.bind(null,t),Tr:Ig.bind(null,t)}),t.Mr.push(function(n){return Object(Go.__awaiter)(e,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Eg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(rl("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var Ng=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Kf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new tl(Zu.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Mg(t,e){if(il("AsyncQueue",e+": "+t),Jf(t))return new tl(Zu.UNAVAILABLE,e+": "+t);throw t}var jg=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||jl.comparator(e.key,n.key)}:function(t,e){return jl.comparator(t.key,e.key)},this.keyedMap=xd(),this.sortedSet=new yd(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Lg=function(){function t(){this.Kr=new yd(jl.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):al():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Fg=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,jg.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ug=function(){this.Wr=void 0,this.listeners=[]},Vg=function(){this.queries=new Gp(function(t){return Ph(t)},Ah),this.onlineState="Unknown",this.Gr=new Set};function Bg(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,c;return Object(Go.__generator)(this,function(u){switch(u.label){case 0:if(n=ul(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Ug),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=u.sent(),[3,4];case 3:return a=u.sent(),c=Mg(a,"Initialization of query '"+Dh(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Wg(n),[2]}})})}function qg(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Go.__generator)(this,function(a){return n=ul(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function zg(t,e){for(var n=ul(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hr(s)&&(r=!0);a.Wr=s}}r&&Wg(n)}function Hg(t,e,n){var r=ul(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Wg(t){t.Gr.forEach(function(t){t.next()})}var Kg=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Fg(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Fg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Gg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Yg=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Zd(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?sf(this.R,t.document,!1):Jl.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return $d(t)},t}(),$g=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Qg(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Yg(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,c=o.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||Pd()).add(s);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return[4,Sm(this.localStore,new Yg(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Om(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new am(Object.assign({},this.progress),t))]}})})},t}();function Qg(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var Xg=function(t){this.key=t},Jg=function(t){this.key=t},Zg=function(){function t(t,e){this.query=t,this.ao=e,this.uo=null,this.current=!1,this.ho=Pd(),this.mutatedKeys=Pd(),this.lo=Nh(t),this.fo=new jg(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.ao},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Lg,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=Ch(this.query)&&i.size===this.query.limit?i.last():null,u=Th(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=Rh(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),Ch(this.query)||Th(this.query))for(;s.size>this.query.limit;){var l=Ch(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return al()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.uo;return this.uo=a,0!==o.length||c?{snapshot:new Fg(this.query,t.fo,i,o,t.mutatedKeys,0===a,c,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Lg,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.ao.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.ao=e.ao.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.ao=e.ao.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Pd(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new Jg(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Xg(t))}),n},t.prototype.Ao=function(t){this.ao=t.Bn,this.ho=Pd();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Fg.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.uo)},t}(),tv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ev=function(t){this.key=t,this.bo=!1},nv=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Gp(function(t){return Ph(t)},Ah),this.Vo=new Map,this.So=new Set,this.Do=new yd(jl.comparator),this.Co=new Map,this.No=new km,this.xo={},this.Fo=new Map,this.ko=Mp.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function rv(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:return n=Dv(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,ym(n.localStore,kh(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,iv(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&hg(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function iv(t,e,n,r){return Object(Go.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,c,u;return Object(Go.__generator)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(Go.__awaiter)(this,void 0,void 0,function(){var i,o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,wm(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(vv(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,wm(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Zg(e,i.Bn),s=o._o(i.documents),a=Md.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,a),vv(t,n,c.To),u=new tv(e,n,o),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function ov(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return n=ul(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Ah(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,_m(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),dg(n.remoteStore,r.targetId),mv(n,r.targetId)}).catch(Vp)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return mv(n,r.targetId),[4,_m(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function sv(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:r=Rv(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=ul(t),i=ml.now(),o=e.reduce(function(t,e){return t.add(e.key)},Pd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,c=e;a<c.length;a++){var u=c[a],l=id(u,n.get(u.key));null!=l&&s.push(new cd(u.key,l,Xl(l.toProto().mapValue),Zh.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new yd(dl)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,_v(r,i.changes)];case 3:return a.sent(),[4,Eg(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=Mg(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function av(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:n=ul(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,gm(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(cl(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?cl(r.bo):t.removedDocuments.size>0&&(cl(r.bo),r.bo=!1))}),[4,_v(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Vp(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function cv(t,e,n){var r=ul(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=ul(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Wg(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uv(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a,c;return Object(Go.__generator)(this,function(u){switch(u.label){case 0:return(r=ul(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new yd(jl.comparator)).insert(o,Jl.newNoDocument(o,gl.min())),a=Pd().add(o),c=new Nd(gl.min(),new Map,new Cd(dl),s,a),[4,av(r,c)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),yv(r),[3,4];case 2:return[4,_m(r.localStore,e,!1).then(function(){return mv(r,e,n)}).catch(Vp)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function lv(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:n=ul(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,pm(n.localStore,e)];case 2:return i=o.sent(),pv(n,r,null),fv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,_v(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Vp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function hv(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:r=ul(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=ul(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return cl(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),pv(r,e,n),fv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,_v(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Vp(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function dv(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:vg((n=ul(t)).remoteStore)||rl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=ul(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=Mg(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function fv(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function pv(t,e,n){var r=ul(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function mv(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||gv(t,e)})}function gv(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(dg(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),yv(t))}function vv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Xg?(t.No.addReference(o.key,e),bv(t,o)):o instanceof Jg?(rl("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||gv(t,o.key)):al()}}function bv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(rl("SyncEngine","New document in limbo: "+n),t.So.add(r),yv(t))}function yv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new jl(wl.fromString(e)),r=t.ko.next();t.Co.set(r,new ev(n)),t.Do=t.Do.insert(n,r),hg(t.remoteStore,new ap(kh(wh(n.path)),r,2,Ju.o))}}function _v(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:return r=ul(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=um.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,c,u;return Object(Go.__generator)(this,function(l){switch(l.label){case 0:n=ul(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Gf.forEach(e,function(e){return Gf.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Gf.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Jf(r=l.sent()))throw r;return rl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(c=n.Fn.get(a),u=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,u));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function wv(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return(n=ul(t)).currentUser.isEqual(e)?[3,3]:(rl("SyncEngine","User change. New user:",e.toKey()),[4,fm(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new tl(Zu.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,_v(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Cv(t,e){var n=ul(t),r=n.Co.get(e);if(r&&r.bo)return Pd().add(r.key);var i=Pd(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var c=n.Po.get(a[s]);i=i.unionWith(c.view.wo)}return i}function Tv(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return[4,wm((n=ul(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&vv(n,e.targetId,i.To),i)]}})})}function Ev(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){return[2,Tm((e=ul(t)).localStore).then(function(t){return _v(e,t)})]})})}function Sv(t,e,n,r){return Object(Go.__awaiter)(this,void 0,void 0,function(){var i,o;return Object(Go.__generator)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=ul(t),r=ul(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Gf.resolve(null)})})}((i=ul(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Eg(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(pv(i,e,r||null),fv(i,e),function(t,e){ul(ul(t)._n).Gt(e)}(i.localStore,e)):al(),s.label=4;case 4:return[4,_v(i,o)];case 5:return s.sent(),[3,7];case 6:rl("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Ov(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,c;return Object(Go.__generator)(this,function(u){switch(u.label){case 0:return Dv(n=ul(t)),Rv(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,xv(n,r.toArray())]);case 1:return i=u.sent(),n.Oo=!0,[4,Pg(n.remoteStore,!0)];case 2:for(u.sent(),o=0,s=i;o<s.length;o++)hg(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then(function(){return mv(n,e),_m(n.localStore,e,!0)}),dg(n.remoteStore,e)}),[4,c]);case 4:return u.sent(),[4,xv(n,a)];case 5:return u.sent(),function(t){var e=ul(t);e.Co.forEach(function(t,n){dg(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new yd(jl.comparator)}(n),n.Oo=!1,[4,Pg(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function xv(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,c,u,l,h,d,f,p;return Object(Go.__generator)(this,function(m){switch(m.label){case 0:n=ul(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(c=void 0,(u=n.Vo.get(a=s[o]))&&0!==u.length?[4,ym(n.localStore,kh(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,Tv(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Cm(n.localStore,a)];case 8:return p=m.sent(),[4,ym(n.localStore,p)];case 9:return c=m.sent(),[4,iv(n,kv(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function kv(t){return _h(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Iv(t){var e=ul(t);return ul(ul(e.localStore).persistence).fn()}function Av(t,e,n,r){return Object(Go.__awaiter)(this,void 0,void 0,function(){var i,o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:return(i=ul(t)).Oo?(rl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Tm(i.localStore)];case 3:return o=a.sent(),s=Nd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,_v(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,_m(i.localStore,e,!0)];case 6:return a.sent(),mv(i,e,r),[3,8];case 7:al(),a.label=8;case 8:return[2]}})})}function Pv(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a,c,u,l,h;return Object(Go.__generator)(this,function(d){switch(d.label){case 0:if(!(r=Dv(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(rl("SyncEngine","Adding an already active target "+s),[3,5]):[4,Cm(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,ym(r.localStore,a)];case 3:return c=d.sent(),[4,iv(r,kv(a),c.targetId,!1)];case 4:d.sent(),hg(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,_m(r.localStore,t,!1).then(function(){dg(r.remoteStore,t),mv(r,t)}).catch(Vp)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Dv(t){var e=ul(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=av.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uv.bind(null,e),e.vo._r=zg.bind(null,e.eventManager),e.vo.Mo=Hg.bind(null,e.eventManager),e}function Rv(t){var e=ul(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hv.bind(null,e),e}function Nv(t,e,n){var r=ul(t);(function(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a,c;return Object(Go.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=u.sent(),[4,function(t,e){var n=ul(t),r=$d(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.Qe.getBundleMetadata(t,e.id)}).then(function(t){return!!t&&t.createTime.compareTo(r)>=0})}(t.localStore,r)];case 2:return u.sent()?[4,e.close()]:[3,4];case 3:return[2,(u.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n._updateProgress(Qg(r)),i=new $g(r,t.localStore,e.R),[4,e.Lo()];case 5:o=u.sent(),u.label=6;case 6:return o?[4,i.oo(o)]:[3,10];case 7:return(s=u.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:o=u.sent(),u.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return a=u.sent(),[4,_v(t,a.wn,void 0)];case 12:return u.sent(),[4,function(t,e){var n=ul(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.Qe.saveBundleMetadata(t,e)})}(t.localStore,r)];case 13:return u.sent(),n._completeWith(a.progress),[3,15];case 14:return ol("SyncEngine","Loading bundle failed with "+(c=u.sent())),n._failWith(c),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.sharedClientState.notifyBundleLoaded()})}var Mv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return this.R=eg(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return dm(this.persistence,new lm,t.initialUser,this.R)},t.prototype.qo=function(t){return new Nm(jm.bs,this.R)},t.prototype.Bo=function(t){return new Gm},t.prototype.terminate=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Go.__extends)(e,t),e.prototype.initialize=function(e){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Em(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Rv(this.Ko.syncEngine)];case 4:return n.sent(),[4,Eg(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return dm(this.persistence,new lm,t.initialUser,this.R)},e.prototype.Uo=function(t){return new zp(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=sm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?xp.withCacheSize(this.cacheSizeBytes):xp.DEFAULT;return new rm(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Zm(),tg(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Gm},e}(Mv),Lv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Go.__extends)(e,t),e.prototype.initialize=function(e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r=this;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof Km?(this.sharedClientState.syncEngine={ai:Sv.bind(null,n),ui:Av.bind(null,n),hi:Pv.bind(null,n),fn:Iv.bind(null,n),ci:Ev.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Go.__awaiter)(r,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return[4,Ov(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Zm();if(!Km.yt(e))throw new tl(Zu.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sm(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Km(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(jv),Fv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n=this;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return cv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=wv.bind(null,this.syncEngine),[4,Pg(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new Vg},t.prototype.createDatastore=function(t){var e=eg(t.databaseInfo.databaseId),n=new Jm(t.databaseInfo);return function(t,e,n){return new sg(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return cv(s.syncEngine,t,0)},o=$m.yt()?new $m:new Ym,new cg(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new nv(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return e=ul(t),rl("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,lg(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}();function Uv(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r;return Object(Go.__generator)(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){return[2]})})},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Vv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Bv=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Kf,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e,n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Gg(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),qv=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new tl(Zu.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Go.__generator)(this,function(c){switch(c.label){case 0:return n=ul(t),r=nf(n.R)+"/documents",i={documents:e.map(function(t){return Jd(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=c.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){cl(!!e.found);var n=Zd(t,e.found.name),r=$d(e.found.updateTime),i=new Ql({mapValue:{fields:e.found.fields}});return Jl.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){cl(!!e.missing),cl(!!e.readTime);var n=Zd(t,e.missing),r=$d(e.readTime);return Jl.newNoDocument(n,r)}(t,e):al()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());cl(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new pd(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e=this;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=jl.fromPath(n);e.mutations.push(new md(r,e.precondition(r)))}),[4,function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return n=ul(t),r=nf(n.R)+"/documents",i={writes:e.map(function(t){return af(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw al();e=gl.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new tl(Zu.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Zh.updateTime(e):Zh.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(gl.min()))throw new tl(Zu.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zh.updateTime(e)}return Zh.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),zv=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ng(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Go.__awaiter)(t,void 0,void 0,function(){var t,e,n=this;return Object(Go.__generator)(this,function(r){return t=new qv(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Rl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!vd(e)}return!1},t}(),Hv=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Lm.UNAUTHENTICATED,this.clientId=hl.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(t){return Object(Go.__awaiter)(r,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return rl("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}})})})}return t.prototype.getConfiguration=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new tl(Zu.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Kf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Go.__awaiter)(t,void 0,void 0,function(){var t,n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Mg(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Wv(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i=this;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),rl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(t){return Object(Go.__awaiter)(i,void 0,void 0,function(){return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,fm(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Kv(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Gv(t)];case 1:return n=i.sent(),rl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(t){return function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return(n=ul(t)).asyncQueue.verifyOperationInProgress(),rl("RemoteStore","RemoteStore received new credentials"),r=vg(n),n.$r.add(3),[4,lg(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,ug(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,t)}),t.onlineComponents=e,[2]}})})}function Gv(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(rl("FirestoreClient","Using default OfflineComponentProvider"),[4,Wv(t,new Mv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Yv(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(rl("FirestoreClient","Using default OnlineComponentProvider"),[4,Kv(t,new Fv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function $v(t){return Gv(t).then(function(t){return t.persistence})}function Qv(t){return Gv(t).then(function(t){return t.localStore})}function Xv(t){return Yv(t).then(function(t){return t.remoteStore})}function Jv(t){return Yv(t).then(function(t){return t.syncEngine})}function Zv(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return[4,Yv(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=rv.bind(null,e.syncEngine),n.onUnlisten=ov.bind(null,e.syncEngine),n)]}})})}function tb(t,e,n){var r=this;void 0===n&&(n={});var i=new Kf;return t.asyncQueue.enqueueAndForget(function(){return Object(Go.__awaiter)(r,void 0,void 0,function(){var r;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Vv({next:function(o){e.enqueueAndForget(function(){return qg(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new tl(Zu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new tl(Zu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Kg(wh(n.path),o,{includeMetadataChanges:!0,so:!0});return Bg(t,s)},[4,Zv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function eb(t,e,n){var r=this;void 0===n&&(n={});var i=new Kf;return t.asyncQueue.enqueueAndForget(function(){return Object(Go.__awaiter)(r,void 0,void 0,function(){var r;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Vv({next:function(n){e.enqueueAndForget(function(){return qg(t,s)}),n.fromCache&&"server"===r.source?i.reject(new tl(Zu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Kg(n,o,{includeMetadataChanges:!0,so:!0});return Bg(t,s)},[4,Zv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var nb=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},rb=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),ib=new Map,ob=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},sb=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(Lm.UNAUTHENTICATED)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ab=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable(function(){return e(n.token.user)})},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),cb=function(){function t(t){var e=this;this.currentUser=Lm.UNAUTHENTICATED,this.oc=new Kf,this.cc=0,this.changeListener=function(){return Promise.resolve()},this.ac=!1,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.hc(),e.oc.resolve(),e.ac&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var n=function(t){rl("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.lc(),e.auth.addAuthTokenListener(e.uc)};t.onInit(function(t){return n(t)}),setTimeout(function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):e.ac&&(rl("FirebaseCredentialsProvider","Auth not yet detected"),e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)}))}},0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(rl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(cl("string"==typeof n.accessToken),new ob(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){this.ac=!0,this.asyncQueue=t,this.changeListener=e},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.hc=function(){var t=this.auth&&this.auth.getUid();return cl(null===t||"string"==typeof t),new Lm(t)},t.prototype.lc=function(){var t=this;this.ac&&(this.ac=!1,this.asyncQueue.enqueueRetryable(function(){return Object(Go.__awaiter)(t,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,this.changeListener(this.currentUser)];case 2:return t.sent(),this.ac=!0,[2]}})})}))},t}(),ub=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n,this.type="FirstParty",this.user=Lm.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.dc},e=this.fc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.wc&&(t["X-Goog-Iam-Authorization-Token"]=this.wc),t},enumerable:!1,configurable:!0}),t}(),lb=function(){function t(t,e,n){this.fc=t,this.dc=e,this.wc=n}return t.prototype.getToken=function(){return Promise.resolve(new ub(this.fc,this.dc,this.wc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(Lm.FIRST_PARTY)})},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function hb(t,e,n){if(!n)throw new tl(Zu.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function db(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new tl(Zu.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function fb(t,e,n,r){if(!0===e&&!0===r)throw new tl(Zu.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function pb(t){if(!jl.isDocumentKey(t))throw new tl(Zu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function mb(t){if(jl.isDocumentKey(t))throw new tl(Zu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function gb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":al()}function vb(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new tl(Zu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gb(t);throw new tl(Zu.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function bb(t,e){if(e<=0)throw new tl(Zu.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var yb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new tl(Zu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new tl(Zu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,fb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),_b=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yb({}),this._settingsFrozen=!1,t instanceof rb?(this._databaseId=t,this._credentials=new sb):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new tl(Zu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rb(t.options.projectId)}(t),this._credentials=new cb(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new tl(Zu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new tl(Zu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yb(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new sb;switch(t.type){case"gapi":var e=t.client;return cl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new lb(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new tl(Zu.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=ib.get(this))&&(rl("ComponentProvider","Removing Datastore"),ib.delete(this),t.terminate()),Promise.resolve();var t},t}(),wb=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Tb(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Cb=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Tb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,wh(r))||this)._path=r,i.type="collection",i}return Object(Go.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new wb(this.firestore,null,new jl(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Cb);function Eb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object($o.getModularInstance)(t),hb("collection","path",e),t instanceof _b)return mb(n=wl.fromString.apply(wl,Object(Go.__spreadArray)([e],r))),new Tb(t,null,n);if(!(t instanceof wb||t instanceof Tb))throw new tl(Zu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return mb(n=wl.fromString.apply(wl,Object(Go.__spreadArray)([t.path],r)).child(wl.fromString(e))),new Tb(t.firestore,null,n)}function Sb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object($o.getModularInstance)(t),1===arguments.length&&(e=hl.u()),hb("doc","path",e),t instanceof _b)return pb(n=wl.fromString.apply(wl,Object(Go.__spreadArray)([e],r))),new wb(t,null,new jl(n));if(!(t instanceof wb||t instanceof Tb))throw new tl(Zu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return pb(n=t._path.child(wl.fromString.apply(wl,Object(Go.__spreadArray)([e],r)))),new wb(t.firestore,t instanceof Tb?t.converter:null,new jl(n))}function Ob(t,e){return t=Object($o.getModularInstance)(t),e=Object($o.getModularInstance)(e),(t instanceof wb||t instanceof Tb)&&(e instanceof wb||e instanceof Tb)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function xb(t,e){return t=Object($o.getModularInstance)(t),e=Object($o.getModularInstance)(e),t instanceof Cb&&e instanceof Cb&&t.firestore===e.firestore&&Ah(t._query,e._query)&&t.converter===e.converter}var kb=function(){function t(){var t=this;this._c=Promise.resolve(),this.mc=[],this.yc=!1,this.gc=[],this.Ec=null,this.Tc=!1,this.Ic=[],this.Zi=new ng(this,"async_queue_retry"),this.Ac=function(){var e=tg();e&&rl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=tg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ac)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.yc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Rc(),this.bc(t)},t.prototype.enterRestrictedMode=function(){if(!this.yc){this.yc=!0;var t=tg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ac)}},t.prototype.enqueue=function(t){return this.Rc(),this.yc?new Promise(function(t){}):this.bc(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.mc.push(t),e.vc()})},t.prototype.vc=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e=this;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:if(0===this.mc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.mc[0]()];case 2:return n.sent(),this.mc.shift(),this.Zi.reset(),[3,4];case 3:if(!Jf(t=n.sent()))throw t;return rl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.mc.length>0&&this.Zi.ji(function(){return e.vc()}),n.label=5;case 5:return[2]}})})},t.prototype.bc=function(t){var e=this,n=this._c.then(function(){return e.Tc=!0,t().catch(function(t){throw e.Ec=t,e.Tc=!1,il("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.Tc=!1,t})});return this._c=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Rc(),this.Ic.indexOf(t)>-1&&(e=0);var i=Ng.createAndSchedule(this,t,e,n,function(t){return r.Pc(t)});return this.gc.push(i),i},t.prototype.Rc=function(){this.Ec&&al()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Vc=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t;return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return[4,t=this._c];case 1:e.sent(),e.label=2;case 2:if(t!==this._c)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Sc=function(t){for(var e=0,n=this.gc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Dc=function(t){var e=this;return this.Vc().then(function(){e.gc.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.gc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Vc()})},t.prototype.Cc=function(t){this.Ic.push(t)},t.prototype.Pc=function(t){var e=this.gc.indexOf(t);this.gc.splice(e,1)},t}();function Ib(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Ab=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Kf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),Pb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new kb,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Go.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Rb(this),this._firestoreClient.terminate()},e}(_b);function Db(t){return t._firestoreClient||Rb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Rb(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new nb(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Hv(t._credentials,t._queue,r)}function Nb(t,e,n){var r=this,i=new Kf;return t.asyncQueue.enqueue(function(){return Object(Go.__awaiter)(r,void 0,void 0,function(){var r;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Wv(t,n)];case 1:return o.sent(),[4,Kv(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Zu.FAILED_PRECONDITION||t.code===Zu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Mb(t){if(t._initialized||t._terminated)throw new tl(Zu.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var jb=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new tl(Zu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tl(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Lb=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Sl.fromBase64String(e))}catch(e){throw new tl(Zu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Sl.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Fb=function(t){this._methodName=t},Ub=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new tl(Zu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new tl(Zu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return dl(this._lat,t._lat)||dl(this._long,t._long)},t}(),Vb=/^__.*__$/,Bb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new cd(t,this.data,this.fieldMask,e,this.fieldTransforms):new ad(t,this.data,e,this.fieldTransforms)},t}(),qb=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new cd(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function zb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw al()}}var Hb=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Nc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"xc",{get:function(){return this.settings.xc},enumerable:!1,configurable:!0}),t.prototype.Fc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.$c(t),r},t.prototype.Mc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Fc({path:n,Oc:!1});return r.Nc(),r},t.prototype.Lc=function(t){return this.Fc({path:void 0,Oc:!0})},t.prototype.Bc=function(t){return ly(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Uc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Nc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Bc("Document fields must not be empty");if(zb(this.xc)&&Vb.test(t))throw this.Bc('Document fields cannot begin and end with "__"')},t}(),Wb=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||eg(t)}return t.prototype.Qc=function(t,e,n,r){return void 0===r&&(r=!1),new Hb({xc:t,methodName:e,Uc:n,path:Tl.emptyPath(),Oc:!1,qc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Kb(t){var e=t._freezeSettings(),n=eg(t._databaseId);return new Wb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gb(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Qc(o.merge||o.mergeFields?2:0,e,n,i);sy("Data must be an object, but it was:",s,r);var a,c,u=iy(r,s);if(o.merge)a=new El(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=ay(e,d[h],n);if(!s.contains(f))throw new tl(Zu.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");hy(l,f)||l.push(f)}a=new El(l),c=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,c=s.fieldTransforms;return new Bb(new Ql(u),a,c)}var Yb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.__extends)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.xc)throw t.Bc(1===t.xc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Fb);function $b(t,e,n){return new Hb({xc:3,Uc:e.settings.Uc,methodName:t._methodName,Oc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Qb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.__extends)(e,t),e.prototype._toFieldTransform=function(t){return new Xh(t.path,new zh)},e.prototype.isEqual=function(t){return t instanceof e},e}(Fb),Xb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Go.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=$b(this,t,!0),n=this.Kc.map(function(t){return ry(t,e)}),r=new Hh(n);return new Xh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Fb),Jb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return Object(Go.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=$b(this,t,!0),n=this.Kc.map(function(t){return ry(t,e)}),r=new Kh(n);return new Xh(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Fb),Zb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).jc=n,r}return Object(Go.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=new Yh(t.R,Fh(t.R,this.jc));return new Xh(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Fb);function ty(t,e,n,r){var i=t.Qc(1,e,n);sy("Data must be an object, but it was:",i,r);var o=[],s=Ql.empty();bl(r,function(t,r){var a=uy(e,t,n);r=Object($o.getModularInstance)(r);var c=i.Mc(a);if(r instanceof Yb)o.push(a);else{var u=ry(r,c);null!=u&&(o.push(a),s.set(a,u))}});var a=new El(o);return new qb(s,a,i.fieldTransforms)}function ey(t,e,n,r,i,o){var s=t.Qc(1,e,n),a=[ay(e,r,n)],c=[i];if(o.length%2!=0)throw new tl(Zu.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<o.length;u+=2)a.push(ay(e,o[u])),c.push(o[u+1]);for(var l=[],h=Ql.empty(),d=a.length-1;d>=0;--d)if(!hy(l,a[d])){var f=a[d],p=c[d];p=Object($o.getModularInstance)(p);var m=s.Mc(f);if(p instanceof Yb)l.push(f);else{var g=ry(p,m);null!=g&&(l.push(f),h.set(f,g))}}var v=new El(l);return new qb(h,v,s.fieldTransforms)}function ny(t,e,n,r){return void 0===r&&(r=!1),ry(n,t.Qc(r?4:3,e))}function ry(t,e){if(oy(t=Object($o.getModularInstance)(t)))return sy("Unsupported field value:",e,t),iy(t,e);if(t instanceof Fb)return function(t,e){if(!zb(e.xc))throw e.Bc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Bc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Oc&&4!==e.xc)throw e.Bc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=ry(o[i],e.Lc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object($o.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Fh(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ml.fromDate(t);return{timestampValue:Kd(e.R,n)}}if(t instanceof ml)return n=new ml(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Kd(e.R,n)};if(t instanceof Ub)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Lb)return{bytesValue:Gd(e.R,t._byteString)};if(t instanceof wb){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Bc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Qd(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Bc("Unsupported field value: "+gb(t))}(t,e)}function iy(t,e){var n={};return yl(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bl(t,function(t,r){var i=ry(r,e.kc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function oy(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ml||t instanceof Ub||t instanceof Lb||t instanceof wb||t instanceof Fb)}function sy(t,e,n){if(!oy(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=gb(n);throw e.Bc("an object"===r?t+" a custom object":t+" "+r)}}function ay(t,e,n){if((e=Object($o.getModularInstance)(e))instanceof jb)return e._internalPath;if("string"==typeof e)return uy(t,e);throw ly("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var cy=new RegExp("[~\\*/\\[\\]]");function uy(t,e,n){if(e.search(cy)>=0)throw ly("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(jb.bind.apply(jb,Object(Go.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(r){throw ly("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function ly(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(o||s)&&(c+=" (found",o&&(c+=" in field "+r),s&&(c+=" in document "+i),c+=")"),new tl(Zu.INVALID_ARGUMENT,(a+=". ")+t+c)}function hy(t,e){return t.some(function(t){return t.isEqual(e)})}var dy=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new wb(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new fy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(py("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),fy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(dy);function py(t,e){return"string"==typeof e?uy(t,e):e instanceof jb?e._internalPath:e._delegate._internalPath}var my=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),gy=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return Object(Go.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new vy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(py("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(dy),vy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.__extends)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(gy),by=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new my(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new vy(n._firestore,n._userDataWriter,r.key,r,new my(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new tl(Zu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new vy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new my(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new vy(t._firestore,t._userDataWriter,e.doc.key,e.doc,new my(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:yy(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function yy(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return al()}}function _y(t,e){return t instanceof gy&&e instanceof gy?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof by&&e instanceof by&&t._firestore===e._firestore&&xb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function wy(t){if(Th(t)&&0===t.explicitOrderBy.length)throw new tl(Zu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Cy=function(){};function Ty(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Ey=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Wc=e,i.Gc=n,i.zc=r,i.type="where",i}return Object(Go.__extends)(e,t),e.prototype._apply=function(t){var e=Kb(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new tl(Zu.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Py(s,o);for(var c=[],u=0,l=s;u<l.length;u++)c.push(Ay(r,t,l[u]));a={arrayValue:{values:c}}}else a=Ay(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Py(s,o),a=ny(n,"where",s,"in"===o||"not-in"===o);var h=ih.create(i,o,a);return function(t,e){if(e.g()){var n=Sh(t);if(null!==n&&!n.isEqual(e.field))throw new tl(Zu.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Eh(t);null!==r&&Dy(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new tl(Zu.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Wc,this.Gc,this.zc);return new Cb(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Cy),Sy=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Wc=e,r.Hc=n,r.type="orderBy",r}return Object(Go.__extends)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new tl(Zu.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new tl(Zu.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new mh(e,n);return function(t,e){if(null===Eh(t)){var n=Sh(t);null!==n&&Dy(0,n,e.field)}}(t,r),r}(t._query,this.Wc,this.Hc);return new Cb(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new yh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Cy),Oy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return Object(Go.__extends)(e,t),e.prototype._apply=function(t){return new Cb(t.firestore,t.converter,Ih(t._query,this.Jc,this.Yc))},e}(Cy),xy=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Go.__extends)(e,t),e.prototype._apply=function(t){var e=Iy(t,this.type,this.Xc,this.Zc);return new Cb(t.firestore,t.converter,function(t,e){return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Cy),ky=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Xc=n,i.Zc=r,i}return Object(Go.__extends)(e,t),e.prototype._apply=function(t){var e=Iy(t,this.type,this.Xc,this.Zc);return new Cb(t.firestore,t.converter,function(t,e){return new yh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Cy);function Iy(t,e,n,r){if(n[0]=Object($o.getModularInstance)(n[0]),n[0]instanceof dy)return function(t,e,n,r,i){if(!r)throw new tl(Zu.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=xh(t);s<a.length;s++){var c=a[s];if(c.field.isKeyField())o.push(Hl(e,r.key));else{var u=r.data.field(c.field);if(Al(u))throw new tl(Zu.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.canonicalString();throw new tl(Zu.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(u)}}return new fh(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Kb(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new tl(Zu.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(s[c].field.isKeyField()){if("string"!=typeof u)throw new tl(Zu.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!Oh(t)&&-1!==u.indexOf("/"))throw new tl(Zu.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(wl.fromString(u));if(!jl.isDocumentKey(l))throw new tl(Zu.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new jl(l);a.push(Hl(e,h))}else{var d=ny(n,r,u);a.push(d)}}return new fh(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Ay(t,e,n){if("string"==typeof(n=Object($o.getModularInstance)(n))){if(""===n)throw new tl(Zu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Oh(e)&&-1!==n.indexOf("/"))throw new tl(Zu.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(wl.fromString(n));if(!jl.isDocumentKey(r))throw new tl(Zu.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Hl(t,new jl(r))}if(n instanceof wb)return Hl(t,n._key);throw new tl(Zu.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+gb(n)+".")}function Py(t,e){if(!Array.isArray(t)||0===t.length)throw new tl(Zu.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new tl(Zu.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Dy(t,e,n){if(!n.isEqual(e))throw new tl(Zu.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Ry=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Ll(t)){case 0:return null;case 1:return t.booleanValue;case 2:return kl(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Il(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw al()}},t.prototype.convertObject=function(t,e){var n=this,r={};return bl(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Ub(kl(t.latitude),kl(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=Pl(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Dl(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=xl(t);return new ml(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=wl.fromString(t);cl(Cf(n));var r=new rb(n.get(1),n.get(3)),i=new jl(n.popFirst(5));return r.isEqual(e)||il("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Ny(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var My=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Go.__extends)(e,t),e.prototype.convertBytes=function(t){return new Lb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wb(this.firestore,null,e)},e}(Ry),jy=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Kb(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Ly(t,this._firestore),i=Ny(r.converter,e,n),o=Gb(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Zh.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=Ly(t,this._firestore);return o="string"==typeof(e=Object($o.getModularInstance)(e))||e instanceof jb?ey(this._dataReader,"WriteBatch.update",s._key,e,n,r):ty(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Zh.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Ly(t,this._firestore);return this._mutations=this._mutations.concat(new pd(e._key,Zh.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new tl(Zu.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Ly(t,e){if((t=Object($o.getModularInstance)(t)).firestore!==e)throw new tl(Zu.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Fy=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Go.__extends)(e,t),e.prototype.convertBytes=function(t){return new Lb(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new wb(this.firestore,null,e)},e}(Ry);function Uy(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=vb(t,wb);var o=vb(t.firestore,Pb),s=Kb(o);return By(o,[("string"==typeof(e=Object($o.getModularInstance)(e))||e instanceof jb?ey(s,"updateDoc",t._key,e,n,r):ty(s,"updateDoc",t._key,e)).toMutation(t._key,Zh.exists(!0))])}function Vy(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object($o.getModularInstance)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Ib(i[a])||(s=i[a],a++);var c,u,l,h={includeMetadataChanges:s.includeMetadataChanges};if(Ib(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof wb)u=vb(t.firestore,Pb),l=wh(t._key.path),c={next:function(e){i[a]&&i[a](qy(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=vb(t,Cb);u=vb(f.firestore,Pb),l=f._query;var p=new Fy(u);c={next:function(t){i[a]&&i[a](new by(u,p,f,t))},error:i[a+1],complete:i[a+2]},wy(t._query)}return function(t,e,n,r){var i=this,o=new Vv(r),s=new Kg(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Go.__awaiter)(i,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return e=Bg,[4,Zv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Go.__awaiter)(i,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return e=qg,[4,Zv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Db(u),l,h,c)}function By(t,e){return function(t,e){var n=this,r=new Kf;return t.asyncQueue.enqueueAndForget(function(){return Object(Go.__awaiter)(n,void 0,void 0,function(){var n;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return n=sv,[4,Jv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Db(t),e)}function qy(t,e,n){var r=n.docs.get(e._key),i=new Fy(t);return new gy(t,i,e._key,r,new my(n.hasPendingWrites,n.fromCache),e.converter)}var zy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Go.__extends)(e,t),e.prototype.get=function(e){var n=this,r=Ly(e,this._firestore),i=new Fy(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new gy(n._firestore,i,r._key,t._document,new my(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Kb(t)}return t.prototype.get=function(t){var e=this,n=Ly(t,this._firestore),r=new My(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return al();var i=t[0];if(i.isFoundDocument())return new dy(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new dy(e._firestore,r,n._key,null,n.converter);throw al()})},t.prototype.set=function(t,e,n){var r=Ly(t,this._firestore),i=Ny(r.converter,e,n),o=Gb(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Ly(t,this._firestore);return o="string"==typeof(e=Object($o.getModularInstance)(e))||e instanceof jb?ey(this._dataReader,"Transaction.update",s._key,e,n,r):ty(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=Ly(t,this._firestore);return this._transaction.delete(e._key),this},t}());function Hy(){if("undefined"==typeof Uint8Array)throw new tl(Zu.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Wy(){if("undefined"==typeof atob)throw new tl(Zu.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Ky=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Wy(),new t(Lb.fromBase64String(e))},t.fromUint8Array=function(e){return Hy(),new t(Lb.fromUint8Array(e))},t.prototype.toBase64=function(){return Wy(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return Hy(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Gy=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Mb(t=vb(t,Pb));var n=Db(t),r=t._freezeSettings(),i=new Fv;return Nb(n,i,new jv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Mb(t=vb(t,Pb));var e=Db(t),n=t._freezeSettings(),r=new Fv;return Nb(e,r,new Lv(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new tl(Zu.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Kf;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Go.__awaiter)(e,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return $f.yt()?[4,$f.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(sm(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),Yy=function(){function t(t,e,n){var r=this;this._delegate=e,this.ta=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof rb||(this.ea=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=vb(t,_b))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&ol("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object($o.createMockUserToken)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new tl(Zu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new ab(new ob(o,new Lm(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Go.__awaiter)(e,void 0,void 0,function(){var e,n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return[4,$v(t)];case 1:return e=r.sent(),[4,Xv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=ul(t);return e.$r.delete(0),ug(e)}(n))]}})})})}(Db(vb(this._delegate,Pb)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Go.__awaiter)(e,void 0,void 0,function(){var e,n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return[4,$v(t)];case 1:return e=r.sent(),[4,Xv(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return(e=ul(t)).$r.add(0),[4,lg(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Db(vb(this._delegate,Pb)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&fb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.ta.enableMultiTabIndexedDbPersistence(this):this.ta.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.ta.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.ea&&(this.ea._removeServiceInstance("firestore"),this.ea._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Kf;return t.asyncQueue.enqueueAndForget(function(){return Object(Go.__awaiter)(e,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return e=dv,[4,Jv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Db(vb(this._delegate,Pb)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Vv(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Go.__awaiter)(n,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){ul(t).Gr.add(e),e.next()},[4,Zv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Go.__awaiter)(n,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return e=function(t,e){ul(t).Gr.delete(e)},[4,Zv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Db(t=vb(t,Pb)),Ib(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ea)throw new tl(Zu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ea},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new c_(this,Eb(this._delegate,t))}catch(t){throw t_(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Zy(this,Sb(this._delegate,t))}catch(t){throw t_(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new o_(this,function(t,e){if(t=vb(t,_b),hb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new tl(Zu.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Cb(t,null,function(t){return new yh(wl.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw t_(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Kf;return t.asyncQueue.enqueueAndForget(function(){return Object(Go.__awaiter)(n,void 0,void 0,function(){var n;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return[4,function(t){return Yv(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new zv(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Db(t),function(n){return e(new zy(t,n))})}(this._delegate,function(n){return t(new Qy(e,n))})},t.prototype.batch=function(){var t=this;return Db(this._delegate),new Xy(new jy(this._delegate,function(e){return By(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new tl(Zu.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new tl(Zu.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),$y=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Go.__extends)(e,t),e.prototype.convertBytes=function(t){return new Ky(new Lb(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Zy.na(e,this.firestore,null)},e}(Ry),Qy=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new $y(t)}return t.prototype.get=function(t){var e=this,n=u_(t);return this._delegate.get(n).then(function(t){return new r_(e._firestore,new gy(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=u_(t);return n?(db("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=u_(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Go.__spreadArray)([s,e,n],i)),this},t.prototype.delete=function(t){var e=u_(t);return this._delegate.delete(e),this},t}(),Xy=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=u_(t);return n?(db("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=u_(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,Object(Go.__spreadArray)([s,e,n],i)),this},t.prototype.delete=function(t){var e=u_(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Jy=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new vy(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new i_(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.sa=function(e,n){var r=t.ia,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new $y(e),n),i.set(n,o)),o},t}();Jy.ia=new WeakMap;var Zy=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new $y(t)}return t.ra=function(e,n,r){if(e.length%2!=0)throw new tl(Zu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new wb(n._delegate,r,new jl(e)))},t.na=function(e,n,r){return new t(n,new wb(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new c_(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new c_(this.firestore,Eb(this._delegate,t))}catch(t){throw t_(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object($o.getModularInstance)(t))instanceof wb&&Ob(this._delegate,t)},t.prototype.set=function(t,e){e=db("DocumentReference.set",e);try{return function(t,e,n){t=vb(t,wb);var r=vb(t.firestore,Pb),i=Ny(t.converter,e,n);return By(r,[Gb(Kb(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Zh.none())])}(this._delegate,t,e)}catch(t){throw t_(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Uy(this._delegate,t):Uy.apply(void 0,Object(Go.__spreadArray)([this._delegate,t,e],n))}catch(t){throw t_(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return By(vb((t=this._delegate).firestore,Pb),[new pd(t._key,Zh.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e_(e),i=n_(e,function(e){return new r_(t.firestore,new gy(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return Vy(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=vb(t,wb);var e=vb(t.firestore,Pb),n=Db(e),r=new Fy(e);return function(t,e){var n=this,r=new Kf;return t.asyncQueue.enqueueAndForget(function(){return Object(Go.__awaiter)(n,void 0,void 0,function(){var n;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=ul(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new tl(Zu.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Mg(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Qv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new gy(e,r,t._key,n,new my(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=vb(t,wb);var e=vb(t.firestore,Pb);return tb(Db(e),t._key,{source:"server"}).then(function(n){return qy(e,t,n)})}(this._delegate):function(t){t=vb(t,wb);var e=vb(t.firestore,Pb);return tb(Db(e),t._key).then(function(n){return qy(e,t,n)})}(this._delegate)).then(function(t){return new r_(e.firestore,new gy(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Jy.sa(this.firestore,e):null))},t}();function t_(t,e,n){return t.message=t.message.replace(e,n),t}function e_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Ib(r))return r}return{}}function n_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Ib(t[0])?t[0]:Ib(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var r_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Zy(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return _y(this._delegate,t._delegate)},t}(),i_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Go.__extends)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(r_),o_=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new $y(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Ty(this._delegate,function(t,e,n){var r=e,i=py("where",t);return new Ey(i,r,n)}(e,n,r)))}catch(e){throw t_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Ty(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=py("orderBy",t);return new Sy(r,n)}(e,n)))}catch(e){throw t_(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Ty(this._delegate,function(t){return bb("limit",t),new Oy("limit",t,"F")}(e)))}catch(e){throw t_(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Ty(this._delegate,function(t){return bb("limitToLast",t),new Oy("limitToLast",t,"L")}(e)))}catch(e){throw t_(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ty(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xy("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw t_(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ty(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new xy("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw t_(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ty(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ky("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw t_(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Ty(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ky("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw t_(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return xb(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=vb(t,Cb);var e=vb(t.firestore,Pb),n=Db(e),r=new Fy(e);return function(t,e){var n=this,r=new Kf;return t.asyncQueue.enqueueAndForget(function(){return Object(Go.__awaiter)(n,void 0,void 0,function(){var n;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Go.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,wm(t,e,!0)];case 1:return a=c.sent(),r=new Zg(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=c.sent(),a=Mg(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Qv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new by(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=vb(t,Cb);var e=vb(t.firestore,Pb),n=Db(e),r=new Fy(e);return eb(n,t._query,{source:"server"}).then(function(n){return new by(e,r,t,n)})}(this._delegate):function(t){t=vb(t,Cb);var e=vb(t.firestore,Pb),n=Db(e),r=new Fy(e);return wy(t._query),eb(n,t._query).then(function(n){return new by(e,r,t,n)})}(this._delegate)).then(function(t){return new a_(e.firestore,new by(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e_(e),i=n_(e,function(e){return new a_(t.firestore,new by(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return Vy(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?Jy.sa(this.firestore,e):null))},t}(),s_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new i_(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),a_=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new o_(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new i_(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new s_(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new i_(n._firestore,r))})},t.prototype.isEqual=function(t){return _y(this._delegate,t._delegate)},t}(),c_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Go.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Zy(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Zy(this.firestore,void 0===t?Sb(this._delegate):Sb(this._delegate,t))}catch(t){throw t_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=vb(t.firestore,Pb),r=Sb(t),i=Ny(t.converter,e);return By(n,[Gb(Kb(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Zh.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new Zy(e.firestore,t)})},e.prototype.isEqual=function(t){return Ob(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Jy.sa(this.firestore,t):null))},e}(o_);function u_(t){return vb(t,wb)}var l_,h_,d_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(jb.bind.apply(jb,Object(Go.__spreadArray)([void 0],t)))}return t.documentId=function(){return new t(Tl.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object($o.getModularInstance)(t))instanceof jb&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),f_=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Qb("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Yb("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Xb("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jb("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Zb("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),p_=n("/6Yf"),m_={Firestore:Yy,GeoPoint:Ub,Timestamp:ml,Blob:Ky,Transaction:Qy,WriteBatch:Xy,DocumentReference:Zy,DocumentSnapshot:r_,Query:o_,QueryDocumentSnapshot:i_,QuerySnapshot:a_,CollectionReference:c_,FieldPath:d_,FieldValue:f_,setLogLevel:function(t){el.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new p_.Component("firestore",function(t){return function(t,e){return new Yy(t,new Pb(t,e),new Gy)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},m_)))})(l_=Yo.default),l_.registerVersion("@firebase/firestore","2.3.1"),(h_=Yy).prototype.loadBundle=function(t){return function(t,e){var n=Db(t=vb(t,Pb)),r=new Ab;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new Bv(t,e)}(function(t,e){if(t instanceof Uint8Array)return Uv(t,e);if(t instanceof ArrayBuffer)return Uv(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,eg(e));t.asyncQueue.enqueueAndForget(function(){return Object(Go.__awaiter)(i,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return e=Nv,[4,Jv(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}})})})}(n,t._databaseId,e,r),r}(this._delegate,t)},h_.prototype.namedQuery=function(t){var e,n,r=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue(function(){return Object(Go.__awaiter)(n,void 0,void 0,function(){var n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=ul(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.Qe.getNamedQuery(t,e)})},[4,Qv(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}})})})}(Db(e=vb(e,Pb)),n).then(function(t){return t?new Cb(e,null,t.query):null})).then(function(t){return t?new o_(r,t):null})};var g_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},v_=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(Go.__extends)(e,t),e}(Error),b_=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t;return Object(Go.__generator)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getContext=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function y_(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var __,w_,C_,T_=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return y_(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?y_(t,function(t){return e.decode(t)}):t},t}(),E_=function(){function t(t,e,n,r,i,o){var s=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new T_,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new b_(e,n),this.cancelAllRequests=new Promise(function(t){s.deleteService=function(){return t()}});try{var a=new URL(i);this.customDomain=a.origin,this.region="us-central1"}catch(l_){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(Go.__generator)(this,function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=s.sent())&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:o=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,i.json()];case 7:return o=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}})})},t.prototype.getAppCheckToken=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t;return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return(t=this.appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype.call=function(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a,c,u,l,h,d;return Object(Go.__generator)(this,function(f){switch(f.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(s=f.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),a=function(t){var e,n=new Promise(function(n,r){e=setTimeout(function(){r(new v_("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(n.timeout||7e4),c=a.timer,u=a.promise,[4,Promise.race([S_(c,this.postJSON(r,i,o)),u,S_(c,this.cancelAllRequests)])];case 2:if(!(l=f.sent()))throw new v_("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!g_[a])return new v_("internal","internal");r=g_[a],i=a}var c=s.message;"string"==typeof c&&(i=c),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(l_){}return"ok"===r?null:new v_(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new v_("internal","Response is not valid JSON object.");if(void 0===(d=l.json.data)&&(d=l.json.result),void 0===d)throw new v_("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}})})},t}();function S_(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}__=Yo.default,w_=fetch.bind(self),C_={Functions:E_},__.INTERNAL.registerComponent(new p_.Component("functions",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal"),s=t.getProvider("messaging");return new E_(r,i,s,o,n,w_)},"PUBLIC").setServiceProps(C_).setMultipleInstances(!0)),Yo.default.registerVersion("@firebase/functions","0.6.9");var O_,x_=n("nbvr"),k_="w:0.4.26",I_=((O_={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',O_["not-registered"]="Firebase Installation is not registered.",O_["installation-not-found"]="Firebase Installation not found.",O_["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',O_["app-offline"]="Could not process request. Application offline.",O_["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",O_),A_=new $o.ErrorFactory("installations","Installations",I_);function P_(t){return t instanceof $o.FirebaseError&&t.code.includes("request-failed")}function D_(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function R_(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function N_(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,A_.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}})})}function M_(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function j_(t,e){var n=e.refreshToken,r=M_(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function L_(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function F_(t,e){var n=e.fid;return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,r,i,o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:return e=D_(t),r=M_(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:k_})},[4,L_(function(){return fetch(e,i)})];case 1:return(o=a.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(s=a.sent()).fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:R_(s.authToken)}];case 3:return[4,N_("Create Installation",o)];case 4:throw a.sent()}})})}function U_(t){return new Promise(function(e){setTimeout(e,t)})}var V_=/^[cdef][\w-]{21}$/;function B_(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(Go.__spreadArray)([],Object(Go.__read)(e)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return V_.test(e)?e:""}catch(n){return""}}function q_(t){return t.appName+"!"+t.appId}var z_=new Map;function H_(t,e){var n=q_(t);W_(n,e),function(t,e){var n=G_();n&&n.postMessage({key:t,fid:e}),Y_()}(n,e)}function W_(t,e){var n,r,i=z_.get(t);if(i)try{for(var o=Object(Go.__values)(i),s=o.next();!s.done;s=o.next())(0,s.value)(e)}catch(a){n={error:a}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var K_=null;function G_(){return!K_&&"BroadcastChannel"in self&&((K_=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){W_(t.data.key,t.data.fid)}),K_}function Y_(){0===z_.size&&K_&&(K_.close(),K_=null)}var $_,Q_="firebase-installations-store",X_=null;function J_(){return X_||(X_=Object(x_.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Q_)}})),X_}function Z_(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:return n=q_(t),[4,J_()];case 1:return r=a.sent(),i=r.transaction(Q_,"readwrite"),[4,(o=i.objectStore(Q_)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||H_(t,e.fid),[2,e]}})})}function tw(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return e=q_(t),[4,J_()];case 1:return n=i.sent(),[4,(r=n.transaction(Q_,"readwrite")).objectStore(Q_).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function ew(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Go.__generator)(this,function(c){switch(c.label){case 0:return n=q_(t),[4,J_()];case 1:return r=c.sent(),i=r.transaction(Q_,"readwrite"),[4,(o=i.objectStore(Q_)).get(n)];case 2:return s=c.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return c.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:c.sent(),c.label=6;case 6:return[4,i.complete];case 7:return c.sent(),!a||s&&s.fid===a.fid||H_(t,a.fid),[2,a]}})})}function nw(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return[4,ew(t,function(n){var r=function(t){return ow(t||{fid:B_(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(A_.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,F_(t,e)];case 1:return n=i.sent(),[2,Z_(t,n)];case 2:return P_(r=i.sent())&&409===r.customData.serverCode?[4,tw(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Z_(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:rw(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry})];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function rw(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return[4,iw(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,U_(100)];case 3:return o.sent(),[4,iw(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,nw(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}})})}function iw(t){return ew(t,function(t){if(!t)throw A_.create("installation-not-found");return ow(t)})}function ow(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function sw(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,i,o,s,a;return Object(Go.__generator)(this,function(c){switch(c.label){case 0:return t=function(t,e){var n=e.fid;return D_(t)+"/"+n+"/authTokens:generate"}(n,e),i=j_(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:k_}})},[4,L_(function(){return fetch(t,s)})];case 1:return(a=c.sent()).ok?[4,a.json()]:[3,3];case 2:return[2,R_(c.sent())];case 3:return[4,N_("Generate Auth Token",a)];case 4:throw c.sent()}})})}function aw(t,e){return void 0===e&&(e=!1),Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return[4,ew(t.appConfig,function(r){if(!uw(r))throw A_.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return[4,cw(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,U_(100)];case 3:return i.sent(),[4,cw(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,aw(t,e)]:[2,r]}})})}(t,e),r;if(!navigator.onLine)throw A_.create("app-offline");var s=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(Go.__assign)(Object(Go.__assign)({},t),{authToken:e})}(r);return n=function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,sw(t,e)];case 1:return n=o.sent(),i=Object(Go.__assign)(Object(Go.__assign)({},e),{authToken:n}),[4,Z_(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!P_(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,tw(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(Go.__assign)(Object(Go.__assign)({},e),{authToken:{requestStatus:0}}),[4,Z_(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(t,s),s})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function cw(t){return ew(t,function(t){if(!uw(t))throw A_.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(Go.__assign)(Object(Go.__assign)({},t),{authToken:{requestStatus:0}}):t})}function uw(t){return void 0!==t&&2===t.registrationStatus}function lw(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return[4,nw(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function hw(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(Go.__generator)(this,function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return D_(t)+"/"+n}(t,e),r=j_(t,e),i={method:"DELETE",headers:r},[4,L_(function(){return fetch(n,i)})];case 1:return(o=s.sent()).ok?[3,3]:[4,N_("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}})})}function dw(t){return A_.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new p_.Component("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw dw("App Configuration");if(!t.name)throw dw("App Name");try{for(var r=Object(Go.__values)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw dw(o)}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return[4,nw(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):aw(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return[4,lw(t.appConfig)];case 1:return n.sent(),[4,aw(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return[4,ew(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw A_.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw A_.create("app-offline");case 3:return[4,hw(e,n)];case 4:return r.sent(),[4,tw(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){G_();var n=q_(t),r=z_.get(n);r||(r=new Set,z_.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=q_(t),r=z_.get(n);r&&(r.delete(e),0===r.size&&z_.delete(n),Y_())}(n,e)}}(n,t)}}},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.26")}(Yo.default);var fw=(($_={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',$_["only-available-in-window"]="This method is available in a Window context.",$_["only-available-in-sw"]="This method is available in a service worker context.",$_["permission-default"]="The notification permission was not granted and dismissed instead.",$_["permission-blocked"]="The notification permission was not granted and blocked instead.",$_["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",$_["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",$_["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",$_["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",$_["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",$_["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",$_["token-update-no-token"]="FCM returned no token when updating the user to push.",$_["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",$_["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",$_["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",$_["invalid-vapid-key"]="The public VAPID key must be a string.",$_["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",$_),pw=new $o.ErrorFactory("messaging","Messaging",fw),mw="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gw=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function vw(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(Go.__spreadArray)([],Object(Go.__read)(e)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bw(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var yw="fcm_token_details_db",_w="fcm_token_object_Store";function ww(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map(function(t){return t.name}).includes(yw))return[2,null];r.label=2;case 2:return e=null,[4,Object(x_.openDb)(yw,5,function(r){return Object(Go.__awaiter)(n,void 0,void 0,function(){var n,i,o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains(_w)?[4,(n=r.transaction.objectStore(_w)).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,n.clear()];case 2:if(a.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:vw(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:vw(o.auth),p256dh:vw(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:vw(o.vapidKey)}});return[2]}})})})];case 3:return r.sent().close(),[4,Object(x_.deleteDb)(yw)];case 4:return r.sent(),[4,Object(x_.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(x_.deleteDb)("undefined")];case 6:return r.sent(),[2,Cw(e)?e:null]}})})}function Cw(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var Tw="firebase-messaging-store",Ew=null;function Sw(){return Ew||(Ew=Object(x_.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(Tw)}})),Ew}function Ow(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return e=Iw(t),[4,Sw()];case 1:return[4,i.sent().transaction(Tw).objectStore(Tw).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,ww(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,xw(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}})})}function xw(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return n=Iw(t),[4,Sw()];case 1:return r=o.sent(),[4,(i=r.transaction(Tw,"readwrite")).objectStore(Tw).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function kw(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return e=Iw(t),[4,Sw()];case 1:return n=i.sent(),[4,(r=n.transaction(Tw,"readwrite")).objectStore(Tw).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function Iw(t){return t.appConfig.appId}function Aw(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:return[4,Nw(t)];case 1:n=a.sent(),r=Mw(e),i={method:"POST",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(Rw(t.appConfig),i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),pw.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw pw.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw pw.create("token-subscribe-no-token");return[2,o.token]}})})}function Pw(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:return[4,Nw(t)];case 1:n=a.sent(),r=Mw(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(Rw(t.appConfig)+"/"+e.token,i)];case 3:return[4,a.sent().json()];case 4:return o=a.sent(),[3,6];case 5:throw s=a.sent(),pw.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw pw.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw pw.create("token-update-no-token");return[2,o.token]}})})}function Dw(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o;return Object(Go.__generator)(this,function(s){switch(s.label){case 0:return[4,Nw(t)];case 1:n=s.sent(),r={method:"DELETE",headers:n},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(Rw(t.appConfig)+"/"+e,r)];case 3:return[4,s.sent().json()];case 4:if((i=s.sent()).error)throw pw.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=s.sent(),pw.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}})})}function Rw(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function Nw(t){var e=t.appConfig,n=t.installations;return Object(Go.__awaiter)(this,void 0,void 0,function(){var t;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function Mw(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==mw&&(n.web.applicationPubKey=e),n}function jw(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw pw.create("permission-blocked");return[4,Vw(e,n)];case 1:return r=a.sent(),[4,Ow(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:vw(r.getKey("auth")),p256dh:vw(r.getKey("p256dh"))},i?[3,3]:[2,Uw(t,o)];case 3:if(l=(u=o).endpoint===(c=i.subscriptionOptions).endpoint,u.vapidKey===c.vapidKey&&l&&u.auth===c.auth&&u.p256dh===c.p256dh)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,Dw(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,Uw(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,Fw({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var c,u,l})})}function Lw(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return[4,Ow(t)];case 1:return(n=i.sent())?[4,Dw(t,n.token)]:[3,4];case 2:return i.sent(),[4,kw(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function Fw(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(Go.__generator)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,Pw(e,t)];case 1:return r=s.sent(),i=Object(Go.__assign)(Object(Go.__assign)({},t),{token:r,createTime:Date.now()}),[4,xw(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,Lw(e,n)];case 4:throw s.sent(),o;case 5:return[2]}})})}function Uw(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return[4,Aw(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,xw(t,r)];case 2:return i.sent(),[2,r.token]}})})}function Vw(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bw(e)})]}})})}function Bw(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function qw(t){return new Promise(function(e){setTimeout(e,t)})}var zw=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw pw.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(Go.__awaiter)(this,void 0,void 0,function(){var n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Ow(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:mw,r.label=2;case 2:return[2,jw(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return Lw(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw pw.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw pw.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw pw.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw pw.create("only-available-in-window")},t.prototype.onMessage=function(){throw pw.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw pw.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n,r,i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,Gw()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,Kw(n,e)]:(r=!1,e.notification?[4,Yw(Hw(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,qw(1e3)]);case 4:return o.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return Object(Go.__awaiter)(this,void 0,void 0,function(){var r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,Lw(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,Ow(this.firebaseDependencies)];case 3:return r=i.sent(),[4,Lw(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,jw(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:mw)];case 5:return i.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o,s,a;return Object(Go.__generator)(this,function(c){switch(c.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(Bw(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),s=new URL(self.location.origin),o.host!==s.host?[2]:[4,Ww(o)]):[2]):[2];case 1:return(a=c.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return a=c.sent(),[4,qw(3e3)];case 3:return c.sent(),[3,6];case 4:return[4,a.focus()];case 5:a=c.sent(),c.label=6;case 6:return a?(r.messageType=gw.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,a.postMessage(r)]):[2]}})})},t}();function Hw(t){var e,n=Object(Go.__assign)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function Ww(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,s,a;return Object(Go.__generator)(this,function(c){switch(c.label){case 0:return[4,Gw()];case 1:e=c.sent();try{for(n=Object(Go.__values)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(u){s={error:u}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(s)throw s.error}}return[2,null]}})})}function Kw(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=gw.PUSH_RECEIVED;try{for(var i=Object(Go.__values)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Gw(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Yw(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var $w=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===gw.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),Bw(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw pw.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,jw(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=mw),[2]})})},t.prototype.updateSwReg=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw pw.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),pw.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,Lw(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t;return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw pw.create("denied"===t?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw pw.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw pw.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw pw.create("invalid-sw-registration");if(this.swRegistration)throw pw.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw pw.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw pw.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return n=function(t){switch(t){case gw.NOTIFICATION_CLICKED:return"notification_open";case gw.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function Qw(t){return pw.create("missing-app-config-values",{valueName:t})}var Xw={isSupported:Jw};function Jw(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Yo.default.INTERNAL.registerComponent(new p_.Component("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw Qw("App Configuration Object");if(!t.name)throw Qw("App Name");var r=t.options;try{for(var i=Object(Go.__values)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw Qw(s)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!Jw())throw pw.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new zw(n):new $w(n)},"PUBLIC").setServiceProps(Xw));var Zw="firebasestorage.googleapis.com",tC=function(t){function e(n,r){var i=t.call(this,eC(n),"Firebase Storage: "+r+" ("+eC(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return Object(Go.__extends)(e,t),e.prototype._codeEquals=function(t){return eC(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}($o.FirebaseError);function eC(t){return"storage/"+t}function nC(){return new tC("unknown","An unknown error occurred, please check the error payload for server response.")}function rC(){return new tC("canceled","User canceled the upload/download.")}function iC(){return new tC("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function oC(t){return new tC("invalid-argument",t)}function sC(){return new tC("app-deleted","The Firebase app was deleted.")}function aC(t){return new tC("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function cC(t,e){return new tC("invalid-format","String does not match format '"+t+"': "+e)}function uC(t){throw new tC("internal-error","Internal error: "+t)}var lC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},hC=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function dC(t,e){switch(t){case lC.RAW:return new hC(fC(e));case lC.BASE64:case lC.BASE64URL:return new hC(pC(t,e));case lC.DATA_URL:return new hC((n=new mC(e)).base64?pC(lC.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(l_){throw cC(lC.DATA_URL,"Malformed data URL.")}return fC(e)}(n.rest),new mC(e).contentType)}var n;throw nC()}function fC(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function pC(t,e){switch(t){case lC.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw cC(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case lC.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw cC(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(l_){throw cC(t,"Invalid character found")}for(var a=new Uint8Array(s.length),c=0;c<s.length;c++)a[c]=s.charCodeAt(c);return a}var mC=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw cC(lC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),gC={STATE_CHANGED:"state_changed"},vC={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function bC(t){switch(t){case"running":case"pausing":case"canceling":return vC.RUNNING;case"paused":return vC.PAUSED;case"success":return vC.SUCCESS;case"canceled":return vC.CANCELED;case"error":default:return vC.ERROR}}var yC=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),_C=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=yC.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=yC.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=yC.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw uC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw uC("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw uC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(l_){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw uC("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),wC=function(){function t(){}return t.prototype.createXhrIo=function(){return new _C},t}(),CC=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(l_){return new t(e,"")}if(""===r.path)return r;throw new tC("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),c=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===Zw?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],u=0;u<c.length;u++){var l=c[u],h=l.regex.exec(e);if(h){var d=h[l.indices.path];d||(d=""),r=new t(h[l.indices.bucket],d),l.postModify(r);break}}if(null==r)throw function(t){return new tC("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),TC=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function EC(t){return"string"==typeof t||t instanceof String}function SC(t){return OC()&&t instanceof Blob}function OC(){return"undefined"!=typeof Blob}function xC(t,e,n,r){if(r<e)throw oC("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw oC("Invalid value for '"+t+"'. Expected "+n+" or less.")}function kC(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function IC(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var AC=function(){function t(t,e,n,r,i,o,s,a,c,u,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=u,this.timeout_=c,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());void 0!==a?i(a):i()}catch(l_){o(l_)}else null!==s?((r=nC()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?sC():rC():new tC("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new PC(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function c(){return 2===a}var u=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u||(u=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new PC(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===yC.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new PC(s,n))}else{var a=n.getErrorCode()===yC.ABORT;e(!1,new PC(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,c())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)l.call.apply(l,Object(Go.__spreadArray)([null,t],e));else{var r;c()||s?l.call.apply(l,Object(Go.__spreadArray)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,u||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),PC=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function DC(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function RC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=DC();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(OC())return new Blob(t);throw new tC("unsupported-environment","This browser doesn't seem to support creating Blobs")}var NC=function(){function t(t,e){var n=0,r="";SC(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(SC(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(OC()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(RC.apply(null,r))}var i=e.map(function(t){return EC(t)?dC(lC.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function MC(t){var e,n;try{e=JSON.parse(t)}catch(l_){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function jC(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function LC(t,e){return e}var FC=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||LC}}(),UC=null;function VC(){if(UC)return UC;var t=[];t.push(new FC("bucket")),t.push(new FC("generation")),t.push(new FC("metageneration")),t.push(new FC("name","fullPath",!0));var e=new FC("name");e.xform=function(t,e){return function(t){return!EC(t)||t.length<2?t:jC(t)}(e)},t.push(e);var n=new FC("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new FC("timeCreated")),t.push(new FC("updated")),t.push(new FC("md5Hash",null,!0)),t.push(new FC("cacheControl",null,!0)),t.push(new FC("contentDisposition",null,!0)),t.push(new FC("contentEncoding",null,!0)),t.push(new FC("contentLanguage",null,!0)),t.push(new FC("contentType",null,!0)),t.push(new FC("metadata","customMetadata",!0)),UC=t}function BC(t,e,n){var r=MC(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new CC(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function qC(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var zC=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function HC(t){if(!t)throw nC()}function WC(t,e){return function(n,r){var i=BC(t,r,e);return HC(null!==i),i}}function KC(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new tC("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new tC("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new tC("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new tC("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function GC(t){var e=KC(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new tC("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function YC(t,e,n){var r=kC(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new zC(r,"GET",WC(t,n),i);return o.errorHandler=GC(e),o}function $C(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var QC=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function XC(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(l_){HC(!1)}return HC(!!n&&-1!==(e||["active"]).indexOf(n)),n}var JC=262144,ZC=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function tT(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var eT=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=VC(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=$C(e,r,i),a={name:s.fullPath},c=kC(o,t.host),u={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=qC(s,n),h=new zC(c,"POST",function(t){var e;XC(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(l_){HC(!1)}return HC(EC(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=u,h.body=l,h.errorHandler=KC(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=new zC(n,"POST",function(t){var e=XC(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(l_){HC(!1)}n||HC(!1);var i=Number(n);return HC(!isNaN(i)),new QC(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=KC(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=JC*this._chunkMultiplier,n=new QC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var c=new QC(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new tC("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));var h=c.current,d={"X-Goog-Upload-Command":l===u?"upload, finalize":"upload","X-Goog-Upload-Offset":c.current},f=r.slice(h,h+l);if(null===f)throw iC();var p=new zC(n,"POST",function(t,n){var i,s=XC(t,["active","final"]),a=c.current+l,u=r.size();return i="final"===s?WC(e,o)(t,n):null,new QC(a,u,"final"===s,i)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=KC(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(l_){return t._error=l_,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){JC*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=YC(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var c=$C(e,r,i),u=qC(c,n),l=NC.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw iC();var h={name:c.fullPath},d=kC(o,t.host),f=t.maxUploadRetryTime,p=new zC(d,"POST",WC(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=KC(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=rC(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=bC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new ZC(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(bC(this._state)){case vC.SUCCESS:tT(this._resolve.bind(null,this.snapshot))();break;case vC.CANCELED:case vC.ERROR:tT(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(bC(this._state)){case vC.RUNNING:case vC.PAUSED:t.next&&tT(t.next.bind(t,this.snapshot))();break;case vC.SUCCESS:t.complete&&tT(t.complete.bind(t))();break;case vC.CANCELED:case vC.ERROR:t.error&&tT(t.error.bind(t,this._error))();break;default:t.error&&tT(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),nT=function(){function t(t,e){this._service=t,this._location=e instanceof CC?e:CC.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new CC(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return jC(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new CC(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw aC(t)},t}();function rT(t){var e={prefixes:[],items:[]};return iT(t,e).then(function(){return e})}function iT(t,e,n){return Object(Go.__awaiter)(this,void 0,void 0,function(){var r,i,o;return Object(Go.__generator)(this,function(s){switch(s.label){case 0:return[4,oT(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,iT(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function oT(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&xC("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=kC(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,c=new zC(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=MC(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new CC(e,s));r.prefixes.push(a)}if(n.items)for(var c=0,u=n.items;c<u.length;c++)a=t._makeStorageReference(new CC(e,u[c].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return HC(null!==i),i}}(t,e.bucket),a);return c.urlParams=o,c.errorHandler=KC(e),c}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function sT(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new CC(t._location.bucket,n);return new nT(t.storage,r)}function aT(t){return/^[A-Za-z]+:\/\//.test(t)}function cT(t,e){if(t instanceof hT){var n=t;if(null==n._bucket)throw new tC("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new nT(n,n._bucket);return null!=e?cT(r,e):r}if(void 0!==e){if(e.includes(".."))throw oC('`path` param cannot contain ".."');return sT(t,e)}return t}function uT(t,e){if(e&&aT(e)){if(t instanceof hT)return new nT(t,e);throw oC("To use ref(service, url), the first argument must be a Storage instance.")}return cT(t,e)}function lT(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:CC.makeFromBucketSpec(n,t)}var hT=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Zw,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?CC.makeFromBucketSpec(i,this._host):lT(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?CC.makeFromBucketSpec(this._url,t):lT(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){xC("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){xC("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t;return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new nT(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new TC(sC());var i=function(t,e,n,r,i,o){var s=IC(t.urlParams),a=t.url+s,c=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new AC(a,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function dT(t,e){return uT(t=Object($o.getModularInstance)(t),e)}var fT=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),pT=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new fT(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new fT(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new fT(t,i,i._ref))}:{next:e.next?function(t){return e.next(new fT(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),mT=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new gT(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new gT(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),gT=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return sT(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new pT(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new eT(t,new NC(e),n)}(t=Object($o.getModularInstance)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=lC.RAW),this._throwIfRoot("putString");var r=dC(e,t),i=Object(Go.__assign)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new pT(new eT(this._delegate,new NC(r.data,!0),i),this)},t.prototype.listAll=function(){var t,e=this;return(t=this._delegate,rT(t=Object($o.getModularInstance)(t))).then(function(t){return new mT(t,e.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return oT(t=Object($o.getModularInstance)(t),e)}(this._delegate,t||void 0).then(function(t){return new mT(t,e.storage)})},t.prototype.getMetadata=function(){return t=this._delegate,function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=YC(t.storage,t._location,VC()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object($o.getModularInstance)(t));var t},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=kC(e.fullServerUrl(),t.host),o=qC(n,r),s=t.maxOperationRetryTime,a=new zC(i,"PATCH",WC(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=GC(e),a}(t.storage,t._location,e,VC()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=Object($o.getModularInstance)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return t=this._delegate,function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=kC(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new zC(r,"GET",function(t,e){return function(n,r){var i=BC(t,r,e);return HC(null!==i),function(t,e,n){var r=MC(e);if(null===r)return null;if(!EC(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return kC("/b/"+o(t.bucket)+"/o/"+o(r),n)+IC({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=GC(e),o}(t.storage,t._location,VC()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new tC("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=Object($o.getModularInstance)(t));var t},t.prototype.delete=function(){return this._throwIfRoot("delete"),t=this._delegate,function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=kC(e.fullServerUrl(),t.host),r=new zC(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=GC(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=Object($o.getModularInstance)(t));var t},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw aC(t)},t}(),vT=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(aT(t))throw oC("ref() expected a child path but got a URL, use refFromURL instead.");return new gT(dT(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!aT(t))throw oC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{CC.makeFromUrl(t,this._delegate.host)}catch(l_){throw oC("refFromUrl() expected a valid full URL but got an invalid one.")}return new gT(dT(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function bT(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new vT(r,new hT(r,i,o,new wC,n,Yo.default.SDK_VERSION))}!function(t){var e={TaskState:vC,TaskEvent:gC,StringFormat:lC,Storage:hT,Reference:gT};t.INTERNAL.registerComponent(new p_.Component("storage",bT,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.5.2")}(Yo.default);var yT,_T,wT,CT="0.4.12",TT=CT,ET="FB-PERF-TRACE-MEASURE",ST="_wt_",OT="_fcp",xT="_fid",kT="@firebase/performance/config",IT="@firebase/performance/configexpire",AT="Performance",PT=((yT={})["trace started"]="Trace {$traceName} was started before.",yT["trace stopped"]="Trace {$traceName} is not running.",yT["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",yT["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",yT["no window"]="Window is not available.",yT["no app id"]="App id is not available.",yT["no project id"]="Project id is not available.",yT["no api key"]="Api key is not available.",yT["invalid cc log"]="Attempted to queue invalid cc event",yT["FB not default"]="Performance can only start when Firebase app instance is the default one.",yT["RC response not ok"]="RC response is not ok",yT["invalid attribute name"]="Attribute name {$attributeName} is invalid.",yT["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",yT["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",yT["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",yT),DT=new $o.ErrorFactory("performance",AT,PT),RT=new Qo.Logger(AT);RT.logLevel=Qo.LogLevel.INFO;var NT,MT=function(){function t(t){if(this.window=t,!t)throw DT.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object($o.isIndexedDBAvailable)()||(RT.info("IndexedDB is not supported by current browswer"),!1):(RT.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===_T&&(_T=new t(wT)),_T},t}();function jT(t,e){var n=t.length-e.length;if(n<0||n>1)throw DT.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var LT,FT=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=jT("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=jT("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw DT.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw DT.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw DT.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===NT&&(NT=new t),NT},t}();function UT(){return LT}var VT=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),BT=["firebase_","google_","ga_"],qT=new RegExp("^[a-zA-Z]\\w*$");function zT(){var t=MT.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function HT(){switch(MT.getInstance().document.visibilityState){case"visible":return VT.VISIBLE;case"hidden":return VT.HIDDEN;default:return VT.UNKNOWN}}function WT(){var t=MT.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function KT(t){if(!t)return t;var e=FT.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=GT(e.tracesSamplingRate),e.logNetworkAfterSampling=GT(e.networkRequestsSamplingRate),t}function GT(t){return Math.random()<=t}var YT,$T=1;function QT(){return $T=2,YT=YT||function(){var t=MT.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(function(){return(t=FT.getInstance().installationsService.getId()).then(function(t){LT=t}),t;var t}).then(function(t){return function(t){var e=function(){var t=MT.getInstance().localStorage;if(t){var e=t.getItem(IT);if(e&&Number(e)>Date.now()){var n=t.getItem(kT);if(n)try{return JSON.parse(n)}catch(r){return}}}}();return e?(KT(e),Promise.resolve()):function(t){return(e=FT.getInstance().installationsService.getToken(),e.then(function(t){}),e).then(function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+FT.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+FT.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:FT.getInstance().getAppId(),app_version:TT,sdk_version:"0.0.1"})});return fetch(r).then(function(t){if(t.ok)return t.json();throw DT.create("RC response not ok")})}).catch(function(){RT.info("Could not fetch config, will use default configs")});var e}(t).then(KT).then(function(t){return function(t){var e=MT.getInstance().localStorage;t&&e&&(e.setItem(kT,JSON.stringify(t)),e.setItem(IT,String(Date.now()+60*FT.getInstance().configTimeToLive*60*1e3)))}(t)},function(){})}(t)}).then(function(){return XT()},function(){return XT()})}function XT(){$T=3}var JT,ZT=1e4,tE=3,eE=[],nE=!1;function rE(t){setTimeout(function(){var t,e;if(0!==tE)return eE.length?(e=(t=eE.splice(0,1e3)).map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),void function(t,e){return function(t){var e=FT.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||RT.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),r=ZT;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(eE=Object(Go.__spreadArray)(Object(Go.__spreadArray)([],e),eE),RT.info("Retry transport request later.")),tE=3,rE(r)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:FT.getInstance().logSource,log_event:e},t).catch(function(){eE=Object(Go.__spreadArray)(Object(Go.__spreadArray)([],t),eE),tE--,RT.info("Tries left: "+tE+"."),rE(ZT)})):rE(ZT)},t)}function iE(t){if(!t.eventTime||!t.message)throw DT.create("invalid cc log");eE=Object(Go.__spreadArray)(Object(Go.__spreadArray)([],eE),[t])}function oE(t,e){var n;JT||(n=cE,JT=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];iE({message:n.apply(void 0,t),eventTime:Date.now()})}),JT(t,e)}function sE(t){var e=FT.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&MT.getInstance().requiredApisAvailable()&&(t.isAuto&&HT()!==VT.VISIBLE||(3===$T?aE(t):QT().then(function(){return aE(t)},function(){return aE(t)})))}function aE(t){if(UT()){var e=FT.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return oE(t,1)},0)}}function cE(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:uE(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:uE(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function uE(){return{google_app_id:FT.getInstance().getAppId(),app_instance_id:UT(),web_app_info:{sdk_version:TT,page_url:MT.getInstance().getUrl(),service_worker_status:zT(),visibility_state:HT(),effective_connection_type:WT()},application_process_state:0}}var lE=["_fp",OT,xT],hE=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=MT.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw DT.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw DT.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),sE(this)},t.prototype.record=function(t,e,n){if(t<=0)throw DT.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw DT.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(Go.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}sE(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=this.name,0===(i=t).length||i.length>100||!(o&&o.startsWith(ST)&&lE.indexOf(i)>-1)&&i.startsWith("_"))throw DT.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&RT.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||BT.some(function(t){return n.startsWith(t)})||!n.match(qT)),i=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw DT.create("invalid attribute name",{attributeName:t});if(!i)throw DT.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(Go.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=MT.getInstance().getUrl();if(i){var o=new t(ST+i,!0),s=Math.floor(1e3*MT.getInstance().getTimeOrigin());if(o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var a=n.find(function(t){return"first-paint"===t.name});a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var c=n.find(function(t){return"first-contentful-paint"===t.name});c&&c.startTime&&o.putMetric(OT,Math.floor(1e3*c.startTime)),r&&o.putMetric(xT,Math.floor(1e3*r))}sE(o)}},t.createUserTimingTrace=function(e){sE(new t(e,!1,e))},t}();function dE(t){var e=t;if(e&&void 0!==e.responseStart){var n=MT.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=FT.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return oE(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function fE(){UT()&&(setTimeout(function(){return function(){var t=MT.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){hE.createOobTrace(e,n),r=void 0},5e3);t.onFirstInputDelay(function(t){r&&(clearTimeout(r),hE.createOobTrace(e,n,t))})}else hE.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=MT.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)dE(n[e]);t.setupObserver("resource",dE)}()},0),setTimeout(function(){return function(){for(var t=MT.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)pE(n[e]);t.setupObserver("measure",pE)}()},0))}function pE(t){var e=t.name;e.substring(0,ET.length)!==ET&&hE.createUserTimingTrace(e)}var mE=function(){function t(t){this.app=t,MT.getInstance().requiredApisAvailable()&&Object($o.validateIndexedDBOpenable)().then(function(t){t&&(nE||(rE(5500),nE=!0),QT().then(fE,fE))}).catch(function(t){RT.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new hE(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return FT.getInstance().instrumentationEnabled},set:function(t){FT.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return FT.getInstance().dataCollectionEnabled},set:function(t){FT.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new p_.Component("performance",function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw DT.create("FB not default");if("undefined"==typeof window)throw DT.create("no window");return function(t){wT=t}(window),FT.getInstance().firebaseAppInstance=t,FT.getInstance().installationsService=e,new mE(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance",CT)}(Yo.default);var gE,vE="https://www.googletagmanager.com/gtag/js",bE=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),yE=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),_E=new Qo.Logger("@firebase/analytics");function wE(t,e,n,r,i,o){return Object(Go.__awaiter)(this,void 0,void 0,function(){var s,a,c,u;return Object(Go.__generator)(this,function(l){switch(l.label){case 0:s=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),s?[4,e[s]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return a=l.sent(),(c=a.find(function(t){return t.measurementId===i}))?[4,e[c.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return u=l.sent(),_E.error(u),[3,8];case 8:return t(bE.CONFIG,i,o),[2]}})})}function CE(t,e,n,r,i){return Object(Go.__awaiter)(this,void 0,void 0,function(){var o,s,a,c,u,l,h;return Object(Go.__generator)(this,function(d){switch(d.label){case 0:return d.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(a=d.sent(),c=function(t){var n=a.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},u=0,l=s;u<l.length&&"break"!==c(l[u]);u++);d.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return d.sent(),t(bE.EVENT,r,i||{}),[3,5];case 4:return h=d.sent(),_E.error(h),[3,5];case 5:return[2]}})})}var TE=((gE={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",gE["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",gE["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",gE["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",gE["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",gE["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",gE["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",gE["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',gE["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',gE),EE=new $o.ErrorFactory("analytics","Analytics",TE),SE=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function OE(t){var e;return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a;return Object(Go.__generator)(this,function(c){switch(c.label){case 0:return n=t.appId,r={method:"GET",headers:(u=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":u}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=c.sent()).status||304===o.status)return[3,6];s="",c.label=2;case 2:return c.trys.push([2,4,,5]),[4,o.json()];case 3:return a=c.sent(),(null===(e=a.error)||void 0===e?void 0:e.message)&&(s=a.error.message),[3,5];case 4:return c.sent(),[3,5];case 5:throw EE.create("config-fetch-failed",{httpStatus:o.status,responseMessage:s});case 6:return[2,o.json()]}var u})})}function xE(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=SE),Object(Go.__awaiter)(this,void 0,void 0,function(){var e,s,a,c,u,l,h;return Object(Go.__generator)(this,function(d){switch(d.label){case 0:e=t.appId,s=t.measurementId,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,kE(n,i)];case 2:return d.sent(),[3,4];case 3:if(a=d.sent(),s)return _E.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+a.message+"]"),[2,{appId:e,measurementId:s}];throw a;case 4:return d.trys.push([4,6,,7]),[4,OE(t)];case 5:return c=d.sent(),r.deleteThrottleMetadata(e),[2,c];case 6:if(!function(t){if(!(t instanceof $o.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u=d.sent())){if(r.deleteThrottleMetadata(e),s)return _E.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+u.message+"]"),[2,{appId:e,measurementId:s}];throw u}return l=503===Number(u.customData.httpStatus)?Object($o.calculateBackoffMillis)(o,r.intervalMillis,30):Object($o.calculateBackoffMillis)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),_E.debug("Calling attemptFetch again in "+l+" millis"),[2,xE(t,h,n,r)];case 7:return[2]}})})}function kE(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(EE.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var IE,AE,PE=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),DE={},RE=[],NE={},ME="dataLayer",jE="gtag",LE=!1;function FE(t){if(LE)throw EE.create("already-initialized");t.dataLayerName&&(ME=t.dataLayerName),t.gtagName&&(jE=t.gtagName)}var UE="analytics";function VE(){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){switch(t.label){case 0:if(Object($o.isBrowserExtension)())return[2,!1];if(!Object($o.areCookiesEnabled)())return[2,!1];if(!Object($o.isIndexedDBAvailable)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object($o.validateIndexedDBOpenable)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new p_.Component(UE,function(t){return function(t,e){!function(){var t=[];if(Object($o.isBrowserExtension)()&&t.push("This is a browser extension environment."),Object($o.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=EE.create("invalid-analytics-context",{errorInfo:e});_E.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw EE.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw EE.create("no-api-key");_E.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=DE[i])throw EE.create("already-exists",{id:i});if(!LE){n=ME,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,s){return Object(Go.__awaiter)(this,void 0,void 0,function(){var a;return Object(Go.__generator)(this,function(c){switch(c.label){case 0:return c.trys.push([0,6,,7]),i!==bE.EVENT?[3,2]:[4,CE(t,e,n,o,s)];case 1:return c.sent(),[3,5];case 2:return i!==bE.CONFIG?[3,4]:[4,wE(t,e,n,r,o,s)];case 3:return c.sent(),[3,5];case 4:t(bE.SET,o),c.label=5;case 5:return[3,7];case 6:return a=c.sent(),_E.error(a),[3,7];case 7:return[2]}})})}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(DE,RE,NE,ME,jE);AE=o.wrappedGtag,IE=o.gtagCore,LE=!0}return DE[i]=function(t,e,n,r,i,o){return Object(Go.__awaiter)(this,void 0,void 0,function(){var s,a,c,u,l,h,d;return Object(Go.__generator)(this,function(f){switch(f.label){case 0:return(s=function(t,e,n){return void 0===e&&(e=SE),Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r,i,o,s,a,c=this;return Object(Go.__generator)(this,function(u){if(i=(n=t.options).apiKey,o=n.measurementId,!(r=n.appId))throw EE.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw EE.create("no-api-key")}return s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new PE,setTimeout(function(){return Object(Go.__awaiter)(c,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){return a.abort(),[2]})})},6e4),[2,xE({appId:r,apiKey:i,measurementId:o},s,a,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&_E.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return _E.error(t)}),e.push(s),a=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t;return Object(Go.__generator)(this,function(e){switch(e.label){case 0:return Object($o.isIndexedDBAvailable)()?[3,1]:(_E.warn(EE.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object($o.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),_E.warn(EE.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?r.getId():void 0}),[4,Promise.all([s,a])];case 1:return c=f.sent(),u=c[0],l=c[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(vE))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=vE+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,u.measurementId),i("js",new Date),(d={}).origin="firebase",d.update=!0,h=d,null!=l&&(h.firebase_id=l),i(bE.CONFIG,u.measurementId,h),[2,u.measurementId]}})})}(t,RE,NE,e,IE,ME),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,i){return Object(Go.__awaiter)(this,void 0,void 0,function(){var o,s;return Object(Go.__generator)(this,function(a){switch(a.label){case 0:return i&&i.global?(t(bE.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=a.sent(),s=Object(Go.__assign)(Object(Go.__assign)({},r),{send_to:o}),t(bE.EVENT,n,s),a.label=3;case 3:return[2]}})})})(AE,DE[i],t,e,n).catch(function(t){return _E.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(Go.__awaiter)(this,void 0,void 0,function(){var i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(bE.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(bE.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(AE,DE[i],t,e).catch(function(t){return _E.error(t)})},setUserId:function(t,e){(function(t,e,n,r){return Object(Go.__awaiter)(this,void 0,void 0,function(){var i;return Object(Go.__generator)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(bE.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(bE.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(AE,DE[i],t,e).catch(function(t){return _E.error(t)})},setUserProperties:function(t,e){(function(t,e,n,r){return Object(Go.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,c;return Object(Go.__generator)(this,function(u){switch(u.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)i["user_properties."+(a=s[o])]=n[a];return t(bE.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=u.sent(),t(bE.CONFIG,c,{update:!0,user_properties:n}),u.label=3;case 3:return[2]}})})})(AE,DE[i],t,e).catch(function(t){return _E.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(DE[i],t).catch(function(t){return _E.error(t)})},INTERNAL:{delete:function(){return delete DE[i],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:FE,EventName:yE,isSupported:VE})),t.INTERNAL.registerComponent(new p_.Component("analytics-internal",function(t){try{return{logEvent:t.getProvider(UE).getImmediate().logEvent}}catch(l_){throw EE.create("interop-component-reg-failed",{reason:l_})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.10")}(Yo.default);var BE,qE=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Go.__generator)(this,function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}})})},t}(),zE=((BE={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",BE["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",BE["registration-api-key"]="Undefined API key. Check Firebase app initialization.",BE["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",BE["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",BE["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",BE["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",BE["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",BE["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",BE["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',BE["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',BE["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",BE["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",BE),HE=new $o.ErrorFactory("remoteconfig","Remote Config",zE),WE=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n,r,i,o,s,a,c,u,l,h,d,f,p,m,g;return Object(Go.__generator)(this,function(v){switch(v.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=v.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===b&&(b=navigator),b.languages&&b.languages[0]||b.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},s=fetch(r,o),a=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),v.label=2;case 2:return v.trys.push([2,5,,6]),[4,Promise.race([s,a])];case 3:return v.sent(),[4,s];case 4:return c=v.sent(),[3,6];case 5:throw u=v.sent(),l="fetch-client-network","AbortError"===u.name&&(l="fetch-timeout"),HE.create(l,{originalErrorMessage:u.message});case 6:if(h=c.status,d=c.headers.get("ETag")||void 0,200!==c.status)return[3,11];m=void 0,v.label=7;case 7:return v.trys.push([7,9,,10]),[4,c.json()];case 8:return m=v.sent(),[3,10];case 9:throw g=v.sent(),HE.create("fetch-client-parse",{originalErrorMessage:g.message});case 10:f=m.entries,p=m.state,v.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(f={}),304!==h&&200!==h)throw HE.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:d,config:f}]}var b})})},t}(),KE=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),GE=["1","true","t","yes","y","on"],YE=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&GE.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),$E=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Qo.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=Qo.LogLevel.SILENT;break;default:this._logger.logLevel=Qo.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e,n;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:t=new KE,setTimeout(function(){return Object(Go.__awaiter)(r,void 0,void 0,function(){return Object(Go.__generator)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof $o.FirebaseError&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){return Object(Go.__generator)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Object(Go.__assign)(Object(Go.__assign)({},t),e))).reduce(function(t,e){return t[e]=n.getValue(e),t},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new YE("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new YE("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new YE("static"))},t}();function QE(t,e){var n=t.target.error||void 0;return HE.create(e,{originalErrorMessage:n&&n.message})}var XE="app_namespace_store",JE=function(){function t(t,e,n,r){void 0===r&&(r=new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(QE(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(XE,{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([XE],"readonly").objectStore(XE),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(QE(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(l_){i(HE.create("storage-get",{originalErrorMessage:l_&&l_.message}))}})]}})})},t.prototype.set=function(t,e){return Object(Go.__awaiter)(this,void 0,void 0,function(){var n,r=this;return Object(Go.__generator)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var s=n.transaction([XE],"readwrite").objectStore(XE),a=r.createCompositeKey(t);try{var c=s.put({compositeKey:a,value:e});c.onerror=function(t){o(QE(t,"storage-set"))},c.onsuccess=function(){i()}}catch(l_){o(HE.create("storage-set",{originalErrorMessage:l_&&l_.message}))}})]}})})},t.prototype.delete=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,n=this;return Object(Go.__generator)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction([XE],"readwrite").objectStore(XE),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(QE(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(l_){i(HE.create("storage-delete",{originalErrorMessage:l_&&l_.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),ZE=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(Go.__awaiter)(this,void 0,void 0,function(){var t,e,n,r,i,o;return Object(Go.__generator)(this,function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function tS(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(HE.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var eS,nS=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(Go.__awaiter)(this,void 0,void 0,function(){var e;return Object(Go.__generator)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(Go.__awaiter)(this,void 0,void 0,function(){var e,i,o;return Object(Go.__generator)(this,function(s){switch(s.label){case 0:return[4,tS(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof $o.FirebaseError&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object($o.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}(),rS="@firebase/remote-config";(eS=Yo.default).INTERNAL.registerComponent(new p_.Component("remoteConfig",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw HE.create("registration-window");var o=r.options,s=o.projectId,a=o.apiKey,c=o.appId;if(!s)throw HE.create("registration-project-id");if(!a)throw HE.create("registration-api-key");if(!c)throw HE.create("registration-app-id");var u=new JE(c,r.name,n=n||"firebase"),l=new ZE(u),h=new Qo.Logger(rS);h.logLevel=Qo.LogLevel.ERROR;var d=new WE(i,eS.SDK_VERSION,n,s,a,c),f=new nS(d,u),p=new qE(f,u,l,h),m=new $E(r,p,l,u,h);return m.ensureInitialized(),m},"PUBLIC").setMultipleInstances(!0)),eS.registerVersion(rS,"0.1.37"),n("X8/r"),Yo.default.registerVersion("firebase","8.6.2","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Yo.default.registerVersion("firebase","8.6.2");var iS=n("D0XW");function oS(){return t=>t.lift(new sS)}class sS{call(t,e){return e.subscribe(new aS(t))}}class aS extends pe.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function cS(t,e){return n=>n.lift(new uS(t,e))}class uS{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new lS(t,this.compare,this.keySelector))}}class lS extends pe.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var hS=n("pxpQ"),dS=n("spgP"),fS=n("Jgta"),pS=n("VRyK"),mS=n("qgXg"),gS=n("Ylt2");class vS extends Je.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new bS(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Ze.a;if(this.isStopped||this.hasError?o=Yn.a.EMPTY:(this.observers.push(t),o=new gS.a(this,t)),r&&t.add(t=new hS.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||mS.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class bS{constructor(t,e){this.time=t,this.value=e}}function yS(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,c=!1;return function(u){let l;s++,!i||a?(a=!1,i=new vS(t,e,r),l=i.subscribe(this),o=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,o=void 0,i.complete()}}),c&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!c&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function _S(t,e){return e?_n(()=>t,e):_n(()=>t)}var wS=n("tf+s");const CS=new r.r("angularfire2.auth.use-emulator"),TS=new r.r("angularfire2.auth.settings"),ES=new r.r("angularfire2.auth.tenant-id"),SS=new r.r("angularfire2.auth.langugage-code"),OS=new r.r("angularfire2.auth.use-device-language"),xS=new r.r("angularfire.auth.persistence");let kS=(()=>{class t{constructor(t,e,r,i,o,s,a,c,u,l){const h=new dS.d(i),d=Object(dS.h)(h),f=new Je.a,p=Object(le.a)(void 0).pipe(Object(hS.b)(h.outsideAngular),_n(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(be.a)(()=>Object(dS.g)(t,i,e)),Object(be.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(dS.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=c,u&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,c,u,n,l])})),yS({bufferSize:1,refCount:!1}));if(kt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(le.a)(null);else{p.pipe(Wn()).subscribe();const t=p.pipe(_n(t=>t.getRedirectResult().then(t=>t,()=>null)),d,yS({bufferSize:1,refCount:!1})),e=t=>new he.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(_n(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(_n(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(_S(n),Object(wS.a)(h.outsideAngular),Object(hS.b)(h.insideAngular)),this.user=t.pipe(_S(r),Object(wS.a)(h.outsideAngular),Object(hS.b)(h.insideAngular)),this.idToken=this.user.pipe(_n(t=>t?Object(Xe.a)(t.getIdToken()):Object(le.a)(null))),this.idTokenResult=this.user.pipe(_n(t=>t?Object(Xe.a)(t.getIdTokenResult()):Object(le.a)(null))),this.credential=Object(pS.a)(t,f,this.authState.pipe(me(t=>!t))).pipe(Object(be.a)(t=>(null==t?void 0:t.user)?t:null),Object(wS.a)(h.outsideAngular),Object(hS.b)(h.insideAngular))}return Object(dS.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(dS.c),r.Yb(dS.b,8),r.Yb(r.C),r.Yb(r.A),r.Yb(CS,8),r.Yb(TS,8),r.Yb(ES,8),r.Yb(SS,8),r.Yb(OS,8),r.Yb(xS,8))},t.\u0275prov=r.Lb({factory:function(){return new t(r.Yb(dS.c),r.Yb(dS.b,8),r.Yb(r.C),r.Yb(r.A),r.Yb(CS,8),r.Yb(TS,8),r.Yb(ES,8),r.Yb(SS,8),r.Yb(OS,8),r.Yb(xS,8))},token:t,providedIn:"any"}),t})();Object(dS.e)(kS,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let IS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[kS]}),t})();function AS(t,e){return function(t,e=iS.b){return new he.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function PS(t,e){return AS(t,e).pipe(Object(be.a)(t=>({payload:t,type:"query"})))}function DS(t,e){return PS(t,e).pipe(xn(void 0),oS(),Object(be.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function RS(t,e,n){return DS(t,n).pipe(kn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return NS(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return NS(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return NS(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),cS(),Object(be.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function NS(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function MS(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class jS{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=DS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(be.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(xn(void 0),oS(),me(([t,e])=>e.length>0||!t),Object(be.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(kn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=MS(t);return RS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return PS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(be.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Xe.a)(this.query.get(t)).pipe(Object(hS.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new LS(this.ref.doc(t),this.afs)}}class LS{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=zS(n,e);return new jS(r,i,this.afs)}snapshotChanges(){return AS(this.ref,this.afs.schedulers.outsideAngular).pipe(xn(void 0),oS(),Object(be.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(be.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Xe.a)(this.ref.get(t)).pipe(Object(hS.b)(this.afs.schedulers.insideAngular))}}class FS{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?DS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(be.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),me(t=>t.length>0),this.afs.keepUnstableUntilFirst):DS(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(kn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=MS(t);return RS(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return PS(this.query,this.afs.schedulers.outsideAngular).pipe(Object(be.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Xe.a)(this.query.get(t)).pipe(Object(hS.b)(this.afs.schedulers.insideAngular))}}const US=new r.r("angularfire2.enableFirestorePersistence"),VS=new r.r("angularfire2.firestore.persistenceSettings"),BS=new r.r("angularfire2.firestore.settings"),qS=new r.r("angularfire2.firestore.use-emulator");function zS(t,e=(t=>t)){return{query:e(t),ref:t}}let HS=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c){this.schedulers=new dS.d(o),this.keepUnstableUntilFirst=Object(dS.h)(this.schedulers);const u=Object(dS.g)(t,o,e);!fS.a.auth&&c&&Object(dS.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(dS.f)(`${u.name}.firestore`,"AngularFirestore",u,()=>{const t=o.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!kt(i)){const e=()=>{try{return Object(Xe.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(l_){return"undefined"!=typeof console&&console.warn(l_),Object(le.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(le.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=zS(n,e),o=this.schedulers.ngZone.run(()=>r);return new jS(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new FS(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new LS(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(dS.c),r.Yb(dS.b,8),r.Yb(US,8),r.Yb(BS,8),r.Yb(r.C),r.Yb(r.A),r.Yb(VS,8),r.Yb(qS,8),r.Yb(CS,8))},t.\u0275prov=r.Lb({factory:function(){return new t(r.Yb(dS.c),r.Yb(dS.b,8),r.Yb(US,8),r.Yb(BS,8),r.Yb(r.C),r.Yb(r.A),r.Yb(VS,8),r.Yb(qS,8),r.Yb(CS,8))},token:t,providedIn:"any"}),t})(),WS=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:US,useValue:!0},{provide:VS,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[HS]}),t})(),KS=(()=>{class t{constructor(t,e,n,r){this.afs=t,this.afAuth=e,this.router=n,this.ngZone=r,this.loggedInStatus=JSON.parse(localStorage.getItem("loggedIn")||"false")}ngOnDestroy(){this.setLoginStatus(!1)}setLoginStatus(t){this.loggedInStatus=t,t?localStorage.setItem("loggedIn","true"):localStorage.setItem("loggedIn","false")}get loginStatus(){return JSON.parse(localStorage.getItem("loggedIn")||this.loggedInStatus.toString())}SignIn(t,e){return this.afAuth.signInWithEmailAndPassword(t,e).then(t=>{this.setUpToken(),this.setLoginStatus(!0),this.router.navigate(["dashboard"]),this.SetUserData(t.user)}).catch(t=>{window.alert(t.message)})}SignUp(t,e){return this.afAuth.createUserWithEmailAndPassword(t,e).then(t=>{this.SetUserData(t.user),this.router.navigate(["sign-in"])}).catch(t=>{window.alert(t.message)})}AuthLogin(t){return this.afAuth.signInWithPopup(t).then(t=>{this.ngZone.run(()=>{this.setUpToken(),this.setLoginStatus(!0),this.router.navigate(["dashboard"])}),void 0!==t.user&&this.SetUserData(t.user)}).catch(t=>{window.alert(t)})}SetUserData(t){return null==t?null:this.afs.doc(`users/${t.uid}`).set({id:t.uid,email:t.email,name:t.displayName},{merge:!0})}SignOut(){return Object(Go.__awaiter)(this,void 0,void 0,function*(){yield this.afAuth.signOut(),this.setLoginStatus(!1),this.router.navigate(["sign-in"])})}ForgotPassword(t){return this.afAuth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["sign-in"]),window.alert("Password reset email sent, check your inbox.")}).catch(t=>{window.alert(t)})}get isLoggedIn(){return this.loginStatus}GoogleAuth(){return this.AuthLogin(new Yo.default.auth.GoogleAuthProvider)}setUpToken(){var t;null===(t=Yo.default.auth().currentUser)||void 0===t||t.getIdToken().then(t=>{this.token=t,localStorage.setItem("token",JSON.stringify(this.token))})}getToken(){return this.token?this.token:JSON.parse(localStorage.getItem("token")||"")}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(HS),r.Yb(kS),r.Yb(Eo),r.Yb(r.A))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),GS=(()=>{class t{constructor(t,e){this.authService=t,this.router=e,this.signInPath=Ko.SIGN_IN_URL}canActivate(t,e){return this.authService.isLoggedIn||this.router.navigate([this.signInPath]),!0}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(KS),r.Yb(Eo))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function YS(t){return e=>e.lift(new $S(t))}class $S{constructor(t){this.notifier=t}call(t,e){const n=new QS(t),r=Object(yn.c)(this.notifier,new yn.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class QS extends yn.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}class XS{}const JS="*";function ZS(t,e){return{type:7,name:t,definitions:e,options:{}}}function tO(t,e=null){return{type:4,styles:e,timings:t}}function eO(t,e=null){return{type:2,steps:t,options:e}}function nO(t){return{type:6,styles:t,offset:null}}function rO(t,e,n){return{type:0,name:t,styles:e,options:n}}function iO(t){return{type:5,steps:t}}function oO(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function sO(t,e=null){return{type:8,animation:t,options:e}}function aO(t=null){return{type:9,options:t}}function cO(t,e=null){return{type:10,animation:t,options:e}}function uO(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function lO(t){Promise.resolve(null).then(t)}class hO{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){lO(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class dO{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?lO(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}var fO=function(t){return t.Scale="scale",t}({});const pO=sO([nO({opacity:0,transform:"scale(0.5)"}),tO("{{time}} cubic-bezier(0.785, 0.135, 0.15, 0.86)",nO({opacity:1,transform:"scale(1)"}))]),mO=sO([tO("{{time}} cubic-bezier(0.785, 0.135, 0.15, 0.86)",nO({opacity:0,transform:"scale(0.5)"}))]);let gO=(()=>{class t{}return t.MOVIE_PLOT="Plot",t.MOVIE_DETAILS="Details",t.MOVIE_CREW="Crew",t.MOVIE_STATS="Statistics",t.MOVIE_REVIEWS="Reviews",t.MOVIE_URL_PARAMETER="idString",t.MOVIE_DYNAMIC_COMP="tabContent",t.CHART_SLIDE_CHUNK=4,t.NOT_FOUND_IMAGE_WHITE="./assets/whiteBackground.jpg",t.NOT_FOUND_IMAGE="./assets/image-not-found.png",t.STAR="./assets/star.png",t.ARROW_DOWN="./assets/arrow-down.png",t.ARROW_UP="./assets/arrow-up.png",t.CREW_DESCRIPTION="Description",t.CREW_DIRECTOR="Directed In",t.CREW_ACTOR="Acted In",t.CREW_STATS="Statistics",t.YTB_IFRAME_BASE_URL="https://www.youtube.com/embed/",t})(),vO=(()=>{class t{}return t.GET_MOVIE_BY_ID="https://moviesss.azurewebsites.net/api/Movie/",t.GET_MOCKED_MOVIE="./config/movies-mock.json",t.GET_ALL_CHARTS="https://moviesss.azurewebsites.net/api/Chart/all",t.GET_ALL_CHARTS_PARAM_MAX="100",t.GET_ALL_CHARTS_PARAM_OFFSET="0",t.GET_SEARCH="https://moviesss.azurewebsites.net/api/Search/",t.GET_CREW_MEMBER_BY_ID="https://moviesss.azurewebsites.net/api/Crew/",t.POST_REVIEW="https://moviesss.azurewebsites.net/api/Review",t.GET_ACCOUNT="https://moviesss.azurewebsites.net/api/Account",t.BASE_DETAILS_URL="/details",t.CREW_DETAILS_URL="/crew-details",t})();function bO(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",11),r.Ub(1,"div",12),r.bc("click",function(){r.wc(t);const n=e.$implicit;return r.fc(3).navigateTo(n.idString)}),r.Ub(2,"div",13),r.Ub(3,"figure",14),r.Qb(4,"img",15),r.Tb(),r.Tb(),r.Ub(5,"div",16),r.Ub(6,"div"),r.Ub(7,"div",17),r.Ec(8),r.Tb(),r.Ub(9,"div",17),r.Ec(10),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit;r.Db(4),r.lc("src",t.posterUrl,r.zc),r.Db(4),r.Gc(" ",t.title," "),r.Db(2),r.Gc("Rating: ",t.totalRatings.averageRating,"/10")}}function yO(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",3),r.Ub(1,"button",4),r.bc("click",function(){return r.wc(t),r.fc(2).onPreviousClick()}),r.Qb(2,"span",5),r.Tb(),r.Ub(3,"button",6),r.bc("click",function(){return r.wc(t),r.fc(2).onNextClick()}),r.Qb(4,"span",7),r.Tb(),r.Ub(5,"div",8),r.Ub(6,"div",9),r.Cc(7,bO,11,3,"div",10),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.fc().$implicit,e=r.fc();r.lc("@slideAnimation",e.animationType),r.Db(7),r.lc("ngForOf",t.movies)}}function _O(t,e){if(1&t&&(r.Sb(0),r.Cc(1,yO,8,2,"div",2),r.Rb()),2&t){const t=e.index,n=r.fc();r.Db(1),r.lc("ngIf",t===n.getCurrentSlide())}}let wO=(()=>{class t{constructor(t,e){this.router=t,this.client=e,this.animationType=fO.Scale,this.slides=[],this.currentSlide=0,this.chunk=gO.CHART_SLIDE_CHUNK}ngOnInit(){let t;if(this.chart&&this.chart.movies){this.chart.movies.forEach(t=>{t.posterUrl||this.handlePosterURL(t)});for(let e=0,n=this.chart.movies.length;e<n;e+=this.chunk)t=this.chart.movies.slice(e,e+this.chunk),this.slides.push({movies:t})}}getCurrentSlide(){return this.currentSlide}getLastSlide(){return this.slides.length}getSlides(){return this.slides}onPreviousClick(){const t=this.currentSlide-1;this.currentSlide=t<0?this.slides.length-1:t}onNextClick(){const t=this.currentSlide+1;this.currentSlide=t===this.slides.length?0:t}navigateTo(t){this.router.navigate([vO.BASE_DETAILS_URL,t])}handlePosterURL(t){t.posterUrl||(t.posterUrl=gO.NOT_FOUND_IMAGE),this.client.get(t.posterUrl).pipe(Pn(e=>(t.posterUrl=gO.NOT_FOUND_IMAGE,gn.a)))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Eo),r.Pb(Me))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-chart-carousel"]],inputs:{chart:"chart",animationType:"animationType"},decls:4,vars:3,consts:[[4,"ngFor","ngForOf"],[1,"paginator"],["class","slide",4,"ngIf"],[1,"slide"],[1,"control","prev",3,"click"],[1,"arrow","left"],[1,"control","next",3,"click"],[1,"arrow","right"],[1,"centered-grid"],[1,"row","columns","is-multiline"],["class","column is-3",4,"ngFor","ngForOf"],[1,"column","is-3"],[1,"card",3,"click"],[1,"card-image"],[1,"image","is-3by5"],[3,"src"],[1,"overlay"],[1,"has-text-centered"]],template:function(t,e){1&t&&(r.Cc(0,_O,2,1,"ng-container",0),r.Ub(1,"div",1),r.Ub(2,"div"),r.Ec(3),r.Tb(),r.Tb()),2&t&&(r.lc("ngForOf",e.getSlides()),r.Db(3),r.Hc("Slide ",e.getCurrentSlide()+1," of ",e.getLastSlide(),""))},directives:[ct,lt],styles:[".slide[_ngcontent-%COMP%]{top:0;left:0;width:100%;object-fit:cover;border-radius:.5em}.control[_ngcontent-%COMP%], .slide[_ngcontent-%COMP%]{position:absolute;height:100%}.control[_ngcontent-%COMP%]{border:none;background-color:initial;outline:0;cursor:pointer;display:flex;flex-direction:column;justify-content:center;padding:.5em;font-size:3rem;opacity:80%;transition:opacity .15s cubic-bezier(.25,.46,.45,.84)}.control[_ngcontent-%COMP%]:focus, .control[_ngcontent-%COMP%]:hover{opacity:1}.control.next[_ngcontent-%COMP%]{right:0}.control.prev[_ngcontent-%COMP%]{left:0}.arrow[_ngcontent-%COMP%]{display:block;border-left:.1em solid #fff;border-bottom:.1em solid #fff;width:.5em;height:.5em}.arrow.left[_ngcontent-%COMP%]{transform:rotate(45deg)}.arrow.right[_ngcontent-%COMP%]{transform:rotate(225deg)}.centered-grid[_ngcontent-%COMP%]{margin-left:4.5rem;margin-right:4.5rem}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;padding:10px;opacity:0;touch-action:none;transition:opacity 1s}.card[_ngcontent-%COMP%], .overlay[_ngcontent-%COMP%]{border-radius:1.5rem}.card[_ngcontent-%COMP%]{cursor:pointer;color:transparent}.card[_ngcontent-%COMP%]:hover{z-index:10;transform:scale(1.5)}.card[_ngcontent-%COMP%]:hover, .card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{border-radius:1.5rem;transition-delay:.5s}.card[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{opacity:.2}.card[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{border-radius:1.5rem;color:#000;transition-delay:.5s;opacity:1;touch-action:auto;transform:scale(1);align-items:center}.card[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%], .paginator[_ngcontent-%COMP%]{display:flex;justify-content:center}.paginator[_ngcontent-%COMP%]{position:relative;top:30rem;color:#fff;cursor:default}"],data:{animation:[ZS("slideAnimation",[oO("void => scale",[cO(pO,{params:{time:"500ms"}})]),oO("scale => void",[cO(mO,{params:{time:"500ms"}})])])]}}),t})(),CO=(()=>{class t{}return t.OVERLAY_BACKDROP="cdk-overlay-transparent-backdrop",t.MOVIES_NOT_AVAILABLE_ERROR="Movies are not available.",t})(),TO=(()=>{class t{constructor(t,e){this.client=t,this.auth=e,this.moviesEndpoint=vO.GET_ALL_CHARTS,this.mockedMoviesFile=vO.GET_ALL_CHARTS}charts$(){return this.client.get(this.getUrl(),{params:{max:vO.GET_ALL_CHARTS_PARAM_MAX,offset:vO.GET_ALL_CHARTS_PARAM_OFFSET}}).pipe(Pn(t=>(401===t.status&&(console.log(t),this.auth.SignOut()),Object(le.a)([]))))}getUrl(){return Object(r.X)()?this.mockedMoviesFile:this.moviesEndpoint}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Me),r.Yb(KS))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class EO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class SO extends EO{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class OO extends EO{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class xO extends EO{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class kO extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof SO?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof OO?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof xO?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class IO extends kO{}let AO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})(),PO=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-custom-spinner"]],decls:14,vars:0,consts:[[1,"spinner-wrapper"],[1,"demo"],[1,"circle"],[1,"inner"],[1,"message-text"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Qb(3,"div",3),r.Tb(),r.Ub(4,"div",2),r.Qb(5,"div",3),r.Tb(),r.Ub(6,"div",2),r.Qb(7,"div",3),r.Tb(),r.Ub(8,"div",2),r.Qb(9,"div",3),r.Tb(),r.Ub(10,"div",2),r.Qb(11,"div",3),r.Tb(),r.Tb(),r.Tb(),r.Ub(12,"div",4),r.Ec(13,"Loading..."),r.Tb())},styles:[".demo[_ngcontent-%COMP%]{width:100px;height:102px;border-radius:100%}.circle[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute}.circle[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:100%;border:5px solid #ff8c00;border-top:none;border-right:none;box-shadow:inset 0 0 10px rgba(52,152,219,.15)}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.circle[_ngcontent-%COMP%]:nth-of-type(0){transform:rotate(0deg)}.circle[_ngcontent-%COMP%]:nth-of-type(0)   .inner[_ngcontent-%COMP%]{animation:spin 2s linear infinite}.circle[_ngcontent-%COMP%]:first-of-type{transform:rotate(70deg)}.circle[_ngcontent-%COMP%]:first-of-type   .inner[_ngcontent-%COMP%]{animation:spin 2s linear infinite}.circle[_ngcontent-%COMP%]:nth-of-type(2){transform:rotate(140deg)}.circle[_ngcontent-%COMP%]:nth-of-type(2)   .inner[_ngcontent-%COMP%]{animation:spin 2s linear infinite}.demo[_ngcontent-%COMP%]{animation:spin 5s linear infinite}.message-text[_ngcontent-%COMP%]{color:#fff}.message-text[_ngcontent-%COMP%], .spinner-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}"]}),t})();function DO(t){return null!=t&&"false"!=`${t}`}function RO(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function NO(t){return Array.isArray(t)?t:[t]}function MO(t){return null==t?"":"string"==typeof t?t:`${t}px`}function jO(t){return t instanceof r.l?t.nativeElement:t}var LO=n("n6bG");function FO(t,e,n,r){return Object(LO.a)(n)&&(r=n,n=void 0),r?FO(t,e,n).pipe(Object(be.a)(t=>Object(nn.a)(t)?r(...t):r(t))):new he.a(r=>{UO(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function UO(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)UO(t[o],e,n,r,i)}r.add(o)}n("3N8a"),n("IjjT"),n("7Hc7");class VO{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new BO(t,this.durationSelector))}}class BO extends yn.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(yn.c)(n,new yn.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var qO=n("Y7HM");function zO(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function HO(t,e=iS.a){return n=()=>function(t=0,e,n){let r=-1;return Object(qO.a)(e)?r=Number(e)<1?1:Number(e):Object(en.a)(e)&&(n=e),Object(en.a)(n)||(n=iS.a),new he.a(e=>{const i=Object(qO.a)(t)?t:+t-n.now();return n.schedule(zO,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new VO(n))};var n}let WO;try{WO="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(hK){WO=!1}let KO,GO=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?xt(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!WO)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.C))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(r.C))},token:t,providedIn:"root"}),t})(),YO=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();const $O=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function QO(){if(KO)return KO;if("object"!=typeof document||!document)return KO=new Set($O),KO;let t=document.createElement("input");return KO=new Set($O.filter(e=>(t.setAttribute("type",e),t.type===e))),KO}let XO,JO,ZO;function tx(t){return function(){if(null==XO&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>XO=!0}))}finally{XO=XO||!1}return XO}()?t:!!t.capture}function ex(){if(null==JO){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return JO=!1,JO;if("scrollBehavior"in document.documentElement.style)JO=!0;else{const t=Element.prototype.scrollTo;JO=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return JO}function nx(t){if(function(){if(null==ZO){const t="undefined"!=typeof document?document.head:null;ZO=!(!t||!t.createShadowRoot&&!t.attachShadow)}return ZO}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}const rx=new r.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.W)(s)}});let ix=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(rx,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(rx,8))},token:t,providedIn:"root"}),t})(),ox=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();class sx{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Je.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}let ax=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Je.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new he.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(HO(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(le.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(me(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=jO(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>FO(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.A),r.Yb(GO),r.Yb(s,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(r.A),Object(r.Yb)(GO),Object(r.Yb)(s,8))},token:t,providedIn:"root"}),t})(),cx=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Je.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(HO(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(GO),r.Yb(r.A),r.Yb(s,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(GO),Object(r.Yb)(r.A),Object(r.Yb)(s,8))},token:t,providedIn:"root"}),t})(),ux=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})(),lx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[ox,YO,ux],ox,ux]}),t})();class hx{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new dx(t,this.predicate,this.inclusive))}}class dx extends pe.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}const fx=38;function px(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}const mx=ex();class gx{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=MO(-this._previousScrollPosition.left),t.style.top=MO(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),mx&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),mx&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class vx{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bx{enable(){}disable(){}attach(){}}function yx(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function _x(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class wx{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();yx(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Cx=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new bx,this.close=t=>new vx(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new gx(this._viewportRuler,this._document),this.reposition=t=>new wx(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ax),r.Yb(cx),r.Yb(r.A),r.Yb(s))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(ax),Object(r.Yb)(cx),Object(r.Yb)(r.A),Object(r.Yb)(s))},token:t,providedIn:"root"}),t})();class Tx{constructor(t){if(this.scrollStrategy=new bx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class Ex{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Sx{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Ox=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(s))},token:t,providedIn:"root"}),t})(),xx=(()=>{class t extends Ox{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(s))},token:t,providedIn:"root"}),t})(),kx=(()=>{class t extends Ox{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s),r.Yb(GO))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(s),Object(r.Yb)(GO))},token:t,providedIn:"root"}),t})();const Ix=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Ax=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Ix){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),Ix?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s),r.Yb(GO))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(s),Object(r.Yb)(GO))},token:t,providedIn:"root"}),t})();class Px{constructor(t,e,n,r,i,o,s,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Je.a,this._attachments=new Je.a,this._detachments=new Je.a,this._locationChanges=Yn.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Je.a,this._outsidePointerEvents=new Je.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(En(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=MO(this._config.width),t.height=MO(this._config.height),t.minWidth=MO(this._config.minWidth),t.minHeight=MO(this._config.minHeight),t.maxWidth=MO(this._config.maxWidth),t.maxHeight=MO(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;NO(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(YS(Object(pS.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Dx="cdk-overlay-connected-position-bounding-box",Rx=/([A-Za-z%]+)$/;class Nx{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Je.a,this._resizeSubscription=Yn.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Dx),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),c=this._getOverlayFit(a,e,n,o);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Mx(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Dx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=Lx(e);let{x:o,y:s}=t,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(o+=a),c&&(s+=c);let u=0-s,l=s+i.height-n.height,h=this._subtractOverflows(i.width,0-o,o+i.width-n.width),d=this._subtractOverflows(i.height,u,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=jx(this._overlayRef.getConfig().minHeight),s=jx(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Lx(e),i=this._viewportRect,o=Math.max(t.x+r.width-i.width,0),s=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),c=Math.max(i.left-n.left-t.x,0);let u=0,l=0;return u=r.width<=i.width?c||-o:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:u,y:l},{x:t.x+u,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Sx(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,c,u;if("top"===e.overlayY)o=t.y,i=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)s=n.height-t.y+2*this._viewportMargin,i=n.height-s+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,o=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:o,left:c,bottom:s,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=MO(n.height),r.top=MO(n.top),r.bottom=MO(n.bottom),r.width=MO(n.width),r.left=MO(n.left),r.right=MO(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=MO(t)),i&&(r.maxWidth=MO(i))}this._lastBoundingBoxSize=n,Mx(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Mx(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Mx(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();Mx(n,this._getExactOverlayY(e,t,r)),Mx(n,this._getExactOverlayX(e,t,r))}else n.position="static";let s="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(s+=`translateX(${a}px) `),c&&(s+=`translateY(${c}px)`),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=MO(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=MO(o.maxWidth):i&&(n.maxWidth="")),Mx(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=MO(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":i.left=MO(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:_x(t,n),isOriginOutsideView:yx(t,n),isOverlayClipped:_x(e,n),isOverlayOutsideView:yx(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&NO(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Mx(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function jx(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Rx);return n&&"px"!==n?null:parseFloat(e)}return t||null}function Lx(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class Fx{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new Nx(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new Ex(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const Ux="cdk-global-overlay-wrapper";class Vx{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Ux),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:o,maxHeight:s}=n,a=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==i&&"100vh"!==i||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(Ux),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Bx=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new Vx}connectedTo(t,e,n){return new Fx(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Nx(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(cx),r.Yb(s),r.Yb(GO),r.Yb(Ax))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(cx),Object(r.Yb)(s),Object(r.Yb)(GO),Object(r.Yb)(Ax))},token:t,providedIn:"root"}),t})(),qx=0,zx=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new Tx(t);return i.direction=i.direction||this._directionality.value,new Px(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+qx++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new kO(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Cx),r.Yb(Ax),r.Yb(r.j),r.Yb(Bx),r.Yb(xx),r.Yb(r.s),r.Yb(r.A),r.Yb(s),r.Yb(ix),r.Yb(w),r.Yb(kx))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const Hx=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Wx=new r.r("cdk-connected-overlay-scroll-strategy");let Kx=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),Gx=(()=>{class t{constructor(t,e,n,i,o){this._overlay=t,this._dir=o,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Yn.a.EMPTY,this._attachSubscription=Yn.a.EMPTY,this._detachSubscription=Yn.a.EMPTY,this._positionSubscription=Yn.a.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.n,this.positionChange=new r.n,this.attach=new r.n,this.detach=new r.n,this.overlayKeydown=new r.n,this.overlayOutsideClick=new r.n,this._templatePortal=new OO(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=DO(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=DO(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=DO(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=DO(t)}get push(){return this._push}set push(t){this._push=DO(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=Hx);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||px(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new Tx({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new hx(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(zx),r.Pb(r.M),r.Pb(r.R),r.Pb(Wx),r.Pb(ix,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.Bb]}),t})();const Yx={provide:Wx,deps:[zx],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let $x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[zx,Yx],imports:[[ox,AO,lx],lx]}),t})(),Qx=(()=>{class t{constructor(t){this.overlay=t,this.spinnerTopRef=this.cdkSpinnerCreate(),this.spin$=new Je.a,this.spin$.asObservable().pipe(Object(be.a)(t=>t?1:-1),kn((t,e)=>t+e>=0?t+e:0,0)).subscribe(t=>{1===t?this.showSpinner():0===t&&this.spinnerTopRef.hasAttached()&&this.stopSpinner()})}getSpinner$(){return this.spin$}cdkSpinnerCreate(){return this.overlay.create({hasBackdrop:!0,backdropClass:CO.OVERLAY_BACKDROP,positionStrategy:this.overlay.position().global().centerHorizontally().centerVertically()})}showSpinner(){this.spinnerTopRef.attach(new SO(PO))}stopSpinner(){this.spinnerTopRef.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(zx))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Xx(t,e){if(1&t&&(r.Ub(0,"section",2),r.Ub(1,"section",3),r.Ec(2),r.Tb(),r.Ub(3,"div",4),r.Qb(4,"app-chart-carousel",5),r.Tb(),r.Tb()),2&t){const t=e.$implicit,n=r.fc();r.Db(2),r.Fc(t.name),r.Db(2),r.lc("chart",t)("animationType",n.animationType)}}let Jx=(()=>{class t{constructor(t,e,n,r,i){this.chartsProvider=t,this.router=e,this.overlayService=n,this.client=r,this.auth=i,this.charts=[],this.animationType=fO.Scale,this.carousel=new wO(e,r),this.destroy$=new Je.a}ngOnInit(){this.overlayService.getSpinner$().next(!0),this.chartsProvider.charts$().pipe(YS(this.destroy$)).subscribe(t=>{0!==t.length?(this.charts=t,this.overlayService.getSpinner$().next(!1)):(this.overlayService.getSpinner$().next(!1),this.showError())})}showError(){window.alert(CO.MOVIES_NOT_AVAILABLE_ERROR)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(TO),r.Pb(Eo),r.Pb(Qx),r.Pb(Me),r.Pb(KS))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-layout"]],viewQuery:function(t,e){if(1&t&&r.Ic(wO,1),2&t){let t;r.sc(t=r.cc())&&(e.carousel=t.first)}},decls:5,vars:1,consts:[[1,"container"],["class","section",4,"ngFor","ngForOf"],[1,"section"],[1,"message-header"],[1,"carousel-wrapper"],[3,"chart","animationType"]],template:function(t,e){1&t&&(r.Ub(0,"section",0),r.Cc(1,Xx,5,3,"section",1),r.Tb(),r.Qb(2,"br"),r.Qb(3,"br"),r.Qb(4,"br")),2&t&&(r.Db(1),r.lc("ngForOf",e.charts))},directives:[ct,wO],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;width:100%}.carousel-wrapper[_ngcontent-%COMP%]{display:inline-block;height:30.5rem;width:100%;transform:translate(0)}.message-header[_ngcontent-%COMP%]{cursor:default}"]}),t})(),Zx=(()=>{class t{constructor(t,e){this.client=t,this.auth=e}getMovie$(t){return this.client.get(vO.GET_MOVIE_BY_ID+t).pipe(Pn(t=>(401===t.status&&this.auth.SignOut(),console.log(t),this.getMockedMovie())))}getMockedMovie(){return this.client.get(vO.GET_MOCKED_MOVIE)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Me),r.Yb(KS))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function tk(t,e){1&t&&(r.Ub(0,"div",2),r.Ub(1,"strong"),r.Ec(2,"There is no plot..."),r.Tb(),r.Tb())}function ek(t,e){if(1&t&&(r.Ub(0,"p"),r.Ec(1),r.Tb()),2&t){const t=r.fc();r.Db(1),r.Fc(t.movie.plot)}}let nk=(()=>{class t{constructor(){}showPlot(){return!!(this.movie&&this.movie.plot&&this.movie.plot.length>0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-movie-details-plot-tab"]],inputs:{movie:"movie"},decls:2,vars:2,consts:[["class","noPlot",4,"ngIf"],[4,"ngIf"],[1,"noPlot"]],template:function(t,e){1&t&&(r.Cc(0,tk,3,0,"div",0),r.Cc(1,ek,2,1,"p",1)),2&t&&(r.lc("ngIf",!e.showPlot()),r.Db(1),r.lc("ngIf",e.showPlot()))},directives:[lt],styles:["p[_ngcontent-%COMP%]{margin-top:1.5rem}.noPlot[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;margin-top:1rem}"]}),t})();function rk(t,e=iS.a){return n=>n.lift(new ik(t,e))}class ik{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new ok(t,this.dueTime,this.scheduler))}}class ok extends pe.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(sk,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function sk(t){t.debouncedNext()}let ak=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),ck=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=jO(t);return new he.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Je.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(ak))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(ak))},token:t,providedIn:"root"}),t})(),uk=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=DO(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=RO(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(rk(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ck),r.Pb(r.l),r.Pb(r.A))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),lk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[ak]}),t})();function hk(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const dk="cdk-describedby-message-container",fk="cdk-describedby-host";let pk=0;const mk=new Map;let gk=null,vk=(()=>{class t{constructor(t){this._document=t}describe(t,e,n){if(!this._canBeDescribed(t,e))return;const r=bk(e,n);"string"!=typeof e?(yk(e),mk.set(r,{messageElement:e,referenceCount:0})):mk.has(r)||this._createMessageElement(e,n),this._isElementDescribedByMessage(t,r)||this._addMessageReference(t,r)}removeDescription(t,e,n){if(!e||!this._isElementNode(t))return;const r=bk(e,n);if(this._isElementDescribedByMessage(t,r)&&this._removeMessageReference(t,r),"string"==typeof e){const t=mk.get(r);t&&0===t.referenceCount&&this._deleteMessageElement(r)}gk&&0===gk.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute(fk);gk&&this._deleteMessagesContainer(),mk.clear()}_createMessageElement(t,e){const n=this._document.createElement("div");yk(n),n.textContent=t,e&&n.setAttribute("role",e),this._createMessagesContainer(),gk.appendChild(n),mk.set(bk(t,e),{messageElement:n,referenceCount:0})}_deleteMessageElement(t){const e=mk.get(t),n=e&&e.messageElement;gk&&n&&gk.removeChild(n),mk.delete(t)}_createMessagesContainer(){if(!gk){const t=this._document.getElementById(dk);t&&t.parentNode&&t.parentNode.removeChild(t),gk=this._document.createElement("div"),gk.id=dk,gk.style.visibility="hidden",gk.classList.add("cdk-visually-hidden"),this._document.body.appendChild(gk)}}_deleteMessagesContainer(){gk&&gk.parentNode&&(gk.parentNode.removeChild(gk),gk=null)}_removeCdkDescribedByReferenceIds(t){const e=hk(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=mk.get(e);!function(t,e,n){const r=hk(t,e);r.some(t=>t.trim()==n.trim())||(r.push(n.trim()),t.setAttribute(e,r.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute(fk,""),n.referenceCount++}_removeMessageReference(t,e){const n=mk.get(e);n.referenceCount--,function(t,e,n){const r=hk(t,e).filter(t=>t!=n.trim());r.length?t.setAttribute(e,r.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute(fk)}_isElementDescribedByMessage(t,e){const n=hk(t,"aria-describedby"),r=mk.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),r=t.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(s))},token:t,providedIn:"root"}),t})();function bk(t,e){return"string"==typeof t?`${e||""}/${t}`:t}function yk(t){t.id||(t.id="cdk-describedby-message-"+pk++)}class _k{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Je.a,this._typeaheadSubscription=Yn.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Je.a,this.change=new Je.a,t instanceof r.E&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Kn.a)(t=>this._pressedLetters.push(t)),rk(t),me(()=>this._pressedLetters.length>0),Object(be.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case fx:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||px(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.E?this._items.toArray():this._items}}class wk extends _k{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Ck extends _k{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}"undefined"!=typeof Element&&Element;const Tk=new r.r("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Ek=new r.r("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Sk=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Tk,8),r.Yb(r.A),r.Yb(s),r.Yb(Ek,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(Tk,8),Object(r.Yb)(r.A),Object(r.Yb)(s),Object(r.Yb)(Ek,8))},token:t,providedIn:"root"}),t})();function Ok(t){return 0===t.buttons}function xk(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const kk=new r.r("cdk-focus-monitor-default-options"),Ik=tx({passive:!0,capture:!0});let Ak=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Ok(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{xk(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Pk(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Pk(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=jO(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(le.a)(null);const r=nx(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const o={checkChildren:e,subject:new Je.a,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}stopMonitoring(t){const e=jO(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=jO(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Pk(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===Pk(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ik),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ik)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Ik),t.addEventListener("mousedown",this._documentMousedownListener,Ik),t.addEventListener("touchstart",this._documentTouchstartListener,Ik),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ik),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ik),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Ik),t.removeEventListener("mousedown",this._documentMousedownListener,Ik),t.removeEventListener("touchstart",this._documentTouchstartListener,Ik),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.A),r.Yb(GO),r.Yb(s,8),r.Yb(kk,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(r.A),Object(r.Yb)(GO),Object(r.Yb)(s,8),Object(r.Yb)(kk,8))},token:t,providedIn:"root"}),t})();function Pk(t){return t.composedPath?t.composedPath()[0]:t.target}const Dk="cdk-high-contrast-black-on-white",Rk="cdk-high-contrast-white-on-black",Nk="cdk-high-contrast-active";let Mk=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Nk),t.remove(Dk),t.remove(Rk);const e=this.getHighContrastMode();1===e?(t.add(Nk),t.add(Dk)):2===e&&(t.add(Nk),t.add(Rk))}}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(GO),r.Yb(s))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(GO),Object(r.Yb)(s))},token:t,providedIn:"root"}),t})(),jk=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Mk))},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[YO,lk]]}),t})();const Lk=new r.Q("11.2.13");function Fk(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Uk(t){switch(t.length){case 0:return new hO;case 1:return t[0];default:return new dO(t)}}function Vk(t,e,n,r,i={},o={}){const s=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case"!":a=i[n];break;case JS:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}l[r]=a}),r||a.push(l),u=l,c=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function Bk(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&qk(n,"start",t)));break;case"done":t.onDone(()=>r(n&&qk(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&qk(n,"destroy",t)))}}function qk(t,e,n){const r=n.totalTime,i=zk(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function zk(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Hk(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Wk(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Kk=(t,e)=>!1,Gk=(t,e)=>!1,Yk=(t,e,n)=>[];const $k=Fk();($k||"undefined"!=typeof Element)&&(Kk=(t,e)=>t.contains(e),Gk=(()=>{if($k||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Gk}})(),Yk=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Qk=null,Xk=!1;function Jk(t){Qk||(Qk=("undefined"!=typeof document?document.body:null)||{},Xk=!!Qk.style&&"WebkitAppearance"in Qk.style);let e=!0;return Qk.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Qk.style,!e&&Xk)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Qk.style),e}const Zk=Gk,tI=Kk,eI=Yk;function nI(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let rI=(()=>{class t{validateStyleProperty(t){return Jk(t)}matchesElement(t,e){return Zk(t,e)}containsElement(t,e){return tI(t,e)}query(t,e,n){return eI(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new hO(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),iI=(()=>{class t{}return t.NOOP=new rI,t})();const oI="ng-enter",sI="ng-leave",aI="ng-trigger",cI=".ng-trigger",uI="ng-animating",lI=".ng-animating";function hI(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:dI(parseFloat(e[1]),e[2])}function dI(t,e){switch(e){case"s":return 1e3*t;default:return t}}function fI(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=dI(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=dI(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function pI(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function mI(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else pI(t,n);return n}function gI(t,e,n){return n?e+":"+n+";":""}function vI(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=gI(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=gI(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function bI(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=OI(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Fk()&&vI(t))}function yI(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=OI(e);t.style[n]=""}),Fk()&&vI(t))}function _I(t){return Array.isArray(t)?1==t.length?t[0]:eO(t):t}const wI=new RegExp("{{\\s*(.+?)\\s*}}","g");function CI(t){let e=[];if("string"==typeof t){let n;for(;n=wI.exec(t);)e.push(n[1]);wI.lastIndex=0}return e}function TI(t,e,n){const r=t.toString(),i=r.replace(wI,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function EI(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const SI=/-+([a-z0-9])/g;function OI(t){return t.replace(SI,(...t)=>t[1].toUpperCase())}function xI(t,e){return 0===t||0===e}function kI(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=AI(t,e)})}}return e}function II(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function AI(t,e){return window.getComputedStyle(t)[e]}const PI="*";function DI(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(MI(i,s)),"<"!=o[0]||i==PI&&s==PI||e.push(MI(s,i))}(t,n,e)):n.push(t),n}const RI=new Set(["true","1"]),NI=new Set(["false","0"]);function MI(t,e){const n=RI.has(t)||NI.has(t),r=RI.has(e)||NI.has(e);return(i,o)=>{let s=t==PI||t==i,a=e==PI||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?RI.has(t):NI.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?RI.has(e):NI.has(e)),s&&a}}const jI=new RegExp("s*:selfs*,?","g");function LI(t,e,n){return new FI(t).build(e,n)}class FI{constructor(t){this._driver=t}build(t,e){const n=new UI(e);return this._resetContextStyleTimingState(n),II(this,_I(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(VI(t)){const e=t;Object.keys(e).forEach(t=>{CI(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=EI(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=II(this,_I(t.animation),e);return{type:1,matchers:DI(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:BI(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>II(this,t,e)),options:BI(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=II(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:BI(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return qI(fI(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=qI(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||fI(r,e),qI(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:nO({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=nO(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==JS?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(VI(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=CI(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(VI(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(VI(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),s=s||u<0||u>1,o=o||u<a,a=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const o=l>0?r==h?1:l*r:i[r],s=o*p;e.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:II(this,_I(t.animation),e),options:BI(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:BI(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:BI(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(jI,"")),[t=t.replace(/@\*/g,cI).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,lI),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Hk(e.collectedStyles,e.currentQuerySelector,{});const s=II(this,_I(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:BI(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:fI(t.timings,e.errors,!0);return{type:12,animation:II(this,_I(t.animation),e),timings:n,options:null}}}class UI{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function VI(t){return!Array.isArray(t)&&"object"==typeof t}function BI(t){var e;return t?(t=pI(t)).params&&(t.params=(e=t.params)?pI(e):null):t={},t}function qI(t,e,n){return{duration:t,delay:e,easing:n}}function zI(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class HI{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const WI=new RegExp(":enter","g"),KI=new RegExp(":leave","g");function GI(t,e,n,r,i,o={},s={},a,c,u=[]){return(new YI).buildKeyframes(t,e,n,r,i,o,s,a,c,u)}class YI{buildKeyframes(t,e,n,r,i,o,s,a,c,u=[]){c=c||new HI;const l=new QI(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),II(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[zI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?hI(n.duration):null,o=null!=n.delay?hI(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),II(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=$I);const t=hI(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>II(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?hI(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),II(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return fI(e.params?TI(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?hI(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=$I);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),II(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;II(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const $I={};class QI{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=$I,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new XI(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=hI(n.duration)),null!=n.delay&&(r.delay=hI(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=TI(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new QI(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=$I,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new JI(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(WI,"."+this._enterClassName)).replace(KI,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class XI{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new XI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||JS,this._currentKeyframe[t]=JS}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=JS})):mI(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=TI(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:JS),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=mI(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?t.add(n):r==JS&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?EI(t.values()):[],o=e.size?EI(e.values()):[];if(n){const t=r[0],e=pI(t);t.offset=0,e.offset=1,r=[t,e]}return zI(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class JI extends XI{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=mI(t[0],!1);a.offset=0,i.push(a);const c=mI(t[0],!1);c.offset=ZI(s),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let s=mI(t[r],!1);s.offset=ZI((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return zI(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function ZI(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class tA{}class eA extends tA{normalizePropertyName(t,e){return OI(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(nA[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const nA=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function rA(t,e,n,r,i,o,s,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const iA={};class oA{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||iA,d=this.buildStyles(n,s&&s.params||iA,l),f=a&&a.params||iA,p=this.buildStyles(r,f,l),m=new Set,g=new Map,v=new Map,b="void"===r,y={params:Object.assign(Object.assign({},h),f)},_=u?[]:GI(t,e,this.ast.animation,i,o,d,p,y,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return rA(e,this._triggerName,n,r,b,d,p,[],[],g,v,w,l);_.forEach(t=>{const n=t.element,r=Hk(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Hk(v,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const C=EI(m.values());return rA(e,this._triggerName,n,r,b,d,p,_,C,g,v,w)}}class sA{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=pI(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=TI(o,r,e)),n[t]=o})}}),n}}class aA{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new sA(t.style,t.options&&t.options.params||{})}),cA(this.states,"true","1"),cA(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new oA(t,e,this.states))}),this.fallbackTransition=new oA(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function cA(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const uA=new HI;class lA{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=LI(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Vk(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=GI(this._driver,e,i,oI,sI,{},{},n,uA,r),o.forEach(t=>{const e=Hk(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,JS)})});const a=Uk(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=zk(e,"","","");return Bk(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const hA="ng-animate-queued",dA="ng-animate-disabled",fA=".ng-animate-disabled",pA=[],mA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class vA{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=pI(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const bA="void",yA=new vA(bA);class _A{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,xA(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=Hk(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=Hk(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(xA(t,aI),xA(t,"ng-trigger-"+e),a[e]=yA),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new CA(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(xA(t,aI),xA(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const c=new vA(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[e]=c,a||(a=yA),c.value!==bA&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{yI(t,n),bI(t,r)})}return}const u=Hk(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(xA(t,hA),o.onStart(()=>{kA(t,hA)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,cI,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,bA,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Uk(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const o=this._triggers[i].fallbackTransition,s=n[i]||yA,a=new vA(bA),c=new CA(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:o,fromState:s,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==mA||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){xA(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=zk(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Bk(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class wA{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new _A(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(TA(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!TA(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),xA(t,dA)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),kA(t,dA))}removeNode(t,e,n,r){if(TA(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return TA(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,cI,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,lI,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Uk(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=mA,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,fA)&&this.markElementAsDisabled(t,!1),this.driver.query(t,fA,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)xA(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Uk(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new HI,r=[],i=new Map,o=[],s=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=OA(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=oI+p++;f.set(e,n),t.forEach(t=>xA(t,n))});const m=[],g=new Set,v=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):v.add(t))}const b=new Map,y=OA(h,Array.from(g));y.forEach((t,e)=>{const n=sI+p++;b.set(e,n),t.forEach(t=>xA(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>kA(t,n))}),y.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>kA(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>yI(i,p.fromStyles)),e.onDestroy(()=>bI(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>yI(i,p.fromStyles)),e.onDestroy(()=>bI(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Hk(s,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,T=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(T.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Hk(C,e,[]).push(t),t.destroy()})});const E=m.filter(t=>PA(t,a,c)),S=new Map;SA(S,this.driver,v,c,JS).forEach(t=>{PA(t,a,c)&&E.push(t)});const O=new Map;d.forEach((t,e)=>{SA(O,this.driver,new Set(t),a,"!")}),E.forEach(t=>{const e=S.get(t),n=O.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const x=[],k=[],I={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>bI(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=I;if(T.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=T.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>T.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,i,O,S);if(o.setRealPlayer(n),t===I)x.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=Uk(e)),r.push(o)}}else yI(e,s.fromStyles),o.onDestroy(()=>bI(e,s.toStyles)),k.push(o),u.has(e)&&r.push(o)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Uk(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(kA(t,sI),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,lI,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?IA(this,t,r):this.processLeaveNode(t)}return m.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==bA;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,c=Hk(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}yI(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new hO(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return AA(t,e),e}((n.get(h)||pA).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=o.get(h),v=Vk(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,v,p);if(e.subTimeline&&r&&l.add(h),f){const e=new CA(t,s,h);e.setRealPlayer(b),c.push(e)}return b});c.forEach(t=>{Hk(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>xA(t,uI));const d=Uk(h);return d.onDestroy(()=>{u.forEach(t=>kA(t,uI)),bI(a,e.toStyles)}),l.forEach(t=>{Hk(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new hO(t.duration,t.delay)}}class CA{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new hO,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Bk(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Hk(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function TA(t){return t&&1===t.nodeType}function EA(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function SA(t,e,n,r,i){const o=[];n.forEach(t=>o.push(EA(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=gA,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>EA(t,o[a++])),s}function OA(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function o(t){if(!t)return 1;let e=i.get(t);if(e)return e;const s=t.parentNode;return e=n.has(s)?s:r.has(s)?1:o(s),i.set(t,e),e}return e.forEach(t=>{const e=o(t);1!==e&&n.get(e).push(t)}),n}function xA(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function kA(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function IA(t,e,n){Uk(n).onDone(()=>t.processLeaveNode(e))}function AA(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof dO?AA(r.players,e):e.push(r)}}function PA(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class DA{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new wA(t,e,n),this._timelineEngine=new lA(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=LI(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new aA(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Wk(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Wk(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function RA(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=MA(e[0]),e.length>1&&(r=MA(e[e.length-1]))):e&&(n=MA(e)),n||r?new NA(t,n,r):null}let NA=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&bI(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bI(this._element,this._initialStyles),this._endStyles&&(bI(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(yI(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yI(this._element,this._endStyles),this._endStyles=null),bI(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function MA(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];jA(i)&&(e=e||{},e[i]=t[i])}return e}function jA(t){return"display"===t||"position"===t}const LA="animation",FA="animationend";class UA{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=WA(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),HA(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),zA(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){VA(this._element,this._name,"paused")}resume(){VA(this._element,this._name,"running")}setPosition(t){const e=BA(this._element,this._name);this._position=t*this._duration,HA(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),zA(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=WA(t,"").split(","),r=qA(n,e);r>=0&&(n.splice(r,1),HA(t,"",n.join(",")))}(this._element,this._name))}}function VA(t,e,n){HA(t,"PlayState",n,BA(t,e))}function BA(t,e){const n=WA(t,"");return n.indexOf(",")>0?qA(n.split(","),e):qA([n],e)}function qA(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function zA(t,e,n){n?t.removeEventListener(FA,e):t.addEventListener(FA,e)}function HA(t,e,n,r){const i=LA+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function WA(t,e){return t.style[LA+e]||""}class KA{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new UA(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:AI(this.element,n))})}this.currentSnapshot=t}}class GA extends hO{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=nI(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class YA{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Jk(t)}matchesElement(t,e){return Zk(t,e)}containsElement(t,e){return tI(t,e)}query(t,e,n){return eI(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>nI(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(t,e,n,r,i,o=[],s){const a=o.filter(t=>t instanceof KA),c={};xI(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=kI(t,e,c));if(0==n)return new GA(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=RA(t,e),f=new KA(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class $A{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:AI(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class QA{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(XA().toString()),this._cssKeyframesDriver=new YA}validateStyleProperty(t){return Jk(t)}matchesElement(t,e){return Zk(t,e)}containsElement(t,e){return tI(t,e)}query(t,e,n){return eI(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=o.filter(t=>t instanceof $A);xI(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=RA(t,e=kI(t,e=e.map(t=>mI(t,!1)),c));return new $A(t,e,a,l)}}function XA(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let JA=(()=>{class t extends XS{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?eO(t):t;return eP(this._renderer,null,e,"register",[n]),new ZA(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.G),r.Yb(s))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();class ZA extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new tP(this._id,t,e||{},this._renderer)}}class tP{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return eP(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function eP(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const nP="@",rP="@.disabled";let iP=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new oP("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const o=e=>{Array.isArray(e)?e.forEach(o):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(o),new sP(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.G),r.Yb(DA),r.Yb(r.A))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();class oP{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==nP&&e==rP?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class sP extends oP{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==nP?"."==e.charAt(1)&&e==rP?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==nP){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=nP&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let aP=(()=>{class t extends DA{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(s),r.Yb(iI),r.Yb(tA))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const cP=new r.r("AnimationModuleType"),uP=[{provide:iI,useFactory:function(){return"function"==typeof XA()?new QA:new YA}},{provide:cP,useValue:"BrowserAnimations"},{provide:XS,useClass:JA},{provide:tA,useFactory:function(){return new eA}},{provide:DA,useClass:aP},{provide:r.G,useFactory:function(t,e,n){return new iP(t,e,n)},deps:[Yt,DA,r.A]}];let lP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:uP,imports:[ue]}),t})();function hP(t,e){if(1&t&&r.Qb(0,"mat-pseudo-checkbox",4),2&t){const t=r.fc();r.lc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function dP(t,e){if(1&t&&(r.Ub(0,"span",5),r.Ec(1),r.Tb()),2&t){const t=r.fc();r.Db(1),r.Gc("(",t.group.label,")")}}const fP=["*"],pP=new r.Q("11.2.13"),mP=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let gP,vP=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&pP.full!==Lk.full&&console.warn("The Angular Material version ("+pP.full+") does not match the Angular CDK version ("+Lk.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Mk),r.Yb(mP,8),r.Yb(s))},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[ox],ox]}),t})();function bP(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=DO(t)}}}function yP(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function _P(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=DO(t)}}}function wP(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?RO(t):this.defaultTabIndex}}}function CP(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new Je.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}function TP(t){return class extends t{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new he.a(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}try{gP="undefined"!=typeof Intl}catch(hK){gP=!1}let EP=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),SP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),t})();function OP(t,e,n){const r=t.nativeElement.classList;n?r.add(e):r.remove(e)}let xP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[vP],vP]}),t})();class kP{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const IP={enterDuration:450,exitDuration:400},AP=tx({passive:!0}),PP=["mousedown","touchstart"],DP=["mouseup","mouseleave","touchend","touchcancel"];class RP{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=jO(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},IP),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=s-o+"px",u.style.top=a-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new kP(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},IP),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=jO(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(PP))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(DP),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Ok(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!xk(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,AP)})})}_removeTriggerEvents(){this._triggerElement&&(PP.forEach(t=>{this._triggerElement.removeEventListener(t,this,AP)}),this._pointerUpEventsRegistered&&DP.forEach(t=>{this._triggerElement.removeEventListener(t,this,AP)}))}}const NP=new r.r("mat-ripple-global-options");let MP=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new RP(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.A),r.Pb(GO),r.Pb(NP,8),r.Pb(cP,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Hb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),jP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[vP,YO],vP]}),t})(),LP=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(cP,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.Hb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),FP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[vP]]}),t})();const UP=new r.r("MAT_OPTION_PARENT_COMPONENT");class VP{}const BP=bP(VP);let qP=0,zP=(()=>{class t extends BP{constructor(t){var e;super(),this._labelId="mat-optgroup-label-"+qP++,this._inert=null!==(e=null==t?void 0:t.inertGroups)&&void 0!==e&&e}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(UP,8))},t.\u0275dir=r.Kb({type:t,inputs:{label:"label"},features:[r.Ab]}),t})();const HP=new r.r("MatOptgroup");let WP=0;class KP{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let GP=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+WP++,this.onSelectionChange=new r.n,this._stateChanges=new Je.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=DO(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||px(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new KP(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.h),r.Pb(void 0),r.Pb(zP))},t.\u0275dir=r.Kb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),YP=(()=>{class t extends GP{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.h),r.Pb(UP,8),r.Pb(HP,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.bc("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(r.Xb("id",e.id),r.Eb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.Hb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[r.Ab],ngContentSelectors:fP,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(r.kc(),r.Cc(0,hP,1,2,"mat-pseudo-checkbox",0),r.Ub(1,"span",1),r.jc(2),r.Tb(),r.Cc(3,dP,2,1,"span",2),r.Qb(4,"div",3)),2&t&&(r.lc("ngIf",e.multiple),r.Db(3),r.lc("ngIf",e.group&&e.group._inert),r.Db(1),r.lc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[lt,MP,LP],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function $P(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),o=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[o]&&o++;return o}return 0}function QP(t,e,n,r){return t<n?t:t+e>n+r?Math.max(0,t-r+e):n}let XP=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[jP,Ot,vP,FP]]}),t})();const JP=["mat-button",""],ZP=["*"],tD=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class eD{constructor(t){this._elementRef=t}}const nD=yP(bP(_P(eD)));let rD=(()=>{class t extends nD{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of tD)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(Ak),r.Pb(cP,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Ic(MP,1),2&t){let t;r.sc(t=r.cc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Eb("disabled",e.disabled||null),r.Hb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.Ab],attrs:JP,ngContentSelectors:ZP,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.kc(),r.Ub(0,"span",0),r.jc(1),r.Tb(),r.Qb(2,"span",1),r.Qb(3,"span",2)),2&t&&(r.Db(2),r.Hb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.lc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[MP],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),iD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[jP,vP],vP]}),t})();const oD=["underline"],sD=["connectionContainer"],aD=["inputContainer"],cD=["label"];function uD(t,e){1&t&&(r.Sb(0),r.Ub(1,"div",14),r.Qb(2,"div",15),r.Qb(3,"div",16),r.Qb(4,"div",17),r.Tb(),r.Ub(5,"div",18),r.Qb(6,"div",15),r.Qb(7,"div",16),r.Qb(8,"div",17),r.Tb(),r.Rb())}function lD(t,e){1&t&&(r.Ub(0,"div",19),r.jc(1,1),r.Tb())}function hD(t,e){if(1&t&&(r.Sb(0),r.jc(1,2),r.Ub(2,"span"),r.Ec(3),r.Tb(),r.Rb()),2&t){const t=r.fc(2);r.Db(3),r.Fc(t._control.placeholder)}}function dD(t,e){1&t&&r.jc(0,3,["*ngSwitchCase","true"])}function fD(t,e){1&t&&(r.Ub(0,"span",23),r.Ec(1," *"),r.Tb())}function pD(t,e){if(1&t){const t=r.Vb();r.Ub(0,"label",20,21),r.bc("cdkObserveContent",function(){return r.wc(t),r.fc().updateOutlineGap()}),r.Cc(2,hD,4,1,"ng-container",12),r.Cc(3,dD,1,0,"ng-content",12),r.Cc(4,fD,2,0,"span",22),r.Tb()}if(2&t){const t=r.fc();r.Hb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.lc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Eb("for",t._control.id)("aria-owns",t._control.id),r.Db(2),r.lc("ngSwitchCase",!1),r.Db(1),r.lc("ngSwitchCase",!0),r.Db(1),r.lc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function mD(t,e){1&t&&(r.Ub(0,"div",24),r.jc(1,4),r.Tb())}function gD(t,e){if(1&t&&(r.Ub(0,"div",25,26),r.Qb(2,"span",27),r.Tb()),2&t){const t=r.fc();r.Db(2),r.Hb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function vD(t,e){if(1&t&&(r.Ub(0,"div"),r.jc(1,5),r.Tb()),2&t){const t=r.fc();r.lc("@transitionMessages",t._subscriptAnimationState)}}function bD(t,e){if(1&t&&(r.Ub(0,"div",31),r.Ec(1),r.Tb()),2&t){const t=r.fc(2);r.lc("id",t._hintLabelId),r.Db(1),r.Fc(t.hintLabel)}}function yD(t,e){if(1&t&&(r.Ub(0,"div",28),r.Cc(1,bD,2,2,"div",29),r.jc(2,6),r.Qb(3,"div",30),r.jc(4,7),r.Tb()),2&t){const t=r.fc();r.lc("@transitionMessages",t._subscriptAnimationState),r.Db(1),r.lc("ngIf",t.hintLabel)}}const _D=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],wD=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],CD=new r.r("MatError"),TD={transitionMessages:ZS("transitionMessages",[rO("enter",nO({opacity:1,transform:"translateY(0%)"})),oO("void => enter",[nO({opacity:0,transform:"translateY(-5px)"}),tO("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ED=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t}),t})();const SD=new r.r("MatHint");let OD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["mat-label"]]}),t})(),xD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["mat-placeholder"]]}),t})();const kD=new r.r("MatPrefix"),ID=new r.r("MatSuffix");let AD=0;class PD{constructor(t){this._elementRef=t}}const DD=yP(PD,"primary"),RD=new r.r("MAT_FORM_FIELD_DEFAULT_OPTIONS"),ND=new r.r("MatFormField");let MD=(()=>{class t extends DD{constructor(t,e,n,r,i,o,s,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=o,this._ngZone=s,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Je.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+AD++,this._labelId="mat-form-field-label-"+AD++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=DO(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(xn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(YS(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(YS(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(pS.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(xn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(xn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(YS(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,FO(this._label.nativeElement,"transitionend").pipe(En(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),o=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const o=this._getStartEnd(i),s=t.children,a=this._getStartEnd(s[0].getBoundingClientRect());let c=0;for(let t=0;t<s.length;t++)c+=s[t].offsetWidth;e=Math.abs(a-o)-5,n=c>0?.75*c+10:0}for(let s=0;s<i.length;s++)i[s].style.width=`${e}px`;for(let s=0;s<o.length;s++)o[s].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.h),r.Pb(r.l),r.Pb(ix,8),r.Pb(RD,8),r.Pb(GO),r.Pb(r.A),r.Pb(cP,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Ib(n,ED,1),r.Ib(n,ED,3),r.Ib(n,OD,1),r.Ib(n,OD,3),r.Ib(n,xD,1),r.Ib(n,CD,1),r.Ib(n,SD,1),r.Ib(n,kD,1),r.Ib(n,ID,1)),2&t){let t;r.sc(t=r.cc())&&(e._controlNonStatic=t.first),r.sc(t=r.cc())&&(e._controlStatic=t.first),r.sc(t=r.cc())&&(e._labelChildNonStatic=t.first),r.sc(t=r.cc())&&(e._labelChildStatic=t.first),r.sc(t=r.cc())&&(e._placeholderChild=t.first),r.sc(t=r.cc())&&(e._errorChildren=t),r.sc(t=r.cc())&&(e._hintChildren=t),r.sc(t=r.cc())&&(e._prefixChildren=t),r.sc(t=r.cc())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.Ic(oD,1),r.Ic(sD,3),r.Ic(aD,1),r.Ic(cD,1)),2&t){let t;r.sc(t=r.cc())&&(e.underlineRef=t.first),r.sc(t=r.cc())&&(e._connectionContainerRef=t.first),r.sc(t=r.cc())&&(e._inputContainerRef=t.first),r.sc(t=r.cc())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&r.Hb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Cb([{provide:ND,useExisting:t}]),r.Ab],ngContentSelectors:wD,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.kc(_D),r.Ub(0,"div",0),r.Ub(1,"div",1,2),r.bc("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.Cc(3,uD,9,0,"ng-container",3),r.Cc(4,lD,2,0,"div",4),r.Ub(5,"div",5,6),r.jc(7),r.Ub(8,"span",7),r.Cc(9,pD,5,16,"label",8),r.Tb(),r.Tb(),r.Cc(10,mD,2,0,"div",9),r.Tb(),r.Cc(11,gD,3,4,"div",10),r.Ub(12,"div",11),r.Cc(13,vD,2,1,"div",12),r.Cc(14,yD,5,2,"div",13),r.Tb(),r.Tb()),2&t&&(r.Db(3),r.lc("ngIf","outline"==e.appearance),r.Db(1),r.lc("ngIf",e._prefixChildren.length),r.Db(5),r.lc("ngIf",e._hasFloatingLabel()),r.Db(1),r.lc("ngIf",e._suffixChildren.length),r.Db(1),r.lc("ngIf","outline"!=e.appearance),r.Db(1),r.lc("ngSwitch",e._getDisplayedMessages()),r.Db(1),r.lc("ngSwitchCase","error"),r.Db(1),r.lc("ngSwitchCase","hint"))},directives:[lt,pt,mt,uk],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[TD.transitionMessages]},changeDetection:0}),t})(),jD=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Ot,vP,lk],vP]}),t})();var LD=n("XoHu");function FD(...t){if(1===t.length){const e=t[0];if(Object(nn.a)(e))return UD(e,null);if(Object(LD.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return UD(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return UD(t=1===t.length&&Object(nn.a)(t[0])?t[0]:t,null).pipe(Object(be.a)(t=>e(...t)))}return UD(t,null)}function UD(t,e){return new he.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=Object(Xe.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const VD=new r.r("NgValueAccessor"),BD={provide:VD,useExisting:Object(r.V)(()=>zD),multi:!0},qD=new r.r("CompositionEventMode");let zD=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.F),r.Pb(r.l),r.Pb(qD,8))},t.\u0275dir=r.Kb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.bc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Cb([BD])]}),t})();const HD=new r.r("NgValidators"),WD=new r.r("NgAsyncValidators");function KD(t){return null!=t}function GD(t){const e=Object(r.ub)(t)?Object(Xe.a)(t):t;return Object(r.tb)(e),e}function YD(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function $D(t,e){return e.map(e=>e(t))}function QD(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function XD(t){return null!=t?function(t){if(!t)return null;const e=t.filter(KD);return 0==e.length?null:function(t){return YD($D(t,e))}}(QD(t)):null}function JD(t){return null!=t?function(t){if(!t)return null;const e=t.filter(KD);return 0==e.length?null:function(t){return FD($D(t,e).map(GD)).pipe(Object(be.a)(YD))}}(QD(t)):null}function ZD(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function tR(t){return t._rawValidators}function eR(t){return t._rawAsyncValidators}let nR=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=XD(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=JD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t}),t})(),rR=(()=>{class t extends nR{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return iR(e||t)},t.\u0275dir=r.Kb({type:t,features:[r.Ab]}),t})();const iR=r.Wb(rR);class oR extends nR{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sR{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let aR=(()=>{class t extends sR{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(oR,2))},t.\u0275dir=r.Kb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Hb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Ab]}),t})(),cR=(()=>{class t extends sR{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(rR,10))},t.\u0275dir=r.Kb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Hb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Ab]}),t})();function uR(t,e){dR(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&pR(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&pR(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function lR(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),fR(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function hR(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function dR(t,e,n){const r=tR(t);null!==e.validator?t.setValidators(ZD(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=eR(t);if(null!==e.asyncValidator?t.setAsyncValidators(ZD(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();hR(e._rawValidators,n),hR(e._rawAsyncValidators,n)}}function fR(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=tR(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=eR(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};hR(e._rawValidators,t),hR(e._rawAsyncValidators,t)}return r}function pR(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function mR(t,e){dR(t,e,!1)}function gR(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function vR(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function bR(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===zD?n=t:Object.getPrototypeOf(t.constructor)===class{}?r=t:i=t}),i||r||n||null}function yR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _R="VALID",wR="INVALID",CR="PENDING",TR="DISABLED";function ER(t){return(kR(t)?t.validators:t)||null}function SR(t){return Array.isArray(t)?XD(t):t||null}function OR(t,e){return(kR(e)?e.asyncValidators:t)||null}function xR(t){return Array.isArray(t)?JD(t):t||null}function kR(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class IR{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=SR(this._rawValidators),this._composedAsyncValidatorFn=xR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===_R}get invalid(){return this.status===wR}get pending(){return this.status==CR}get disabled(){return this.status===TR}get enabled(){return this.status!==TR}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=SR(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=xR(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=CR,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=TR,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=_R,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==_R&&this.status!==CR||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?TR:_R}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=CR,this._hasOwnPendingAsyncValidator=!0;const e=GD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof PR?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof DR&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?TR:this.errors?wR:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(CR)?CR:this._anyControlsHaveStatus(wR)?wR:_R}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){kR(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class AR extends IR{constructor(t=null,e,n){super(ER(e),OR(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){yR(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){yR(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class PR extends IR{constructor(t,e,n){super(ER(e),OR(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof AR?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class DR extends IR{constructor(t,e,n){super(ER(e),OR(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof AR?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const RR={provide:rR,useExisting:Object(r.V)(()=>MR)},NR=(()=>Promise.resolve(null))();let MR=(()=>{class t extends rR{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new PR({},XD(t),JD(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){NR.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),uR(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){NR.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),yR(this._directives,t)})}addFormGroup(t){NR.then(()=>{const e=this._findContainer(t.path),n=new PR({});mR(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){NR.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){NR.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,vR(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(HD,10),r.Pb(WD,10))},t.\u0275dir=r.Kb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Cb([RR]),r.Ab]}),t})();const jR={provide:oR,useExisting:Object(r.V)(()=>FR)},LR=(()=>Promise.resolve(null))();let FR=(()=>{class t extends oR{constructor(t,e,n,i){super(),this.control=new AR,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=bR(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),gR(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){uR(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){LR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;LR.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(rR,9),r.Pb(HD,10),r.Pb(WD,10),r.Pb(VD,10))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Cb([jR]),r.Ab,r.Bb]}),t})(),UR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),VR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();const BR=new r.r("NgModelWithFormControlWarning"),qR={provide:oR,useExisting:Object(r.V)(()=>zR)};let zR=(()=>{class t extends oR{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.n,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=bR(0,n)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const e=t.form.previousValue;e&&lR(e,this,!1),uR(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}gR(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&lR(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(HD,10),r.Pb(WD,10),r.Pb(VD,10),r.Pb(BR,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.Cb([qR]),r.Ab,r.Bb]}),t._ngModelWarningSentOnce=!1,t})();const HR={provide:rR,useExisting:Object(r.V)(()=>WR)};let WR=(()=>{class t extends rR{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fR(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return uR(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){lR(t.control||null,t,!1),yR(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,vR(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(lR(e||null,t),n instanceof AR&&(uR(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);mR(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return fR(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){dR(this.form,this,!1),this._oldForm&&fR(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(HD,10),r.Pb(WD,10))},t.\u0275dir=r.Kb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.bc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Cb([HR]),r.Ab,r.Bb]}),t})();const KR={provide:HD,useExisting:Object(r.V)(()=>GR),multi:!0};let GR=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(t){return null==(e=t.value)||0===e.length?{required:!0}:null;var e}(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Eb("required",e.required?"":null)},inputs:{required:"required"},features:[r.Cb([KR])]}),t})(),YR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[VR]]}),t})(),$R=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[YR]}),t})(),QR=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:BR,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[YR]}),t})(),XR=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new PR(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new AR(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new DR(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof AR||t instanceof PR||t instanceof DR?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:QR}),t})();const JR=["trigger"],ZR=["panel"];function tN(t,e){if(1&t&&(r.Ub(0,"span",8),r.Ec(1),r.Tb()),2&t){const t=r.fc();r.Db(1),r.Fc(t.placeholder)}}function eN(t,e){if(1&t&&(r.Ub(0,"span",12),r.Ec(1),r.Tb()),2&t){const t=r.fc(2);r.Db(1),r.Fc(t.triggerValue)}}function nN(t,e){1&t&&r.jc(0,0,["*ngSwitchCase","true"])}function rN(t,e){if(1&t&&(r.Ub(0,"span",9),r.Cc(1,eN,2,1,"span",10),r.Cc(2,nN,1,0,"ng-content",11),r.Tb()),2&t){const t=r.fc();r.lc("ngSwitch",!!t.customTrigger),r.Db(2),r.lc("ngSwitchCase",!0)}}function iN(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",13),r.Ub(1,"div",14,15),r.bc("@transformPanel.done",function(e){return r.wc(t),r.fc()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return r.wc(t),r.fc()._handleKeydown(e)}),r.jc(3,1),r.Tb(),r.Tb()}if(2&t){const t=r.fc();r.lc("@transformPanelWrap",void 0),r.Db(1),r.Gb("mat-select-panel ",t._getPanelTheme(),""),r.Bc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),r.lc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),r.Eb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const oN=[[["mat-select-trigger"]],"*"],sN=["mat-select-trigger","*"],aN={transformPanelWrap:ZS("transformPanelWrap",[oO("* => void",uO("@transformPanel",[aO()],{optional:!0}))]),transformPanel:ZS("transformPanel",[rO("void",nO({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),rO("showing",nO({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),rO("showing-multiple",nO({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),oO("void => *",tO("120ms cubic-bezier(0, 0, 0.2, 1)")),oO("* => void",tO("100ms 25ms linear",nO({opacity:0})))])};let cN=0;const uN=256,lN=new r.r("mat-select-scroll-strategy"),hN=new r.r("MAT_SELECT_CONFIG"),dN={provide:lN,deps:[zx],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class fN{constructor(t,e){this.source=t,this.value=e}}class pN{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const mN=_P(wP(bP(CP(pN)))),gN=new r.r("MatSelectTrigger");let vN=(()=>{class t extends mN{constructor(t,e,n,i,o,s,a,c,u,l,h,d,f,p){var m,g,v;super(o,i,a,c,l),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=u,this.ngControl=l,this._liveAnnouncer=f,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+cN++,this._triggerAriaLabelledBy=null,this._destroy=new Je.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+cN++,this._panelDoneAnimatingStream=new Je.a,this._overlayPanelClass=(null===(m=this._defaultOptions)||void 0===m?void 0:m.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(v=null===(g=this._defaultOptions)||void 0===g?void 0:g.disableOptionCentering)&&void 0!==v&&v,this.ariaLabel="",this.optionSelectionChanges=vn(()=>{const t=this.options;return t?t.changes.pipe(xn(t),_n(()=>Object(pS.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(En(1),_n(()=>this.optionSelectionChanges))}),this.openedChange=new r.n,this._openedStream=this.openedChange.pipe(me(t=>t),Object(be.a)(()=>{})),this._closedStream=this.openedChange.pipe(me(t=>!t),Object(be.a)(()=>{})),this.selectionChange=new r.n,this.valueChange=new r.n,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=DO(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=DO(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=DO(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=RO(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new sx(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(cS(),YS(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(YS(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(xn(null),YS(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||e===fx||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!px(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;i.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=40===n||n===fx,i=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||px(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(En(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new wk(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(YS(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(YS(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(pS.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(YS(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(pS.a)(...this.options.map(t=>t._stateChanges)).pipe(YS(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(cx),r.Pb(r.h),r.Pb(r.A),r.Pb(EP),r.Pb(r.l),r.Pb(ix,8),r.Pb(MR,8),r.Pb(WR,8),r.Pb(ND,8),r.Pb(oR,10),r.Zb("tabindex"),r.Pb(lN),r.Pb(Sk),r.Pb(hN,8))},t.\u0275dir=r.Kb({type:t,viewQuery:function(t,e){if(1&t&&(r.Ic(JR,1),r.Ic(ZR,1),r.Ic(Gx,1)),2&t){let t;r.sc(t=r.cc())&&(e.trigger=t.first),r.sc(t=r.cc())&&(e.panel=t.first),r.sc(t=r.cc())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[r.Ab,r.Bb]}),t})(),bN=(()=>{class t extends vN{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(YS(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(En(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=$P(t,this.options,this.optionGroups),n=this._getItemHeight();this.panel.nativeElement.scrollTop=QP((t+e)*n,n,this.panel.nativeElement.scrollTop,uN)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new fN(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else if(this.disableOptionCentering)i=16;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const o=0-(t.left+i-(n?r:0)),s=t.right+i-e.width+(n?0:r);o>0?i+=o+8:s>0&&(i-=s+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,o=Math.floor(uN/r);let s;return this.disableOptionCentering?0:(s=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-o))*r+(r-(this._getItemCount()*r-uN)%r):e-r/2,Math.round(-1*s-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,uN)-o-this._triggerRect.height;s>i?this._adjustPanelUp(s,i):o>r?this._adjustPanelDown(o,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,uN),r=e*t-n;let i;i=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),i+=$P(i,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(i,o,r),this._offsetY=this._calculateOverlayOffsetY(i,o,r),this._checkOverlayWithinViewport(r)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return yN(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(r.Ib(n,gN,1),r.Ib(n,YP,1),r.Ib(n,HP,1)),2&t){let t;r.sc(t=r.cc())&&(e.customTrigger=t.first),r.sc(t=r.cc())&&(e.options=t),r.sc(t=r.cc())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&r.bc("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(r.Eb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.Hb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[r.Cb([{provide:ED,useExisting:t},{provide:UP,useExisting:t}]),r.Ab],ngContentSelectors:sN,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.kc(oN),r.Ub(0,"div",0,1),r.bc("click",function(){return e.toggle()}),r.Ub(3,"div",2),r.Cc(4,tN,2,1,"span",3),r.Cc(5,rN,3,2,"span",4),r.Tb(),r.Ub(6,"div",5),r.Qb(7,"div",6),r.Tb(),r.Tb(),r.Cc(8,iN,4,14,"ng-template",7),r.bc("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=r.tc(1);r.Eb("aria-owns",e.panelOpen?e.id+"-panel":null),r.Db(3),r.lc("ngSwitch",e.empty),r.Eb("id",e._valueId),r.Db(1),r.lc("ngSwitchCase",!0),r.Db(1),r.lc("ngSwitchCase",!1),r.Db(3),r.lc("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[Kx,pt,mt,Gx,gt,st],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[aN.transformPanelWrap,aN.transformPanel]},changeDetection:0}),t})();const yN=r.Wb(bN);let _N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[dN],imports:[[Ot,$x,XP,vP],ux,jD,XP,vP]}),t})();class wN{constructor(t){this.total=t}call(t,e){return e.subscribe(new CN(t,this.total))}}class CN extends pe.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const TN=new Set;let EN,SN=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):ON}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!TN.has(t))try{EN||(EN=document.createElement("style"),EN.setAttribute("type","text/css"),document.head.appendChild(EN)),EN.sheet&&(EN.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),TN.add(t))}catch(l_){console.error(l_)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(GO))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(GO))},token:t,providedIn:"root"}),t})();function ON(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let xN=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new Je.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return kN(NO(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=ln(kN(NO(t)).map(t=>this._registerQuery(t).observable));return e=mn(e.pipe(En(1)),e.pipe(t=>t.lift(new wN(1)),rk(0))),e.pipe(Object(be.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new he.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(xn(e),Object(be.a)(({matches:e})=>({query:t,matches:e})),YS(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(SN),r.Yb(r.A))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(SN),Object(r.Yb)(r.A))},token:t,providedIn:"root"}),t})();function kN(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const IN={tooltipState:ZS("state",[rO("initial, void, hidden",nO({opacity:0,transform:"scale(0)"})),rO("visible",nO({transform:"scale(1)"})),oO("* => visible",tO("200ms cubic-bezier(0, 0, 0.2, 1)",iO([nO({opacity:0,transform:"scale(0)",offset:0}),nO({opacity:.5,transform:"scale(0.99)",offset:.5}),nO({opacity:1,transform:"scale(1)",offset:1})]))),oO("* => hidden",tO("100ms cubic-bezier(0, 0, 0.2, 1)",nO({opacity:0})))])},AN=tx({passive:!0}),PN=new r.r("mat-tooltip-scroll-strategy"),DN={provide:PN,deps:[zx],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},RN=new r.r("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let NN=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c,u,l,h){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=r,this._ngZone=i,this._platform=o,this._ariaDescriber=s,this._focusMonitor=a,this._dir=u,this._defaultOptions=l,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Je.a,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!px(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=c,l&&(l.position&&(this.position=l.position),l.touchGestures&&(this.touchGestures=l.touchGestures)),i.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=DO(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(YS(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([e,n])=>{t.removeEventListener(e,n,AN)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new SO(MN,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(YS(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(YS(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(YS(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e||"below"==e?n={originX:"center",originY:"above"==e?"top":"bottom"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={originX:"start",originY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={originX:"end",originY:"center"});const{x:r,y:i}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:r,originY:i}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e?n={overlayX:"center",overlayY:"bottom"}:"below"==e?n={overlayX:"center",overlayY:"top"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={overlayX:"end",overlayY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={overlayX:"start",overlayY:"center"});const{x:r,y:i}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:r,overlayY:i}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(En(1),YS(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",t=>this._wheelListener(t)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const e=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([t,e])=>{this._elementRef.nativeElement.addEventListener(t,e,AN)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const e=(this._document||document).elementFromPoint(t.clientX,t.clientY),n=this._elementRef.nativeElement;e===n||n.contains(e)||this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const e=this._elementRef.nativeElement,n=e.style;("on"===t||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==t&&e.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(zx),r.Pb(r.l),r.Pb(ax),r.Pb(r.R),r.Pb(r.A),r.Pb(GO),r.Pb(vk),r.Pb(Ak),r.Pb(PN),r.Pb(ix,8),r.Pb(RN,8),r.Pb(s))},t.\u0275dir=r.Kb({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),MN=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Je.a,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.h),r.Pb(xN))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&r.bc("click",function(){return e._handleBodyInteraction()},!1,r.uc)("auxclick",function(){return e._handleBodyInteraction()},!1,r.uc),2&t&&r.Bc("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(r.Ub(0,"div",0),r.bc("@state.start",function(){return e._animationStart()})("@state.done",function(t){return e._animationDone(t)}),r.gc(1,"async"),r.Ec(2),r.Tb()),2&t){let t=null;r.Hb("mat-tooltip-handset",null==(t=r.hc(1,5,e._isHandset))?null:t.matches),r.lc("ngClass",e.tooltipClass)("@state",e._visibility),r.Db(2),r.Fc(e.message)}},directives:[st],pipes:[Tt],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[IN.tooltipState]},changeDetection:0}),t})(),jN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[DN],imports:[[jk,Ot,$x,vP],vP,ux]}),t})();function LN(t,e){if(1&t&&(r.Ub(0,"mat-option",19),r.Ec(1),r.Tb()),2&t){const t=e.$implicit;r.lc("value",t),r.Db(1),r.Gc(" ",t," ")}}function FN(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-form-field",16),r.Ub(1,"mat-select",17),r.bc("selectionChange",function(e){return r.wc(t),r.fc(2)._changePageSize(e.value)}),r.Cc(2,LN,2,2,"mat-option",18),r.Tb(),r.Tb()}if(2&t){const t=r.fc(2);r.lc("appearance",t._formFieldAppearance)("color",t.color),r.Db(1),r.lc("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),r.Db(1),r.lc("ngForOf",t._displayedPageSizeOptions)}}function UN(t,e){if(1&t&&(r.Ub(0,"div",20),r.Ec(1),r.Tb()),2&t){const t=r.fc(2);r.Db(1),r.Fc(t.pageSize)}}function VN(t,e){if(1&t&&(r.Ub(0,"div",12),r.Ub(1,"div",13),r.Ec(2),r.Tb(),r.Cc(3,FN,3,6,"mat-form-field",14),r.Cc(4,UN,2,1,"div",15),r.Tb()),2&t){const t=r.fc();r.Db(2),r.Gc(" ",t._intl.itemsPerPageLabel," "),r.Db(1),r.lc("ngIf",t._displayedPageSizeOptions.length>1),r.Db(1),r.lc("ngIf",t._displayedPageSizeOptions.length<=1)}}function BN(t,e){if(1&t){const t=r.Vb();r.Ub(0,"button",21),r.bc("click",function(){return r.wc(t),r.fc().firstPage()}),r.ec(),r.Ub(1,"svg",7),r.Qb(2,"path",22),r.Tb(),r.Tb()}if(2&t){const t=r.fc();r.lc("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),r.Eb("aria-label",t._intl.firstPageLabel)}}function qN(t,e){if(1&t){const t=r.Vb();r.ec(),r.dc(),r.Ub(0,"button",23),r.bc("click",function(){return r.wc(t),r.fc().lastPage()}),r.ec(),r.Ub(1,"svg",7),r.Qb(2,"path",24),r.Tb(),r.Tb()}if(2&t){const t=r.fc();r.lc("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),r.Eb("aria-label",t._intl.lastPageLabel)}}let zN=(()=>{class t{constructor(){this.changes=new Je.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return`0 of ${n}`;const r=t*e;return`${r+1} \u2013 ${r<(n=Math.max(n,0))?Math.min(r+e,n):r+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const HN={provide:zN,deps:[[new r.B,new r.K,zN]],useFactory:function(t){return t||new zN}},WN=new r.r("MAT_PAGINATOR_DEFAULT_OPTIONS");class KN{}const GN=bP(TP(KN));let YN=(()=>{class t extends GN{constructor(t,e,n){if(super(),this._intl=t,this._changeDetectorRef=e,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new r.n,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){const{pageSize:t,pageSizeOptions:e,hidePageSize:r,showFirstLastButtons:i}=n;null!=t&&(this._pageSize=t),null!=e&&(this._pageSizeOptions=e),null!=r&&(this._hidePageSize=r),null!=i&&(this._showFirstLastButtons=i)}}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(RO(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=RO(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(RO(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(t=>RO(t)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=DO(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=DO(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex++,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex--,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const e=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(e)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,e)=>t-e),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(zN),r.Pb(r.h),r.Pb(void 0))},t.\u0275dir=r.Kb({type:t,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[r.Ab]}),t})(),$N=(()=>{class t extends YN{constructor(t,e,n){super(t,e,n),n&&null!=n.formFieldAppearance&&(this._formFieldAppearance=n.formFieldAppearance)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(zN),r.Pb(r.h),r.Pb(WN,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[r.Ab],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Cc(2,VN,5,3,"div",2),r.Ub(3,"div",3),r.Ub(4,"div",4),r.Ec(5),r.Tb(),r.Cc(6,BN,3,5,"button",5),r.Ub(7,"button",6),r.bc("click",function(){return e.previousPage()}),r.ec(),r.Ub(8,"svg",7),r.Qb(9,"path",8),r.Tb(),r.Tb(),r.dc(),r.Ub(10,"button",9),r.bc("click",function(){return e.nextPage()}),r.ec(),r.Ub(11,"svg",7),r.Qb(12,"path",10),r.Tb(),r.Tb(),r.Cc(13,qN,3,5,"button",11),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(2),r.lc("ngIf",!e.hidePageSize),r.Db(3),r.Gc(" ",e._intl.getRangeLabel(e.pageIndex,e.pageSize,e.length)," "),r.Db(1),r.lc("ngIf",e.showFirstLastButtons),r.Db(1),r.lc("matTooltip",e._intl.previousPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),r.Eb("aria-label",e._intl.previousPageLabel),r.Db(3),r.lc("matTooltip",e._intl.nextPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),r.Eb("aria-label",e._intl.nextPageLabel),r.Db(3),r.lc("ngIf",e.showFirstLastButtons))},directives:[lt,rD,NN,MD,bN,ct,YP],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),t})(),QN=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[HN],imports:[[Ot,iD,_N,jN,vP]]}),t})(),XN=(()=>{class t{constructor(t,e){this.client=t,this.auth=e}postReview(t){this.client.post(vO.POST_REVIEW,t,{observe:"response"}).pipe(Pn(t=>(console.log(t),401===t.status&&this.auth.SignOut(),gn.a))).subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Me),r.Yb(KS))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),JN=(()=>{class t{constructor(t,e){this.client=t,this.auth=e}getUser$(){return this.client.get(vO.GET_ACCOUNT).pipe(Pn(t=>(401===t.status&&this.auth.SignOut(),console.log(t),gn.a)))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Me),r.Yb(KS))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),ZN=(()=>{class t{constructor(){this.panelToggled=new r.n,this.arrowUp=gO.ARROW_UP,this.arrowDown=gO.ARROW_DOWN}ngOnInit(){}showArrow(){return this.startsEnabled?this.arrowUp:this.arrowDown}toggleActorsPanel(){this.startsEnabled=!this.startsEnabled,this.panelToggled.emit(!0)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-expandable-panel-header"]],inputs:{panelName:"panelName",startsEnabled:"startsEnabled"},outputs:{panelToggled:"panelToggled"},decls:5,vars:2,consts:[[1,"card-header",3,"click"],[1,"card-header-title","is-size-3"],[1,"card-header-icon"],[1,"icon",3,"src"]],template:function(t,e){1&t&&(r.Ub(0,"header",0),r.bc("click",function(){return e.toggleActorsPanel()}),r.Ub(1,"p",1),r.Ec(2),r.Tb(),r.Ub(3,"div",2),r.Qb(4,"img",3),r.Tb(),r.Tb()),2&t&&(r.Db(2),r.Fc(e.panelName),r.Db(2),r.mc("src",e.showArrow(),r.zc))},styles:[".card-header[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:1rem}.card-header[_ngcontent-%COMP%]:hover{background-color:#d3d3d3}"]}),t})();const tM=["ngxCheckbox"];function eM(t,e){if(1&t){const t=r.Vb();r.Ub(0,"input",3,4),r.bc("click",function(){r.wc(t);const n=e.$implicit;return r.fc().rate(n)}),r.Tb(),r.Qb(2,"label",5)}if(2&t){const t=e.$implicit,n=r.fc();r.Gb("star star-",t,""),r.nc("id","star-",t,"-",n.id,""),r.lc("checked",n.value==t),r.Db(2),r.Gb("star star-",t,""),r.nc("for","star-",t,"-",n.id,"")}}let nM=(()=>{class t{constructor(){this.value=0,this.stars=[10,9,8,7,6,5,4,3,2,1],this.id="",this.propagateChange=t=>{}}ngOnInit(){this.event.subscribe(t=>{t&&(this.rate(0),this.ngxCheckbox&&this.ngxCheckbox.forEach(t=>{t.nativeElement.checked=!1}))})}rate(t){this.propagateChange(t)}writeValue(t){this.ngxCheckbox&&null===t&&this.ngxCheckbox.forEach(t=>{t.nativeElement.checked=!1}),this.value=t}registerOnChange(t){this.propagateChange=t}registerOnTouched(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-movie-stars-rating"]],viewQuery:function(t,e){if(1&t&&r.Ic(tM,1),2&t){let t;r.sc(t=r.cc())&&(e.ngxCheckbox=t)}},inputs:{id:"id",event:"event"},features:[r.Cb([{provide:VD,useExisting:Object(r.V)(()=>t),multi:!0}])],decls:3,vars:1,consts:[["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"],["action",""],["ngFor","",3,"ngForOf"],["type","radio","name","star",3,"id","checked","click"],["ngxCheckbox",""],[3,"for"]],template:function(t,e){1&t&&(r.Qb(0,"link",0),r.Ub(1,"form",1),r.Cc(2,eM,3,11,"ng-template",2),r.Tb()),2&t&&(r.Db(2),r.lc("ngForOf",e.stars))},directives:[UR,cR,MR,ct],styles:['@charset "UTF-8";*[_ngcontent-%COMP%]{margin:0;padding:0;font-family:roboto}body[_ngcontent-%COMP%]{background:#000}.cont[_ngcontent-%COMP%]{width:93%;max-width:350px;text-align:center;margin:4% auto;padding:30px 0;background:#111;color:#eee;border-radius:5px;border:thin solid #444;overflow:hidden}hr[_ngcontent-%COMP%]{margin:20px;border:none;border-bottom:thin solid hsla(0,0%,100%,.1)}div.title[_ngcontent-%COMP%]{font-size:2em}h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:300;color:#fd4}div.stars[_ngcontent-%COMP%]{width:270px;display:inline-block}input.star[_ngcontent-%COMP%]{display:none}label.star[_ngcontent-%COMP%]{float:right;padding:10px;font-size:36px;color:#444;transition:all .2s}input.star[_ngcontent-%COMP%]:checked ~ label.star[_ngcontent-%COMP%]:before{content:"\uf005";color:#fd4;transition:all .25s}input.star-10[_ngcontent-%COMP%]:checked ~ label.star[_ngcontent-%COMP%]:before{color:#fe7;text-shadow:0 0 20px #952}input.star-1[_ngcontent-%COMP%]:checked ~ label.star[_ngcontent-%COMP%]:before, input.star-2[_ngcontent-%COMP%]:checked ~ label.star[_ngcontent-%COMP%]:before, input.star-3[_ngcontent-%COMP%]:checked ~ label.star[_ngcontent-%COMP%]:before{color:#f62}label.star[_ngcontent-%COMP%]:hover{transform:rotate(-15deg) scale(1.3)}label.star[_ngcontent-%COMP%]:before{content:"\uf006";font-family:FontAwesome}']}),t})();function rM(t,e){1&t&&(r.Ub(0,"div",7),r.Ub(1,"strong"),r.Ec(2,"There are no reviews..."),r.Tb(),r.Tb())}function iM(t,e){if(1&t&&(r.Ub(0,"div",9),r.Ub(1,"div",10),r.Ub(2,"p"),r.Ec(3),r.Tb(),r.Tb(),r.Ub(4,"div",11),r.Ub(5,"p"),r.Ec(6),r.Tb(),r.Ub(7,"div",12),r.Ub(8,"div"),r.Ec(9," Rating: "),r.Ub(10,"small"),r.Ec(11),r.Tb(),r.Tb(),r.Ub(12,"div"),r.Ub(13,"figure",13),r.Qb(14,"img",14),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(15,"p",11),r.Ec(16),r.Tb(),r.Tb()),2&t){const t=e.$implicit,n=r.fc(2);r.Db(3),r.Fc(t.account.name),r.Db(3),r.Gc("Title: ",t.title,""),r.Db(5),r.Gc("",t.rating,"/10"),r.Db(3),r.mc("src",n.getStarURL(),r.zc),r.Db(2),r.Gc(" ",t.text," ")}}function oM(t,e){if(1&t&&(r.Ub(0,"div"),r.Cc(1,iM,17,5,"div",8),r.gc(2,"slice"),r.Tb()),2&t){const t=r.fc(),e=r.tc(7);r.Db(1),r.lc("ngForOf",r.ic(2,1,t.movie.reviews,e.pageIndex*e.pageSize,(e.pageIndex+1)*e.pageSize))}}function sM(t,e){1&t&&(r.Ub(0,"div"),r.Ec(1,"Rating is required."),r.Tb())}function aM(t,e){1&t&&(r.Ub(0,"div"),r.Ec(1,"Text should have more than 10 characters."),r.Tb())}function cM(t,e){1&t&&(r.Ub(0,"div"),r.Ec(1,"Title should have more than 3 characters."),r.Tb())}function uM(t,e){if(1&t&&(r.Ub(0,"div",25),r.Cc(1,sM,2,0,"div",1),r.Cc(2,aM,2,0,"div",1),r.Cc(3,cM,2,0,"div",1),r.Tb()),2&t){const t=r.fc(2);r.Db(1),r.lc("ngIf",t.ratingError),r.Db(1),r.lc("ngIf",t.textError),r.Db(1),r.lc("ngIf",t.titleError)}}function lM(t,e){if(1&t){const t=r.Vb();r.Ub(0,"div",15),r.Ub(1,"input",16),r.bc("ngModelChange",function(e){return r.wc(t),r.fc().reviewTitle=e}),r.Tb(),r.Ub(2,"div",17),r.Ub(3,"div",18),r.Ub(4,"app-movie-stars-rating",19),r.bc("ngModelChange",function(e){return r.wc(t),r.fc().rating=e}),r.Tb(),r.Tb(),r.Ub(5,"div",12),r.Ec(6),r.Tb(),r.Tb(),r.Ub(7,"article",9),r.Ub(8,"div",20),r.Ub(9,"textarea",21),r.bc("ngModelChange",function(e){return r.wc(t),r.fc().reviewText=e}),r.Tb(),r.Tb(),r.Cc(10,uM,4,3,"div",22),r.Ub(11,"div",23),r.Ub(12,"button",24),r.bc("click",function(){return r.wc(t),r.fc().onSubmit()}),r.Ec(13,"Submit"),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=r.fc();r.Db(1),r.lc("ngModel",t.reviewTitle),r.Db(3),r.lc("ngModel",t.rating)("event",t.newRatingEvent),r.Db(2),r.Gc("Rating: ",t.rating,""),r.Db(3),r.lc("ngModel",t.reviewText),r.Db(1),r.lc("ngIf",t.textError||t.ratingError||t.titleError)}}const hM=function(){return[1,5,10,25,100]};let dM=(()=>{class t{constructor(t,e,n){this.changeDetectorReference=t,this.reviewManager=e,this.accountProvider=n,this.pageSize=5,this.reviewText="",this.reviewTitle="",this.panelName="Leave a review",this.panelEnabled=!1,this.textError=!1,this.ratingError=!1,this.titleError=!1,this.newRatingEvent=new r.n,this.rating=0}ngOnInit(){this.length=this.movie&&this.movie.reviews?this.movie.reviews.length:0}ngAfterViewInit(){this.changeDetectorReference.detectChanges()}showReviews(){return!(!this.movie||!this.movie.reviews)&&this.movie.reviews.length>=1}disablePaginator(){return!this.showReviews()}getStarURL(){return gO.STAR}textReviewValidator(){return this.reviewText.length>10}ratingReviewValidator(){return 0!==this.rating}titleReviewValidator(){return this.reviewTitle.length>3}reviewValidator(){return this.textReviewValidator()&&this.ratingReviewValidator()&&this.titleReviewValidator()}toggleReviewPanel(){this.panelEnabled=!this.panelEnabled}onSubmit(){this.reviewValidator()?(this.textError=!1,this.ratingError=!1,this.titleError=!1,this.accountProvider.getUser$().subscribe(t=>{const e={movieId:this.movie.idString,rating:this.rating,text:this.reviewText,title:this.reviewTitle,account:{name:t.name}};this.movie.reviews.push(e),this.reviewManager.postReview(e),this.reviewTitle="",this.reviewText="",this.newRatingEvent.emit(!0)})):(this.textError=!this.textReviewValidator(),this.ratingError=!this.ratingReviewValidator(),this.titleError=!this.titleReviewValidator())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.h),r.Pb(XN),r.Pb(JN))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-movie-details-comments"]],viewQuery:function(t,e){if(1&t&&r.Ic($N,1),2&t){let t;r.sc(t=r.cc())&&(e.paginator=t.first)}},inputs:{movie:"movie"},decls:8,vars:10,consts:[["class","noComments",4,"ngIf"],[4,"ngIf"],[1,"card"],[3,"panelName","startsEnabled","panelToggled"],["class","card-content",4,"ngIf"],["showFirstLastButtons","",3,"length","disabled","pageSize","pageSizeOptions","page"],["paginator",""],[1,"noComments"],["class","media-content",4,"ngFor","ngForOf"],[1,"media-content"],[1,"message-header"],[1,"rating-container"],[1,"rating-text"],[1,"image","is-16x16"],[3,"src"],[1,"card-content"],["type","text","placeholder","Add a title...",1,"input","is-medium","title-placeholder",3,"ngModel","ngModelChange"],[1,"cont"],[1,"stars"],[3,"ngModel","event","ngModelChange"],[1,"field"],["placeholder","Add a comment...",1,"textarea",3,"ngModel","ngModelChange"],["class","invalid",4,"ngIf"],[1,"level-left","level-item"],[1,"button","buttonStyle",3,"click"],[1,"invalid"]],template:function(t,e){1&t&&(r.Cc(0,rM,3,0,"div",0),r.Cc(1,oM,3,5,"div",1),r.Qb(2,"br"),r.Ub(3,"div",2),r.Ub(4,"app-expandable-panel-header",3),r.bc("panelToggled",function(){return e.toggleReviewPanel()}),r.Tb(),r.Cc(5,lM,14,6,"div",4),r.Tb(),r.Ub(6,"mat-paginator",5,6),r.bc("page",function(t){return e.pageEvent=t}),r.Tb()),2&t&&(r.lc("ngIf",!e.showReviews()),r.Db(1),r.lc("ngIf",e.showReviews()),r.Db(3),r.lc("panelName",e.panelName)("startsEnabled",e.panelEnabled),r.Db(1),r.lc("ngIf",e.panelEnabled),r.Db(1),r.lc("length",e.length)("disabled",e.disablePaginator())("pageSize",e.pageSize)("pageSizeOptions",r.oc(9,hM)))},directives:[lt,ZN,$N,ct,zD,aR,FR,nM],pipes:[St],styles:[".media-content[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:2rem}.noComments[_ngcontent-%COMP%], .rating-container[_ngcontent-%COMP%]{border:1px solid #000;text-align:center}.cont[_ngcontent-%COMP%], .noComments[_ngcontent-%COMP%]{margin-top:1rem}.cont[_ngcontent-%COMP%]{text-align:center;background:#1e1e1e;color:#eee;overflow:hidden;border-radius:3rem}div.stars[_ngcontent-%COMP%]{height:4rem;width:100%;display:flex;justify-content:center;align-items:center}.buttonStyle[_ngcontent-%COMP%]{background-color:#ff8c00;color:#000}.rating-text[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center}.invalid[_ngcontent-%COMP%]{color:red;font-style:italic}.invalid[_ngcontent-%COMP%], .title-placeholder[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:1rem}.title-placeholder[_ngcontent-%COMP%]{width:50%}"]}),t})();function fM(t,e){1&t&&(r.Ub(0,"div",4),r.Ub(1,"strong",5),r.Ec(2,"There is no data..."),r.Tb(),r.Tb())}function pM(t,e){if(1&t&&(r.Ub(0,"div"),r.Ec(1),r.Tb()),2&t){const t=r.fc();r.Db(1),r.Gc(" ",t.details," ")}}let mM=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-details-generic-panel"]],inputs:{details:"details",panelName:"panelName",display:"display"},decls:5,vars:3,consts:[[1,"box","has-background-black","has-text-white","has-text-centered","blackbox"],[1,"box","has-text-white","has-text-centered","chapter"],["class","noDetails",4,"ngIf"],[4,"ngIf"],[1,"noDetails"],[1,"has-text-white"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ec(2),r.Tb(),r.Cc(3,fM,3,0,"div",2),r.Cc(4,pM,2,1,"div",3),r.Tb()),2&t&&(r.Db(2),r.Fc(e.panelName),r.Db(1),r.lc("ngIf",!e.display),r.Db(1),r.lc("ngIf",e.display))},directives:[lt],styles:[".container[_ngcontent-%COMP%]{position:relative;text-align:center;height:100rem;width:100%}img[_ngcontent-%COMP%]{opacity:50%;z-index:0;height:100%;padding:1rem;width:100%}.details[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.chapter[_ngcontent-%COMP%]{background-color:#ff8c00}.blackbox[_ngcontent-%COMP%]{width:20rem}.noDetails[_ngcontent-%COMP%]{border:1px solid #fff;text-align:center}.box[_ngcontent-%COMP%]{margin-bottom:1.5rem}"]}),t})();function gM(t,e){1&t&&(r.Ub(0,"div",8),r.Ub(1,"strong",9),r.Ec(2,"There is no data..."),r.Tb(),r.Tb())}function vM(t,e){if(1&t&&(r.Ub(0,"div"),r.Ec(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Gc(" ",t.name," ")}}function bM(t,e){if(1&t&&(r.Ub(0,"div"),r.Cc(1,vM,2,1,"div",10),r.Tb()),2&t){const t=r.fc();r.Db(1),r.lc("ngForOf",t.movie.countries)}}function yM(t,e){1&t&&(r.Ub(0,"div",8),r.Ub(1,"strong",9),r.Ec(2,"There is no data..."),r.Tb(),r.Tb())}function _M(t,e){if(1&t&&(r.Ub(0,"div"),r.Ec(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Gc(" ",t.name," ")}}function wM(t,e){if(1&t&&(r.Ub(0,"div"),r.Cc(1,_M,2,1,"div",10),r.Tb()),2&t){const t=r.fc();r.Db(1),r.lc("ngForOf",t.movie.languages)}}function CM(t,e){1&t&&(r.Ub(0,"div",8),r.Ub(1,"strong",9),r.Ec(2,"There is no data..."),r.Tb(),r.Tb())}function TM(t,e){if(1&t&&(r.Ub(0,"div"),r.Ec(1),r.Tb()),2&t){const t=e.$implicit;r.Db(1),r.Gc(" ",t.name," ")}}function EM(t,e){if(1&t&&(r.Ub(0,"div"),r.Cc(1,TM,2,1,"div",10),r.Tb()),2&t){const t=r.fc();r.Db(1),r.lc("ngForOf",t.movie.genres)}}let SM=(()=>{class t{constructor(t){this.client=t,this.boxOfficePanelName="Box Office",this.runTimePanelName="Runtime",this.releaseDatePanelName="Release Date",this.yearPanelName="Year"}ngOnInit(){this.client.get(this.movie.posterUrl).pipe(Pn(t=>(this.movie.posterUrl=gO.NOT_FOUND_IMAGE_WHITE,gn.a)))}showBoxOffice(){return!!(this.movie&&this.movie.boxOffice&&this.movie.boxOffice.length>0)}showCountries(){return this.movie&&this.movie.countries&&this.movie.countries.length>0}showRuntime(){return!!(this.movie&&this.movie.runtime&&this.movie.runtime.length>0)}showReleaseDate(){return!!(this.movie&&this.movie.releaseDate&&this.movie.releaseDate.length>0)}showYear(){return!(!this.movie||!this.movie.year)}showLanguages(){return this.movie&&this.movie.languages&&this.movie.languages.length>0}showGenres(){return this.movie&&this.movie.genres&&this.movie.genres.length>0}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Me))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-movie-details-more-details-tab"]],inputs:{movie:"movie"},decls:23,vars:21,consts:[[1,"container"],[3,"src"],[1,"details"],[3,"details","panelName","display"],[1,"box","has-background-black","has-text-white","has-text-centered","blackbox"],[1,"box","has-text-white","has-text-centered","chapter"],["class","noDetails",4,"ngIf"],[4,"ngIf"],[1,"noDetails"],[1,"has-text-white"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Qb(1,"img",1),r.Ub(2,"div",2),r.Qb(3,"app-details-generic-panel",3),r.Ub(4,"div",4),r.Ub(5,"div",5),r.Ec(6,"Countries"),r.Tb(),r.Cc(7,gM,3,0,"div",6),r.Cc(8,bM,2,1,"div",7),r.Tb(),r.Qb(9,"app-details-generic-panel",3),r.Qb(10,"app-details-generic-panel",3),r.gc(11,"date"),r.Qb(12,"app-details-generic-panel",3),r.Ub(13,"div",4),r.Ub(14,"div",5),r.Ec(15,"Languages"),r.Tb(),r.Cc(16,yM,3,0,"div",6),r.Cc(17,wM,2,1,"div",7),r.Tb(),r.Ub(18,"div",4),r.Ub(19,"div",5),r.Ec(20,"Genres"),r.Tb(),r.Cc(21,CM,3,0,"div",6),r.Cc(22,EM,2,1,"div",7),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(1),r.mc("src",e.movie.posterUrl,r.zc),r.Db(2),r.lc("details",e.movie.boxOffice)("panelName",e.boxOfficePanelName)("display",e.showBoxOffice()),r.Db(4),r.lc("ngIf",!e.showCountries()),r.Db(1),r.lc("ngIf",e.showCountries()),r.Db(1),r.lc("details",e.movie.runtime)("panelName",e.runTimePanelName)("display",e.showRuntime()),r.Db(1),r.lc("details",r.hc(11,19,e.movie.releaseDate))("panelName",e.releaseDatePanelName)("display",e.showReleaseDate()),r.Db(2),r.lc("details",e.movie.year)("panelName",e.yearPanelName)("display",e.showYear()),r.Db(4),r.lc("ngIf",!e.showLanguages()),r.Db(1),r.lc("ngIf",e.showLanguages()),r.Db(4),r.lc("ngIf",!e.showGenres()),r.Db(1),r.lc("ngIf",e.showGenres()))},directives:[mM,lt,ct],pipes:[Et],styles:[".container[_ngcontent-%COMP%]{position:relative;text-align:center;height:100rem;width:100%}img[_ngcontent-%COMP%]{opacity:50%;z-index:0;height:100%;padding:1rem;width:100%}.details[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.chapter[_ngcontent-%COMP%]{background-color:#ff8c00}.blackbox[_ngcontent-%COMP%]{width:20rem}.noDetails[_ngcontent-%COMP%]{border:1px solid #fff;text-align:center}"]}),t})();function OM(t,e){1&t&&(r.Ub(0,"div",6),r.Ub(1,"strong"),r.Ec(2,"There are no crew members..."),r.Tb(),r.Tb())}function xM(t,e){if(1&t){const t=r.Vb();r.Ub(0,"article",8),r.bc("click",function(){r.wc(t);const n=e.$implicit;return r.fc(3).navigateToCrewMember(n)}),r.Ub(1,"div",9),r.Qb(2,"img",10),r.Tb(),r.Ub(3,"div",11),r.Ub(4,"div",12),r.Ub(5,"p",13),r.Ub(6,"strong"),r.Ec(7),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit;r.Db(2),r.mc("src",t.imageUrl,r.zc),r.Db(5),r.Fc(t.name)}}function kM(t,e){if(1&t&&(r.Ub(0,"div"),r.Cc(1,xM,8,2,"article",7),r.Tb()),2&t){const t=r.fc(2);r.Db(1),r.lc("ngForOf",t.crewMembers)}}function IM(t,e){if(1&t&&(r.Ub(0,"div",3),r.Cc(1,OM,3,0,"div",4),r.Cc(2,kM,2,1,"div",5),r.Tb()),2&t){const t=r.fc();r.Db(1),r.lc("ngIf",!t.validCrewMembers()),r.Db(1),r.lc("ngIf",t.validCrewMembers())}}let AM=(()=>{class t{constructor(t){this.router=t,this.panelEnabled=!0}ngOnInit(){this.crewMembers=this.directorsPanel?this.movie.directors:this.movie.actors}toggleCrewPanel(){this.panelEnabled=!this.panelEnabled}validCrewMembers(){return this.directorsPanel?this.movie&&this.movie.directors&&this.movie.directors.length>0:this.movie&&this.movie.actors&&this.movie.actors.length>0}navigateToCrewMember(t){this.router.navigate([vO.CREW_DETAILS_URL,t.id])}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Eo))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-crew-generic-panel"]],inputs:{panelName:"panelName",movie:"movie",directorsPanel:"directorsPanel"},decls:3,vars:3,consts:[[1,"card"],[3,"panelName","startsEnabled","panelToggled"],["class","card-content",4,"ngIf"],[1,"card-content"],["class","noCrew",4,"ngIf"],[4,"ngIf"],[1,"noCrew"],["class","media",3,"click",4,"ngFor","ngForOf"],[1,"media",3,"click"],[1,"imagePoster"],[1,"image-native",3,"src"],[1,"media-content"],[1,"content"],[1,"is-size-4"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"app-expandable-panel-header",1),r.bc("panelToggled",function(){return e.toggleCrewPanel()}),r.Tb(),r.Cc(2,IM,3,2,"div",2),r.Tb()),2&t&&(r.Db(1),r.lc("panelName",e.panelName)("startsEnabled",e.panelEnabled),r.Db(1),r.lc("ngIf",e.panelEnabled))},directives:[ZN,lt,ct],styles:[".card[_ngcontent-%COMP%]{margin-top:1rem}.media[_ngcontent-%COMP%]{padding:1rem;display:flex!important;justify-content:center!important;align-items:center!important;cursor:pointer;filter:grayscale(100%)}.media[_ngcontent-%COMP%]:hover{filter:grayscale(0)}.imagePoster[_ngcontent-%COMP%]{width:8rem;height:10rem;margin-right:2rem}.image-native[_ngcontent-%COMP%]{height:100%;width:100%}.noCrew[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;margin-top:1rem}"]}),t})(),PM=(()=>{class t{constructor(t){this.client=t,this.directorsPanelName="Directors",this.actorsPanelName="Actors"}ngOnInit(){const t=this.movie.actors;this.checkAllImages(this.movie.directors),this.checkAllImages(t)}checkAllImages(t){this.movie&&t&&t.forEach(t=>{t.imageUrl?this.client.get(t.imageUrl).pipe(Pn(e=>(t.imageUrl=gO.NOT_FOUND_IMAGE_WHITE,gn.a))):t.imageUrl=gO.NOT_FOUND_IMAGE})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Me))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-movie-details-crew-members-tab"]],inputs:{movie:"movie"},decls:2,vars:6,consts:[[3,"panelName","movie","directorsPanel"]],template:function(t,e){1&t&&(r.Qb(0,"app-crew-generic-panel",0),r.Qb(1,"app-crew-generic-panel",0)),2&t&&(r.lc("panelName",e.directorsPanelName)("movie",e.movie)("directorsPanel",!0),r.Db(1),r.lc("panelName",e.actorsPanelName)("movie",e.movie)("directorsPanel",!1))},directives:[AM],styles:[""]}),t})();function DM(t,e){if(1&t&&(r.Ub(0,"div",3),r.Ec(1),r.Tb()),2&t){const t=r.fc();r.Db(1),r.Gc("Year of birth: ",t.crewMember.birth,"")}}function RM(t,e){1&t&&(r.Ub(0,"div",4),r.Ub(1,"strong"),r.Ec(2,"There is no year..."),r.Tb(),r.Tb())}function NM(t,e){if(1&t&&(r.Ub(0,"p"),r.Ec(1),r.Tb()),2&t){const t=r.fc();r.Db(1),r.Gc(" ",t.crewMember.description,"\n")}}function MM(t,e){1&t&&(r.Ub(0,"div",4),r.Ub(1,"strong"),r.Ec(2,"There is no description..."),r.Tb(),r.Tb())}let jM=(()=>{class t{constructor(){}showDescription(){return!!(this.crewMember&&this.crewMember.description&&this.crewMember.description.length>0)}showYear(){return!(!this.crewMember||!this.crewMember.birth)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-crew-details-description-tab"]],inputs:{crewMember:"crewMember"},decls:4,vars:4,consts:[["class","year",4,"ngIf"],["class","noDescription",4,"ngIf"],[4,"ngIf"],[1,"year"],[1,"noDescription"]],template:function(t,e){1&t&&(r.Cc(0,DM,2,1,"div",0),r.Cc(1,RM,3,0,"div",1),r.Cc(2,NM,2,1,"p",2),r.Cc(3,MM,3,0,"div",1)),2&t&&(r.lc("ngIf",e.showYear()),r.Db(1),r.lc("ngIf",!e.showYear()),r.Db(1),r.lc("ngIf",e.showDescription()),r.Db(1),r.lc("ngIf",!e.showDescription()))},directives:[lt],styles:[".year[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-top:1.5rem}.noDescription[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;margin-top:1rem}"]}),t})(),LM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[vP],vP]}),t})();const FM=["*"],UM=["text"];function VM(t,e){if(1&t&&r.Qb(0,"mat-pseudo-checkbox",5),2&t){const t=r.fc();r.lc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const BM=["*",[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]]],qM=["*","[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]"];let zM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),t})(),HM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),t})();class WM{}const KM=_P(WM);class GM{}const YM=_P(GM),$M={provide:VD,useExisting:Object(r.V)(()=>JM),multi:!0};class QM{constructor(t,e,n){this.source=t,this.option=e,this.options=n}}let XM=(()=>{class t extends YM{constructor(t,e,n){super(),this._element=t,this._changeDetector=e,this.selectionList=n,this._selected=!1,this._disabled=!1,this._hasFocus=!1,this.checkboxPosition="after",this._inputsInitialized=!1}get color(){return this._color||this.selectionList.color}set color(t){this._color=t}get value(){return this._value}set value(t){this.selected&&!this.selectionList.compareWith(t,this.value)&&this._inputsInitialized&&(this.selected=!1),this._value=t}get disabled(){return this._disabled||this.selectionList&&this.selectionList.disabled}set disabled(t){const e=DO(t);e!==this._disabled&&(this._disabled=e,this._changeDetector.markForCheck())}get selected(){return this.selectionList.selectedOptions.isSelected(this)}set selected(t){const e=DO(t);e!==this._selected&&(this._setSelected(e),(e||this.selectionList.multiple)&&this.selectionList._reportValueChange())}ngOnInit(){const t=this.selectionList;t._value&&t._value.some(e=>t.compareWith(e,this._value))&&this._setSelected(!0);const e=this._selected;Promise.resolve().then(()=>{(this._selected||e)&&(this.selected=!0,this._changeDetector.markForCheck())}),this._inputsInitialized=!0}ngAfterContentInit(){!function(t,e,n="mat"){t.changes.pipe(xn(t)).subscribe(({length:t})=>{OP(e,`${n}-2-line`,!1),OP(e,`${n}-3-line`,!1),OP(e,`${n}-multi-line`,!1),2===t||3===t?OP(e,`${n}-${t}-line`,!0):t>3&&OP(e,`${n}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this.selected&&Promise.resolve().then(()=>{this.selected=!1});const t=this._hasFocus,e=this.selectionList._removeOptionFromList(this);t&&e&&e.focus()}toggle(){this.selected=!this.selected}focus(){this._element.nativeElement.focus()}getLabel(){return this._text&&this._text.nativeElement.textContent||""}_isRippleDisabled(){return this.disabled||this.disableRipple||this.selectionList.disableRipple}_handleClick(){this.disabled||!this.selectionList.multiple&&this.selected||(this.toggle(),this.selectionList._emitChangeEvent([this]))}_handleFocus(){this.selectionList._setFocusedOption(this),this._hasFocus=!0}_handleBlur(){this.selectionList._onTouched(),this._hasFocus=!1}_getHostElement(){return this._element.nativeElement}_setSelected(t){return t!==this._selected&&(this._selected=t,t?this.selectionList.selectedOptions.select(this):this.selectionList.selectedOptions.deselect(this),this._changeDetector.markForCheck(),!0)}_markForCheck(){this._changeDetector.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.h),r.Pb(Object(r.V)(()=>JM)))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-list-option"]],contentQueries:function(t,e,n){if(1&t&&(r.Ib(n,zM,1),r.Ib(n,HM,1),r.Ib(n,SP,1)),2&t){let t;r.sc(t=r.cc())&&(e._avatar=t.first),r.sc(t=r.cc())&&(e._icon=t.first),r.sc(t=r.cc())&&(e._lines=t)}},viewQuery:function(t,e){if(1&t&&r.Ic(UM,1),2&t){let t;r.sc(t=r.cc())&&(e._text=t.first)}},hostAttrs:["role","option",1,"mat-list-item","mat-list-option","mat-focus-indicator"],hostVars:15,hostBindings:function(t,e){1&t&&r.bc("focus",function(){return e._handleFocus()})("blur",function(){return e._handleBlur()})("click",function(){return e._handleClick()}),2&t&&(r.Eb("aria-selected",e.selected)("aria-disabled",e.disabled)("tabindex",-1),r.Hb("mat-list-item-disabled",e.disabled)("mat-list-item-with-avatar",e._avatar||e._icon)("mat-primary","primary"===e.color)("mat-accent","primary"!==e.color&&"warn"!==e.color)("mat-warn","warn"===e.color)("mat-list-single-selected-option",e.selected&&!e.selectionList.multiple))},inputs:{disableRipple:"disableRipple",checkboxPosition:"checkboxPosition",color:"color",value:"value",selected:"selected",disabled:"disabled"},exportAs:["matListOption"],features:[r.Ab],ngContentSelectors:qM,decls:7,vars:5,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[3,"state","disabled",4,"ngIf"],[1,"mat-list-text"],["text",""],[3,"state","disabled"]],template:function(t,e){1&t&&(r.kc(BM),r.Ub(0,"div",0),r.Qb(1,"div",1),r.Cc(2,VM,1,2,"mat-pseudo-checkbox",2),r.Ub(3,"div",3,4),r.jc(5),r.Tb(),r.jc(6,1),r.Tb()),2&t&&(r.Hb("mat-list-item-content-reverse","after"==e.checkboxPosition),r.Db(1),r.lc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e._isRippleDisabled()),r.Db(1),r.lc("ngIf",e.selectionList.multiple))},directives:[MP,lt,LP],encapsulation:2,changeDetection:0}),t})(),JM=(()=>{class t extends KM{constructor(t,e,n,i){super(),this._element=t,this._changeDetector=n,this._focusMonitor=i,this._multiple=!0,this._contentInitialized=!1,this.selectionChange=new r.n,this.tabIndex=0,this.color="accent",this.compareWith=(t,e)=>t===e,this._disabled=!1,this.selectedOptions=new sx(this._multiple),this._tabIndex=-1,this._onChange=t=>{},this._destroyed=new Je.a,this._onTouched=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=DO(t),this._markOptionsForCheck()}get multiple(){return this._multiple}set multiple(t){const e=DO(t);e!==this._multiple&&(this._multiple=e,this.selectedOptions=new sx(this._multiple,this.selectedOptions.selected))}ngAfterContentInit(){var t;this._contentInitialized=!0,this._keyManager=new Ck(this.options).withWrap().withTypeAhead().withHomeAndEnd().skipPredicate(()=>!1).withAllowedModifierKeys(["shiftKey"]),this._value&&this._setOptionsFromValues(this._value),this._keyManager.tabOut.pipe(YS(this._destroyed)).subscribe(()=>{this._allowFocusEscape()}),this.options.changes.pipe(xn(null),YS(this._destroyed)).subscribe(()=>{this._updateTabIndex()}),this.selectedOptions.changed.pipe(YS(this._destroyed)).subscribe(t=>{if(t.added)for(let e of t.added)e.selected=!0;if(t.removed)for(let e of t.removed)e.selected=!1}),null===(t=this._focusMonitor)||void 0===t||t.monitor(this._element).pipe(YS(this._destroyed)).subscribe(t=>{if("keyboard"===t||"program"===t){const t=this._keyManager.activeItemIndex;t&&-1!==t?this._keyManager.setActiveItem(t):this._keyManager.setFirstItemActive()}})}ngOnChanges(t){const e=t.disableRipple,n=t.color;(e&&!e.firstChange||n&&!n.firstChange)&&this._markOptionsForCheck()}ngOnDestroy(){var t;null===(t=this._focusMonitor)||void 0===t||t.stopMonitoring(this._element),this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0}focus(t){this._element.nativeElement.focus(t)}selectAll(){this._setAllOptionsSelected(!0)}deselectAll(){this._setAllOptionsSelected(!1)}_setFocusedOption(t){this._keyManager.updateActiveItem(t)}_removeOptionFromList(t){const e=this._getOptionIndex(t);return e>-1&&this._keyManager.activeItemIndex===e&&(e>0?this._keyManager.updateActiveItem(e-1):0===e&&this.options.length>1&&this._keyManager.updateActiveItem(Math.min(e+1,this.options.length-1))),this._keyManager.activeItem}_keydown(t){const e=t.keyCode,n=this._keyManager,r=n.activeItemIndex,i=px(t);switch(e){case 32:case 13:i||n.isTyping()||(this._toggleFocusedOption(),t.preventDefault());break;default:if(65===e&&this.multiple&&px(t,"ctrlKey")&&!n.isTyping()){const e=this.options.some(t=>!t.disabled&&!t.selected);this._setAllOptionsSelected(e,!0,!0),t.preventDefault()}else n.onKeydown(t)}this.multiple&&(e===fx||40===e)&&t.shiftKey&&n.activeItemIndex!==r&&this._toggleFocusedOption()}_reportValueChange(){if(this.options&&!this._isDestroyed){const t=this._getSelectedOptionValues();this._onChange(t),this._value=t}}_emitChangeEvent(t){this.selectionChange.emit(new QM(this,t[0],t))}writeValue(t){this._value=t,this.options&&this._setOptionsFromValues(t||[])}setDisabledState(t){this.disabled=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}_setOptionsFromValues(t){this.options.forEach(t=>t._setSelected(!1)),t.forEach(t=>{const e=this.options.find(e=>!e.selected&&this.compareWith(e.value,t));e&&e._setSelected(!0)})}_getSelectedOptionValues(){return this.options.filter(t=>t.selected).map(t=>t.value)}_toggleFocusedOption(){let t=this._keyManager.activeItemIndex;if(null!=t&&this._isValidIndex(t)){let e=this.options.toArray()[t];!e||e.disabled||!this._multiple&&e.selected||(e.toggle(),this._emitChangeEvent([e]))}}_setAllOptionsSelected(t,e,n){const r=[];this.options.forEach(n=>{e&&n.disabled||!n._setSelected(t)||r.push(n)}),r.length&&(this._reportValueChange(),n&&this._emitChangeEvent(r))}_isValidIndex(t){return t>=0&&t<this.options.length}_getOptionIndex(t){return this.options.toArray().indexOf(t)}_markOptionsForCheck(){this.options&&this.options.forEach(t=>t._markForCheck())}_allowFocusEscape(){this._tabIndex=-1,setTimeout(()=>{this._tabIndex=0,this._changeDetector.markForCheck()})}_updateTabIndex(){this._tabIndex=0===this.options.length?-1:0}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Zb("tabindex"),r.Pb(r.h),r.Pb(Ak))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-selection-list"]],contentQueries:function(t,e,n){if(1&t&&r.Ib(n,XM,1),2&t){let t;r.sc(t=r.cc())&&(e.options=t)}},hostAttrs:["role","listbox",1,"mat-selection-list","mat-list-base"],hostVars:3,hostBindings:function(t,e){1&t&&r.bc("keydown",function(t){return e._keydown(t)}),2&t&&r.Eb("aria-multiselectable",e.multiple)("aria-disabled",e.disabled.toString())("tabindex",e._tabIndex)},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex",color:"color",compareWith:"compareWith",disabled:"disabled",multiple:"multiple"},outputs:{selectionChange:"selectionChange"},exportAs:["matSelectionList"],features:[r.Cb([$M]),r.Ab,r.Bb],ngContentSelectors:FM,decls:1,vars:0,template:function(t,e){1&t&&(r.kc(),r.jc(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),t})(),ZM=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[xP,jP,vP,FP,Ot],xP,vP,FP,LM]}),t})();function tj(t,e){1&t&&(r.Ub(0,"div",2),r.Ub(1,"strong"),r.Ec(2,"There are no movies..."),r.Tb(),r.Tb())}function ej(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-list-option",5),r.bc("click",function(){return r.wc(t),r.fc(2).navigateToMovie()}),r.Ec(1),r.Tb()}if(2&t){const t=e.$implicit;r.lc("value",t),r.Db(1),r.Gc(" ",t.title," ")}}function nj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-selection-list",3),r.bc("ngModelChange",function(e){return r.wc(t),r.fc().selectedMovie=e}),r.Cc(1,ej,2,2,"mat-list-option",4),r.Tb()}if(2&t){const t=r.fc();r.lc("multiple",!1)("ngModel",t.selectedMovie),r.Db(1),r.lc("ngForOf",t.crewMember.directedMovies)}}let rj=(()=>{class t{constructor(t){this.router=t}showMovies(){return this.crewMember&&this.crewMember.directedMovies&&this.crewMember.directedMovies.length>0}navigateToMovie(){this.router.navigate([vO.BASE_DETAILS_URL,this.selectedMovie[0].idString])}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Eo))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-crew-director-tab"]],inputs:{crewMember:"crewMember"},decls:2,vars:2,consts:[["class","noMovies",4,"ngIf"],[3,"multiple","ngModel","ngModelChange",4,"ngIf"],[1,"noMovies"],[3,"multiple","ngModel","ngModelChange"],["class","has-text-centered",3,"value","click",4,"ngFor","ngForOf"],[1,"has-text-centered",3,"value","click"]],template:function(t,e){1&t&&(r.Cc(0,tj,3,0,"div",0),r.Cc(1,nj,2,3,"mat-selection-list",1)),2&t&&(r.lc("ngIf",!e.showMovies()),r.Db(1),r.lc("ngIf",e.showMovies()))},directives:[lt,JM,aR,FR,ct,XM],styles:[".noMovies[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;margin-top:1rem}"]}),t})();function ij(t,e){1&t&&(r.Ub(0,"div",2),r.Ub(1,"strong"),r.Ec(2,"There are no movies..."),r.Tb(),r.Tb())}function oj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-list-option",5),r.bc("click",function(){return r.wc(t),r.fc(2).navigateToMovie()}),r.Ec(1),r.Tb()}if(2&t){const t=e.$implicit;r.lc("value",t),r.Db(1),r.Gc(" ",t.title," ")}}function sj(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-selection-list",3),r.bc("ngModelChange",function(e){return r.wc(t),r.fc().selectedMovie=e}),r.Cc(1,oj,2,2,"mat-list-option",4),r.Tb()}if(2&t){const t=r.fc();r.lc("multiple",!1)("ngModel",t.selectedMovie),r.Db(1),r.lc("ngForOf",t.crewMember.actedInMovies)}}let aj=(()=>{class t{constructor(t){this.router=t}showMovies(){return this.crewMember&&this.crewMember.actedInMovies&&this.crewMember.actedInMovies.length>0}navigateToMovie(){this.router.navigate([vO.BASE_DETAILS_URL,this.selectedMovie[0].idString])}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Eo))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-crew-actor-tab"]],inputs:{crewMember:"crewMember"},decls:2,vars:2,consts:[["class","noActor",4,"ngIf"],[3,"multiple","ngModel","ngModelChange",4,"ngIf"],[1,"noActor"],[3,"multiple","ngModel","ngModelChange"],["class","has-text-centered",3,"value","click",4,"ngFor","ngForOf"],[1,"has-text-centered",3,"value","click"]],template:function(t,e){1&t&&(r.Cc(0,ij,3,0,"div",0),r.Cc(1,sj,2,3,"mat-selection-list",1)),2&t&&(r.lc("ngIf",!e.showMovies()),r.Db(1),r.lc("ngIf",e.showMovies()))},directives:[lt,JM,aR,FR,ct,XM],styles:[".noActor[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;margin-top:1rem}"]}),t})();function cj(){}var uj=function(t){return null==t?cj:function(){return this.querySelector(t)}},lj=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)};function hj(){return[]}var dj=function(t){return null==t?hj:function(){return this.querySelectorAll(t)}},fj=function(t){return function(){return this.matches(t)}};function pj(t){return function(e){return e.matches(t)}}var mj=Array.prototype.find;function gj(){return this.firstElementChild}var vj=Array.prototype.filter;function bj(){return this.children}var yj=function(t){return new Array(t.length)};function _j(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}_j.prototype={constructor:_j,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var wj=function(t){return function(){return t}};function Cj(t,e,n,r,i,o){for(var s,a=0,c=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new _j(t,o[a]);for(;a<c;++a)(s=e[a])&&(i[a]=s)}function Tj(t,e,n,r,i,o,s){var a,c,u,l=new Map,h=e.length,d=o.length,f=new Array(h);for(a=0;a<h;++a)(c=e[a])&&(f[a]=u=s.call(c,c.__data__,a,e)+"",l.has(u)?i[a]=c:l.set(u,c));for(a=0;a<d;++a)u=s.call(t,o[a],a,o)+"",(c=l.get(u))?(r[a]=c,c.__data__=o[a],l.delete(u)):n[a]=new _j(t,o[a]);for(a=0;a<h;++a)(c=e[a])&&l.get(f[a])===c&&(i[a]=c)}function Ej(t){return t.__data__}function Sj(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Oj="http://www.w3.org/1999/xhtml",xj={svg:"http://www.w3.org/2000/svg",xhtml:Oj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},kj=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),xj.hasOwnProperty(e)?{space:xj[e],local:t}:t};function Ij(t){return function(){this.removeAttribute(t)}}function Aj(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pj(t,e){return function(){this.setAttribute(t,e)}}function Dj(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Rj(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Nj(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Mj=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function jj(t){return function(){this.style.removeProperty(t)}}function Lj(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Fj(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Uj(t,e){return t.style.getPropertyValue(e)||Mj(t).getComputedStyle(t,null).getPropertyValue(e)}function Vj(t){return function(){delete this[t]}}function Bj(t,e){return function(){this[t]=e}}function qj(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function zj(t){return t.trim().split(/^|\s+/)}function Hj(t){return t.classList||new Wj(t)}function Wj(t){this._node=t,this._names=zj(t.getAttribute("class")||"")}function Kj(t,e){for(var n=Hj(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Gj(t,e){for(var n=Hj(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Yj(t){return function(){Kj(this,t)}}function $j(t){return function(){Gj(this,t)}}function Qj(t,e){return function(){(e.apply(this,arguments)?Kj:Gj)(this,t)}}function Xj(){this.textContent=""}function Jj(t){return function(){this.textContent=t}}function Zj(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function tL(){this.innerHTML=""}function eL(t){return function(){this.innerHTML=t}}function nL(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function rL(){this.nextSibling&&this.parentNode.appendChild(this)}function iL(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function oL(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Oj&&e.documentElement.namespaceURI===Oj?e.createElement(t):e.createElementNS(n,t)}}function sL(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}Wj.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var aL=function(t){var e=kj(t);return(e.local?sL:oL)(e)};function cL(){return null}function uL(){var t=this.parentNode;t&&t.removeChild(this)}function lL(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function hL(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function dL(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function fL(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function pL(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function mL(t,e,n){var r=Mj(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function gL(t,e){return function(){return mL(this,t,e)}}function vL(t,e){return function(){return mL(this,t,e.apply(this,arguments))}}var bL=[null];function yL(t,e){this._groups=t,this._parents=e}function _L(){return new yL([[document.documentElement]],bL)}yL.prototype=_L.prototype={constructor:yL,select:function(t){"function"!=typeof t&&(t=uj(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=e[i],c=a.length,u=r[i]=new Array(c),l=0;l<c;++l)(o=a[l])&&(s=t.call(o,o.__data__,l,a))&&("__data__"in o&&(s.__data__=o.__data__),u[l]=s);return new yL(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:lj(e)}}(t):dj(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,a=e[o],c=a.length,u=0;u<c;++u)(s=a[u])&&(r.push(t.call(s,s.__data__,u,a)),i.push(s));return new yL(r,i)},selectChild:function(t){return this.select(null==t?gj:function(t){return function(){return mj.call(this.children,t)}}("function"==typeof t?t:pj(t)))},selectChildren:function(t){return this.selectAll(null==t?bj:function(t){return function(){return vj.call(this.children,t)}}("function"==typeof t?t:pj(t)))},filter:function(t){"function"!=typeof t&&(t=fj(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,c=r[i]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&c.push(o);return new yL(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Ej);var n=e?Tj:Cj,r=this._parents,i=this._groups;"function"!=typeof t&&(t=wj(t));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var l=r[u],h=i[u],d=h.length,f=lj(t.call(l,l&&l.__data__,u,r)),p=f.length,m=a[u]=new Array(p),g=s[u]=new Array(p),v=c[u]=new Array(d);n(l,h,m,g,v,f,e);for(var b,y,_=0,w=0;_<p;++_)if(b=m[_]){for(_>=w&&(w=_+1);!(y=g[w])&&++w<p;);b._next=y||null}}return(s=new yL(s,r))._enter=a,s._exit=c,s},enter:function(){return new yL(this._enter||this._groups.map(yj),this._parents)},exit:function(){return new yL(this._exit||this._groups.map(yj),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof yL))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),o=new Array(r),s=0;s<i;++s)for(var a,c=e[s],u=n[s],l=c.length,h=o[s]=new Array(l),d=0;d<l;++d)(a=c[d]||u[d])&&(h[d]=a);for(;s<r;++s)o[s]=e[s];return new yL(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Sj);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],c=a.length,u=i[o]=new Array(c),l=0;l<c;++l)(s=a[l])&&(u[l]=s);u.sort(e)}return new yL(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,a=o.length;s<a;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var n=kj(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Aj:Ij:"function"==typeof e?n.local?Nj:Rj:n.local?Dj:Pj)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?jj:"function"==typeof e?Fj:Lj)(t,e,null==n?"":n)):Uj(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Vj:"function"==typeof e?qj:Bj)(t,e)):this.node()[t]},classed:function(t,e){var n=zj(t+"");if(arguments.length<2){for(var r=Hj(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Qj:e?Yj:$j)(n,e))},text:function(t){return arguments.length?this.each(null==t?Xj:("function"==typeof t?Zj:Jj)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?tL:("function"==typeof t?nL:eL)(t)):this.node().innerHTML},raise:function(){return this.each(rL)},lower:function(){return this.each(iL)},append:function(t){var e="function"==typeof t?t:aL(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:aL(t),r=null==e?cL:"function"==typeof e?e:uj(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(uL)},clone:function(t){return this.select(t?hL:lL)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=dL(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?pL:fL,r=0;r<s;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var c,u=0,l=a.length;u<l;++u)for(r=0,c=a[u];r<s;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?vL:gL)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};var wL=_L,CL={value:()=>{}};function TL(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new EL(r)}function EL(t){this._=t}function SL(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function OL(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function xL(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=CL,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}EL.prototype=TL.prototype={constructor:EL,on:function(t,e){var n,r=this._,i=SL(t+"",r),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=i[o]).type)r[n]=xL(r[n],t.name,e);else if(null==e)for(n in r)r[n]=xL(r[n],t.name,null);return this}for(;++o<s;)if((n=(t=i[o]).type)&&(n=OL(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new EL(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var kL=TL,IL=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function AL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function PL(){}var DL=.7,RL=1/DL,NL="\\s*([+-]?\\d+)\\s*",ML="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",jL="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",LL=/^#([0-9a-f]{3,8})$/,FL=new RegExp("^rgb\\("+[NL,NL,NL]+"\\)$"),UL=new RegExp("^rgb\\("+[jL,jL,jL]+"\\)$"),VL=new RegExp("^rgba\\("+[NL,NL,NL,ML]+"\\)$"),BL=new RegExp("^rgba\\("+[jL,jL,jL,ML]+"\\)$"),qL=new RegExp("^hsl\\("+[ML,jL,jL]+"\\)$"),zL=new RegExp("^hsla\\("+[ML,jL,jL,ML]+"\\)$"),HL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function WL(){return this.rgb().formatHex()}function KL(){return this.rgb().formatRgb()}function GL(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=LL.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?YL(e):3===n?new JL(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?$L(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?$L(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=FL.exec(t))?new JL(e[1],e[2],e[3],1):(e=UL.exec(t))?new JL(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=VL.exec(t))?$L(e[1],e[2],e[3],e[4]):(e=BL.exec(t))?$L(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=qL.exec(t))?nF(e[1],e[2]/100,e[3]/100,1):(e=zL.exec(t))?nF(e[1],e[2]/100,e[3]/100,e[4]):HL.hasOwnProperty(t)?YL(HL[t]):"transparent"===t?new JL(NaN,NaN,NaN,0):null}function YL(t){return new JL(t>>16&255,t>>8&255,255&t,1)}function $L(t,e,n,r){return r<=0&&(t=e=n=NaN),new JL(t,e,n,r)}function QL(t){return t instanceof PL||(t=GL(t)),t?new JL((t=t.rgb()).r,t.g,t.b,t.opacity):new JL}function XL(t,e,n,r){return 1===arguments.length?QL(t):new JL(t,e,n,null==r?1:r)}function JL(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ZL(){return"#"+eF(this.r)+eF(this.g)+eF(this.b)}function tF(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function eF(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function nF(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new iF(t,e,n,r)}function rF(t){if(t instanceof iF)return new iF(t.h,t.s,t.l,t.opacity);if(t instanceof PL||(t=GL(t)),!t)return new iF;if(t instanceof iF)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new iF(s,a,c,t.opacity)}function iF(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function oF(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function sF(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}IL(PL,GL,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:WL,formatHex:WL,formatHsl:function(){return rF(this).formatHsl()},formatRgb:KL,toString:KL}),IL(JL,XL,AL(PL,{brighter:function(t){return t=null==t?RL:Math.pow(RL,t),new JL(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?DL:Math.pow(DL,t),new JL(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZL,formatHex:ZL,formatRgb:tF,toString:tF})),IL(iF,function(t,e,n,r){return 1===arguments.length?rF(t):new iF(t,e,n,null==r?1:r)},AL(PL,{brighter:function(t){return t=null==t?RL:Math.pow(RL,t),new iF(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?DL:Math.pow(DL,t),new iF(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new JL(oF(t>=240?t-240:t+120,i,r),oF(t,i,r),oF(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var aF=t=>()=>t;function cF(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):aF(isNaN(t)?e:t)}var uF=function t(e){var n=function(t){return 1==(t=+t)?cF:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):aF(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=XL(t)).r,(e=XL(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=cF(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function lF(t){return function(e){var n,r,i=e.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=XL(e[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=t(o),s=t(s),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=a(t),r+""}}}lF(function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1];return sF((n-r/e)*e,r>0?t[r-1]:2*i-o,i,o,r<e-1?t[r+2]:2*o-i)}}),lF(function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e);return sF((n-r/e)*e,t[(r+e-1)%e],t[r%e],t[(r+1)%e],t[(r+2)%e])}});var hF=function(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}};function dF(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),s=new Array(r);for(n=0;n<i;++n)o[n]=wF(t[n],e[n]);for(;n<r;++n)s[n]=e[n];return function(t){for(n=0;n<i;++n)s[n]=o[n](t);return s}}var fF,pF,mF=function(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}},gF=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},vF=function(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=wF(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},bF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yF=new RegExp(bF.source,"g"),_F=function(t,e){var n,r,i,o=bF.lastIndex=yF.lastIndex=0,s=-1,a=[],c=[];for(t+="",e+="";(n=bF.exec(t))&&(r=yF.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,c.push({i:s,x:gF(n,r)})),o=yF.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)a[(n=c[r]).i]=n.x(t);return a.join("")})},wF=function(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?aF(e):("number"===i?gF:"string"===i?(n=GL(e))?(e=n,uF):_F:e instanceof GL?uF:e instanceof Date?mF:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?dF:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?vF:gF:hF))(t,e)},CF=0,TF=0,EF=0,SF=0,OF=0,xF=0,kF="object"==typeof performance&&performance.now?performance:Date,IF="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function AF(){return OF||(IF(PF),OF=kF.now()+xF)}function PF(){OF=0}function DF(){this._call=this._time=this._next=null}function RF(t,e,n){var r=new DF;return r.restart(t,e,n),r}function NF(){OF=(SF=kF.now())+xF,CF=TF=0;try{!function(){AF(),++CF;for(var t,e=fF;e;)(t=OF-e._time)>=0&&e._call.call(null,t),e=e._next;--CF}()}finally{CF=0,function(){for(var t,e,n=fF,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:fF=e);pF=t,jF(r)}(),OF=0}}function MF(){var t=kF.now(),e=t-SF;e>1e3&&(xF-=e,SF=t)}function jF(t){CF||(TF&&(TF=clearTimeout(TF)),t-OF>24?(t<1/0&&(TF=setTimeout(NF,t-kF.now()-xF)),EF&&(EF=clearInterval(EF))):(EF||(SF=kF.now(),EF=setInterval(MF,1e3)),CF=1,IF(NF)))}DF.prototype=RF.prototype={constructor:DF,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?AF():+n)+(null==e?0:+e),this._next||pF===this||(pF?pF._next=this:fF=this,pF=this),this._call=t,this._time=n,jF()},stop:function(){this._call&&(this._call=null,this._time=1/0,jF())}};var LF=function(t,e,n){var r=new DF;return r.restart(n=>{r.stop(),t(n+e)},e=null==e?0:+e,n),r},FF=kL("start","end","cancel","interrupt"),UF=[],VF=function(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(c){var u,l,h,d;if(1!==n.state)return a();for(u in i)if((d=i[u]).name===n.name){if(3===d.state)return LF(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[u]):+u<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[u])}if(LF(function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),u=0,l=-1;u<h;++u)(d=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=d);r.length=l+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=5,1),o=-1,s=r.length;++o<s;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=RF(function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:FF,tween:UF,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function BF(t,e){var n=zF(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function qF(t,e){var n=zF(t,e);if(n.state>3)throw new Error("too late; already running");return n}function zF(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var HF,WF=180/Math.PI,KF={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},GF=function(t,e,n,r,i,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*WF,skewX:Math.atan(c)*WF,scaleX:s,scaleY:a}};function YF(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],c=[];return o=t(o),s=t(s),function(t,r,i,o,s,a){if(t!==i||r!==o){var c=s.push("translate(",null,e,null,n);a.push({i:c-4,x:gF(t,i)},{i:c-2,x:gF(r,o)})}else(i||o)&&s.push("translate("+i+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,c),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:gF(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,s.rotate,a,c),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:gF(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,s.skewX,a,c),function(t,e,n,r,o,s){if(t!==n||e!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:gF(t,n)},{i:a-2,x:gF(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,c),o=s=null,function(t){for(var e,n=-1,r=c.length;++n<r;)a[(e=c[n]).i]=e.x(t);return a.join("")}}}var $F=YF(function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?KF:GF(e.a,e.b,e.c,e.d,e.e,e.f)},"px, ","px)","deg)"),QF=YF(function(t){return null==t?KF:(HF||(HF=document.createElementNS("http://www.w3.org/2000/svg","g")),HF.setAttribute("transform",t),(t=HF.transform.baseVal.consolidate())?GF((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):KF)},", ",")",")");function XF(t,e){var n,r;return function(){var i=qF(this,t),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function JF(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=qF(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===e){i[c]=a;break}c===u&&i.push(a)}o.tween=i}}function ZF(t,e,n){var r=t._id;return t.each(function(){var t=qF(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return zF(t,r).value[e]}}var tU=function(t,e){var n;return("number"==typeof e?gF:e instanceof GL?uF:(n=GL(e))?(e=n,uF):_F)(t,e)};function eU(t){return function(){this.removeAttribute(t)}}function nU(t){return function(){this.removeAttributeNS(t.space,t.local)}}function rU(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===r?i:i=e(r=s,n)}}function iU(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===r?i:i=e(r=s,n)}}function oU(t,e,n){var r,i,o;return function(){var s,a,c=n(this);if(null!=c)return(s=this.getAttribute(t))===(a=c+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,c));this.removeAttribute(t)}}function sU(t,e,n){var r,i,o;return function(){var s,a,c=n(this);if(null!=c)return(s=this.getAttributeNS(t.space,t.local))===(a=c+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,c));this.removeAttributeNS(t.space,t.local)}}function aU(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function cU(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function uU(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&cU(t,i)),n}return i._value=e,i}function lU(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&aU(t,i)),n}return i._value=e,i}function hU(t,e){return function(){BF(this,t).delay=+e.apply(this,arguments)}}function dU(t,e){return e=+e,function(){BF(this,t).delay=e}}function fU(t,e){return function(){qF(this,t).duration=+e.apply(this,arguments)}}function pU(t,e){return e=+e,function(){qF(this,t).duration=e}}function mU(t,e){if("function"!=typeof e)throw new Error;return function(){qF(this,t).ease=e}}function gU(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?BF:qF;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}var vU=wL.prototype.constructor;function bU(t){return function(){this.style.removeProperty(t)}}function yU(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function _U(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&yU(t,o,n)),r}return o._value=e,o}function wU(t){return function(e){this.textContent=t.call(this,e)}}function CU(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&wU(r)),e}return r._value=t,r}var TU=0;function EU(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function SU(){return++TU}var OU=wL.prototype;EU.prototype=(function(t){return wL().transition(t)}).prototype={constructor:EU,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=uj(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,c,u=r[s],l=u.length,h=o[s]=new Array(l),d=0;d<l;++d)(a=u[d])&&(c=t.call(a,a.__data__,d,u))&&("__data__"in a&&(c.__data__=a.__data__),h[d]=c,VF(h[d],e,n,d,h,zF(a,n)));return new EU(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=dj(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c,u=r[a],l=u.length,h=0;h<l;++h)if(c=u[h]){for(var d,f=t.call(c,c.__data__,h,u),p=zF(c,n),m=0,g=f.length;m<g;++m)(d=f[m])&&VF(d,e,n,m,f,p);o.push(f),s.push(c)}return new EU(o,s,e,n)},filter:function(t){"function"!=typeof t&&(t=fj(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,c=r[i]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&c.push(o);return new EU(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=Math.min(r,n.length),o=new Array(r),s=0;s<i;++s)for(var a,c=e[s],u=n[s],l=c.length,h=o[s]=new Array(l),d=0;d<l;++d)(a=c[d]||u[d])&&(h[d]=a);for(;s<r;++s)o[s]=e[s];return new EU(o,this._parents,this._name,this._id)},selection:function(){return new vU(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=SU(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],c=a.length,u=0;u<c;++u)if(s=a[u]){var l=zF(s,e);VF(s,t,n,u,a,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new EU(r,this._parents,t,n)},call:OU.call,nodes:OU.nodes,node:OU.node,size:OU.size,empty:OU.empty,each:OU.each,on:function(t,e){var n=this._id;return arguments.length<2?zF(this.node(),n).on.on(t):this.each(gU(n,t,e))},attr:function(t,e){var n=kj(t),r="transform"===n?QF:tU;return this.attrTween(t,"function"==typeof e?(n.local?sU:oU)(n,r,ZF(this,"attr."+t,e)):null==e?(n.local?nU:eU)(n):(n.local?iU:rU)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=kj(t);return this.tween(n,(r.local?uU:lU)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?$F:tU;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Uj(this,t),s=(this.style.removeProperty(t),Uj(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}(t,r)).on("end.style."+t,bU(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var s=Uj(this,t),a=n(this),c=a+"";return null==a&&(this.style.removeProperty(t),c=a=Uj(this,t)),s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a))}}(t,r,ZF(this,"style."+t,e))).each(function(t,e){var n,r,i,o,s="style."+e,a="end."+s;return function(){var c=qF(this,t),u=c.on,l=null==c.value[s]?o||(o=bU(e)):void 0;u===n&&i===l||(r=(n=u).copy()).on(a,i=l),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var s=Uj(this,t);return s===o?null:s===r?i:i=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,_U(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(ZF(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,CU(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=zF(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?XF:JF)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?hU:dU)(e,t)):zF(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?fU:pU)(e,t)):zF(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(mU(e,t)):zF(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;qF(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){0==--i&&o()}};n.each(function(){var n=qF(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),n.on=e}),0===i&&o()})},[Symbol.iterator]:OU[Symbol.iterator]};var xU={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function kU(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function IU(t){return{type:t}}wL.prototype.interrupt=function(t){return this.each(function(){!function(t,e){var n,r,i,o=t.__transition,s=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete t.__transition}}(this,t)})},wL.prototype.transition=function(t){var e,n;t instanceof EU?(e=t._id,t=t._name):(e=SU(),(n=xU).time=AF(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],c=a.length,u=0;u<c;++u)(s=a[u])&&VF(s,t,e,u,a,n||kU(s,e));return new EU(r,this._parents,t,e)},Math,["w","e"].map(IU),["n","s"].map(IU),["n","w","e","s","nw","ne","sw","se"].map(IU);var AU=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},PU=function(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>AU(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const s=r(t,n,i,o-1);return s>i&&e(t[s-1],n)>-e(t[s],n)?s-1:s},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}},DU=Math.sqrt(50),RU=Math.sqrt(10),NU=Math.sqrt(2);function MU(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=DU?10:o>=RU?5:o>=NU?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=DU?10:o>=RU?5:o>=NU?2:1)}function jU(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=DU?i*=10:o>=RU?i*=5:o>=NU&&(i*=2),e<t?-i:i}const LU=1e3,FU=6e4,UU=36e5,VU=864e5,BU=6048e5,qU=31536e6;var zU=new Date,HU=new Date;function WU(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var s,a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<r);return a},i.filter=function(n){return WU(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return zU.setTime(+e),HU.setTime(+r),t(zU),t(HU),Math.floor(n(zU,HU))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var KU=WU(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});KU.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?WU(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):KU:null};var GU=KU,YU=WU(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*LU)},function(t,e){return(e-t)/LU},function(t){return t.getUTCSeconds()}),$U=WU(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*LU)},function(t,e){t.setTime(+t+e*FU)},function(t,e){return(e-t)/FU},function(t){return t.getMinutes()}),QU=WU(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*LU-t.getMinutes()*FU)},function(t,e){t.setTime(+t+e*UU)},function(t,e){return(e-t)/UU},function(t){return t.getHours()}),XU=WU(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*FU)/VU,t=>t.getDate()-1);function JU(t){return WU(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*FU)/BU})}var ZU=JU(0),tV=JU(1),eV=(JU(2),JU(3),JU(4)),nV=(JU(5),JU(6),WU(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),rV=WU(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});rV.every=function(t){return isFinite(t=Math.floor(t))&&t>0?WU(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var iV=rV,oV=WU(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*FU)},function(t,e){return(e-t)/FU},function(t){return t.getUTCMinutes()}),sV=WU(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*UU)},function(t,e){return(e-t)/UU},function(t){return t.getUTCHours()}),aV=WU(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/VU},function(t){return t.getUTCDate()-1});function cV(t){return WU(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/BU})}var uV=cV(0),lV=cV(1),hV=(cV(2),cV(3),cV(4)),dV=(cV(5),cV(6),WU(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),fV=WU(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});fV.every=function(t){return isFinite(t=Math.floor(t))&&t>0?WU(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var pV=fV;function mV(t,e,n,r,i,o){const s=[[YU,1,LU],[YU,5,5e3],[YU,15,15e3],[YU,30,3e4],[o,1,FU],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,UU],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,VU],[r,2,1728e5],[n,1,BU],[e,1,2592e6],[e,3,7776e6],[t,1,qU]];function a(e,n,r){const i=Math.abs(n-e)/r,o=PU(([,,t])=>t).right(s,i);if(o===s.length)return t.every(jU(e/qU,n/qU,r));if(0===o)return GU.every(Math.max(jU(e,n,r),1));const[a,c]=s[i/s[o-1][2]<s[o][2]/i?o-1:o];return a.every(c)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:a(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},a]}const[gV,vV]=mV(pV,dV,uV,aV,sV,oV),[bV,yV]=mV(iV,nV,ZU,XU,QU,$U);var _V={"-":"",_:" ",0:"0"},wV=/[\\^$*+?|[\]().{}]/g;function CV(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function TV(t){return t.replace(wV,"\\$&")}function EV(t){return new RegExp("^(?:"+t.map(TV).join("|")+")","i")}function SV(t){return new Map(t.map((t,e)=>[t.toLowerCase(),e]))}function OV(t,e){return CV(t.getDate(),e,2)}function xV(t,e){return CV(t.getHours(),e,2)}function kV(t,e){return CV(t.getHours()%12||12,e,2)}function IV(t,e){return CV(1+XU.count(iV(t),t),e,3)}function AV(t,e){return CV(t.getMilliseconds(),e,3)}function PV(t,e){return AV(t,e)+"000"}function DV(t,e){return CV(t.getMonth()+1,e,2)}function RV(t,e){return CV(t.getMinutes(),e,2)}function NV(t,e){return CV(t.getSeconds(),e,2)}function MV(t){var e=t.getDay();return 0===e?7:e}function jV(t,e){return CV(ZU.count(iV(t)-1,t),e,2)}function LV(t){var e=t.getDay();return e>=4||0===e?eV(t):eV.ceil(t)}function FV(t,e){return t=LV(t),CV(eV.count(iV(t),t)+(4===iV(t).getDay()),e,2)}function UV(t){return t.getDay()}function VV(t,e){return CV(tV.count(iV(t)-1,t),e,2)}function BV(t,e){return CV(t.getFullYear()%100,e,2)}function qV(t,e){return CV((t=LV(t)).getFullYear()%100,e,2)}function zV(t,e){return CV(t.getFullYear()%1e4,e,4)}function HV(t,e){var n=t.getDay();return CV((t=n>=4||0===n?eV(t):eV.ceil(t)).getFullYear()%1e4,e,4)}function WV(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+CV(e/60|0,"0",2)+CV(e%60,"0",2)}function KV(t,e){return CV(t.getUTCDate(),e,2)}function GV(t,e){return CV(t.getUTCHours(),e,2)}function YV(t,e){return CV(t.getUTCHours()%12||12,e,2)}function $V(t,e){return CV(1+aV.count(pV(t),t),e,3)}function QV(t,e){return CV(t.getUTCMilliseconds(),e,3)}function XV(t,e){return QV(t,e)+"000"}function JV(t,e){return CV(t.getUTCMonth()+1,e,2)}function ZV(t,e){return CV(t.getUTCMinutes(),e,2)}function tB(t,e){return CV(t.getUTCSeconds(),e,2)}function eB(t){var e=t.getUTCDay();return 0===e?7:e}function nB(t,e){return CV(uV.count(pV(t)-1,t),e,2)}function rB(t){var e=t.getUTCDay();return e>=4||0===e?hV(t):hV.ceil(t)}function iB(t,e){return t=rB(t),CV(hV.count(pV(t),t)+(4===pV(t).getUTCDay()),e,2)}function oB(t){return t.getUTCDay()}function sB(t,e){return CV(lV.count(pV(t)-1,t),e,2)}function aB(t,e){return CV(t.getUTCFullYear()%100,e,2)}function cB(t,e){return CV((t=rB(t)).getUTCFullYear()%100,e,2)}function uB(t,e){return CV(t.getUTCFullYear()%1e4,e,4)}function lB(t,e){var n=t.getUTCDay();return CV((t=n>=4||0===n?hV(t):hV.ceil(t)).getUTCFullYear()%1e4,e,4)}function hB(){return"+0000"}function dB(){return"%"}function fB(t){return+t}function pB(t){return Math.floor(+t/1e3)}!function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,c=t.shortMonths,u=(EV(i),SV(i),EV(o),SV(o),EV(s),SV(s),EV(a),SV(a),EV(c),SV(c),{a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:OV,e:OV,f:PV,g:qV,G:HV,H:xV,I:kV,j:IV,L:AV,m:DV,M:RV,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:fB,s:pB,S:NV,u:MV,U:jV,V:FV,w:UV,W:VV,x:null,X:null,y:BV,Y:zV,Z:WV,"%":dB}),l={a:function(t){return s[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:KV,e:KV,f:XV,g:cB,G:lB,H:GV,I:YV,j:$V,L:QV,m:JV,M:ZV,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:fB,s:pB,S:tB,u:eB,U:nB,V:iB,w:oB,W:sB,x:null,X:null,y:aB,Y:uB,Z:hB,"%":dB};function h(t,e){return function(n){var r,i,o,s=[],a=-1,c=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++a<u;)37===t.charCodeAt(a)&&(s.push(t.slice(c,a)),null!=(i=_V[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),s.push(r),c=a+1);return s.push(t.slice(c,a)),s.join("")}}u.x=h(n,u),u.X=h(r,u),u.c=h(e,u),l.x=h(n,l),l.X=h(r,l),l.c=h(e,l)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var mB=function(t){return null===t?NaN:+t};const gB=PU(AU).right;PU(mB);var vB=gB,bB=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}};function yB(t){return+t}var _B=[0,1];function wB(t){return t}function CB(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function TB(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=CB(i,r),o=n(s,o)):(r=CB(r,i),o=n(o,s)),function(t){return o(r(t))}}function EB(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=CB(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=vB(t,e,1,r)-1;return o[n](i[n](e))}}function SB(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function OB(){return function(){var t,e,n,r,i,o,s=_B,a=_B,c=wF,u=wB;function l(){var t=Math.min(s.length,a.length);return u!==wB&&(u=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(s[0],s[t-1])),r=t>2?EB:TB,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(s.map(t),a,c)))(t(u(e)))}return h.invert=function(n){return u(e((o||(o=r(a,s.map(t),gF)))(n)))},h.domain=function(t){return arguments.length?(s=Array.from(t,yB),l()):s.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),l()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),c=bB,l()},h.clamp=function(t){return arguments.length?(u=!!t||wB,l()):u!==wB},h.interpolate=function(t){return arguments.length?(c=t,l()):c},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,l()}}()(wB,wB)}function xB(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var kB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function IB(t){if(!(e=kB.exec(t)))throw new Error("invalid format: "+t);var e;return new AB({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function AB(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function PB(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}IB.prototype=AB.prototype,AB.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var DB,RB,NB,MB,jB=function(t){return(t=PB(Math.abs(t)))?t[1]:NaN},LB=function(t,e){var n=PB(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},FB={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>LB(100*t,e),r:LB,s:function(t,e){var n=PB(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(DB=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+PB(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},UB=function(t){return t},VB=Array.prototype.map,BB=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function qB(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(s=MU(t,e,n))||!isFinite(s))return[];if(s>0){let n=Math.round(t/s),r=Math.round(e/s);for(n*s<t&&++n,r*s>e&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)*s}else{s=-s;let n=Math.round(t*s),r=Math.round(e*s);for(n/s<t&&++n,r/s>e&&--r,o=new Array(i=r-n+1);++a<i;)o[a]=(n+a)/s}return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,o=jU(t,e,n);switch((r=IB(null==r?",f":r)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(jB(e)/3)))-jB(Math.abs(t)))}(o,s))||(r.precision=i),MB(r,s);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,jB(e)-jB(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-jB(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return NB(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),s=0,a=o.length-1,c=o[s],u=o[a],l=10;for(u<c&&(i=c,c=u,u=i,i=s,s=a,a=i);l-- >0;){if((i=MU(c,u,n))===r)return o[s]=c,o[a]=u,e(o);if(i>0)c=Math.floor(c/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,u=Math.floor(u*i)/i}r=i}return t},t}function zB(){var t=OB();return t.copy=function(){return SB(t,zB())},xB.apply(t,arguments),qB(t)}RB=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?UB:(e=VB.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],s=0,a=e[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(t.substring(i-=a,i+a)),!((c+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?UB:function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(VB.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",u=void 0===t.minus?"\u2212":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=IB(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,m=t.comma,g=t.precision,v=t.trim,b=t.type;"n"===b?(m=!0,b="g"):FB[b]||(void 0===g&&(g=12),v=!0,b="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var y="$"===d?i:"#"===d&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",_="$"===d?o:/[%p]/.test(b)?c:"",w=FB[b],C=/[defgprs%]/.test(b);function T(t){var i,o,c,d=y,T=_;if("c"===b)T=w(t)+T,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:w(Math.abs(t),g),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),E&&0==+t&&"+"!==h&&(E=!1),d=(E?"("===h?h:u:"-"===h||"("===h?"":h)+d,T=("s"===b?BB[8+DB/3]:"")+T+(E&&"("===h?")":""),C)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){T=(46===c?s+t.slice(i+1):t.slice(i))+T,t=t.slice(0,i);break}}m&&!f&&(t=r(t,1/0));var S=d.length+t.length+T.length,O=S<p?new Array(p-S+1).join(e):"";switch(m&&f&&(t=r(O+t,O.length?p-T.length:1/0),O=""),n){case"<":t=d+t+T+O;break;case"=":t=d+O+t+T;break;case"^":t=O.slice(0,S=O.length>>1)+d+t+T+O.slice(S);break;default:t=O+d+t+T}return a(t)}return g=void 0===g?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),T.toString=function(){return t+""},T}return{format:h,formatPrefix:function(t,e){var n=h(((t=IB(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(jB(e)/3))),i=Math.pow(10,-r),o=BB[8+r/3];return function(t){return n(i*t)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),NB=RB.format,MB=RB.formatPrefix;var HB=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o};const WB=Symbol("implicit");function KB(){var t=new Map,e=[],n=[],r=WB;function i(i){var o=i+"",s=t.get(o);if(!s){if(r!==WB)return r;t.set(o,s=e.push(i))}return n[(s-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return KB(e,n).unknown(r)},xB.apply(i,arguments),i}function GB(){var t,e,n=KB().unknown(void 0),r=n.domain,i=n.range,o=0,s=1,a=!1,c=0,u=0,l=.5;function h(){var n=r().length,h=s<o,d=h?s:o,f=h?o:s;t=(f-d)/Math.max(1,n-c+2*u),a&&(t=Math.floor(t)),d+=(f-d-t*(n-c))*l,e=t*(1-c),a&&(d=Math.round(d),e=Math.round(e));var p=HB(n).map(function(e){return d+t*e});return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?([o,s]=t,o=+o,s=+s,h()):[o,s]},n.rangeRound=function(t){return[o,s]=t,o=+o,s=+s,a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(c=Math.min(1,u=+t),h()):c},n.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),h()):c},n.paddingOuter=function(t){return arguments.length?(u=+t,h()):u},n.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),h()):l},n.copy=function(){return GB(r(),[o,s]).round(a).paddingInner(c).paddingOuter(u).align(l)},xB.apply(h(),arguments)}function YB(t,e,n=mB){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t);return s+(+n(t[o+1],o+1,t)-s)*(i-o)}}function $B(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=YB(e,t/i);return o}function o(e){return null==e||isNaN(e=+e)?t:n[vB(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(AU),i()},o.range=function(t){return arguments.length?(n=Array.from(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return $B().domain(e).range(n).unknown(t)},xB.apply(o,arguments)}function QB(t){this._context=t}QB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};const XB=Math.PI,JB=2*XB,ZB=1e-6,tq=JB-ZB;function eq(){this._x0=this._y0=this._x1=this._y1=null,this._=""}eq.prototype=(function(){return new eq}).prototype={constructor:eq,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){var o=this._x1,s=this._y1,a=(n=+n)-(t=+t),c=(r=+r)-(e=+e),u=o-t,l=s-e,h=u*u+l*l;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>ZB)if(Math.abs(l*a-c*u)>ZB&&i){var d=n-o,f=r-s,p=a*a+c*c,m=d*d+f*f,g=Math.sqrt(p),v=Math.sqrt(h),b=i*Math.tan((XB-Math.acos((p+h-m)/(2*g*v)))/2),y=b/v,_=b/g;Math.abs(y-1)>ZB&&(this._+="L"+(t+y*u)+","+(e+y*l)),this._+="A"+i+","+i+",0,0,"+ +(l*d>u*f)+","+(this._x1=t+_*a)+","+(this._y1=e+_*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var s=(n=+n)*Math.cos(r),a=n*Math.sin(r),c=t+s,u=e+a,l=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+u:(Math.abs(this._x1-c)>ZB||Math.abs(this._y1-u)>ZB)&&(this._+="L"+c+","+u),n&&(h<0&&(h=h%JB+JB),h>tq?this._+="A"+n+","+n+",0,1,"+l+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+l+","+(this._x1=c)+","+(this._y1=u):h>ZB&&(this._+="A"+n+","+n+",0,"+ +(h>=XB)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var nq=function(){};function rq(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function iq(t,e){this._context=t,this._k=(1-e)/6}function oq(t,e){this._context=t,this._k=(1-e)/6}function sq(t){this._curve=t}iq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:rq(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:rq(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new iq(t,e)}return n.tension=function(e){return t(+e)},n}(0),oq.prototype={areaStart:nq,areaEnd:nq,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:rq(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new oq(t,e)}return n.tension=function(e){return t(+e)},n}(0),sq.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}},Math,Math,Math,Math,Math,Math,Math,Math;var aq=function(t,e,n,r,i){for(var o,s=t.children,a=-1,c=s.length,u=t.value&&(r-e)/t.value;++a<c;)(o=s[a]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*u},cq=function(t,e,n,r,i){for(var o,s=t.children,a=-1,c=s.length,u=t.value&&(i-n)/t.value;++a<c;)(o=s[a]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u};function uq(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function lq(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=dq)):void 0===e&&(e=hq);for(var n,r,i,o,s,a=new mq(t),c=[a];n=c.pop();)if((i=e(n.data))&&(s=(i=Array.from(i)).length))for(n.children=i,o=s-1;o>=0;--o)c.push(r=i[o]=new mq(i[o])),r.parent=n,r.depth=n.depth+1;return a.eachBefore(pq)}function hq(t){return t.children}function dq(t){return Array.isArray(t)?t[1]:null}function fq(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function pq(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function mq(t){this.data=t,this.depth=this.height=0,this.parent=null}!function t(e){function n(t,n,r,i,o){!function(t,e,n,r,i,o){for(var s,a,c,u,l,h,d,f,p,m,g,v=[],b=e.children,y=0,_=0,w=b.length,C=e.value;y<w;){c=i-n,u=o-r;do{l=b[_++].value}while(!l&&_<w);for(h=d=l,g=l*l*(m=Math.max(u/c,c/u)/(C*t)),p=Math.max(d/g,g/h);_<w;++_){if(l+=a=b[_].value,a<h&&(h=a),a>d&&(d=a),g=l*l*m,(f=Math.max(d/g,g/h))>p){l-=a;break}p=f}v.push(s={value:l,dice:c<u,children:b.slice(y,_)}),s.dice?aq(s,n,r,i,C?r+=u*l/C:o):cq(s,n,r,C?n+=c*l/C:i,o),C-=l,y=_}}(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}((1+Math.sqrt(5))/2),mq.prototype=lq.prototype={constructor:mq,count:function(){return this.eachAfter(uq)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,i,o=this,s=[o],a=[],c=-1;o=s.pop();)if(a.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)s.push(n[r]);for(;o=a.pop();)t.call(e,o,++c,this);return this},eachBefore:function(t,e){for(var n,r,i=this,o=[i],s=-1;i=o.pop();)if(t.call(e,i,++s,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)r.push(e=e.parent);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return lq(this).eachBefore(fq)},[Symbol.iterator]:function*(){var t,e,n,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}};const gq=["caretElm"];function vq(t,e){}const bq=function(t){return{model:t}};function yq(t,e){if(1&t&&(r.Ub(0,"span"),r.Cc(1,vq,0,0,"ng-template",5),r.Tb()),2&t){const t=r.fc();r.Db(1),r.lc("ngTemplateOutlet",t.template)("ngTemplateOutletContext",r.pc(2,bq,t.context))}}function _q(t,e){if(1&t&&r.Qb(0,"span",6),2&t){const t=r.fc();r.lc("innerHTML",t.title,r.xc)}}function wq(t,e){if(1&t&&(r.ec(),r.dc(),r.Qb(0,"ngx-charts-scale-legend",4)),2&t){const t=r.fc();r.lc("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("valueRange",t.legendOptions.domain)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)}}function Cq(t,e){if(1&t){const t=r.Vb();r.ec(),r.dc(),r.Ub(0,"ngx-charts-legend",5),r.bc("labelClick",function(e){return r.wc(t),r.fc().legendLabelClick.emit(e)})("labelActivate",function(e){return r.wc(t),r.fc().legendLabelActivate.emit(e)})("labelDeactivate",function(e){return r.wc(t),r.fc().legendLabelDeactivate.emit(e)}),r.Tb()}if(2&t){const t=r.fc();r.lc("horizontal",t.legendOptions&&t.legendOptions.position===t.LegendPosition.Below)("data",t.legendOptions.domain)("title",t.legendOptions.title)("colors",t.legendOptions.colors)("height",t.view[1])("width",t.legendWidth)("activeEntries",t.activeEntries)}}const Tq=["*"],Eq=["ngx-charts-axis-label",""],Sq=["ticksel"],Oq=["ngx-charts-x-axis-ticks",""];function xq(t,e){if(1&t&&(r.ec(),r.Ub(0,"g",3),r.Ub(1,"title"),r.Ec(2),r.Tb(),r.Ub(3,"text",4),r.Ec(4),r.Tb(),r.Tb()),2&t){const t=e.$implicit,n=r.fc();r.Eb("transform",n.tickTransform(t)),r.Db(2),r.Fc(n.tickFormat(t)),r.Db(1),r.Bc("font-size","12px"),r.Eb("text-anchor",n.textAnchor)("transform",n.textTransform),r.Db(1),r.Gc(" ",n.tickTrim(n.tickFormat(t))," ")}}function kq(t,e){if(1&t&&(r.ec(),r.Ub(0,"g"),r.Qb(1,"line",6),r.Tb()),2&t){const t=r.fc(2);r.Eb("transform",t.gridLineTransform()),r.Db(1),r.Eb("y1",-t.gridLineHeight)}}function Iq(t,e){if(1&t&&(r.ec(),r.Ub(0,"g"),r.Cc(1,kq,2,2,"g",5),r.Tb()),2&t){const t=e.$implicit,n=r.fc();r.Eb("transform",n.tickTransform(t)),r.Db(1),r.lc("ngIf",n.showGridLines)}}const Aq=["ngx-charts-x-axis",""];function Pq(t,e){if(1&t){const t=r.Vb();r.ec(),r.Ub(0,"g",2),r.bc("dimensionsChanged",function(e){return r.wc(t),r.fc().emitTicksHeight(e)}),r.Tb()}if(2&t){const t=r.fc();r.lc("trimTicks",t.trimTicks)("rotateTicks",t.rotateTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickStroke",t.tickStroke)("scale",t.xScale)("orient",t.xOrient)("showGridLines",t.showGridLines)("gridLineHeight",t.dims.height)("width",t.dims.width)("tickValues",t.ticks)}}function Dq(t,e){if(1&t&&(r.ec(),r.Qb(0,"g",3)),2&t){const t=r.fc();r.lc("label",t.labelText)("offset",t.labelOffset)("orient",t.Orientation.Bottom)("height",t.dims.height)("width",t.dims.width)}}const Rq=["ngx-charts-y-axis-ticks",""];function Nq(t,e){if(1&t&&(r.ec(),r.Ub(0,"g",4),r.Ub(1,"title"),r.Ec(2),r.Tb(),r.Ub(3,"text",5),r.Ec(4),r.Tb(),r.Tb()),2&t){const t=e.$implicit,n=r.fc();r.Eb("transform",n.transform(t)),r.Db(2),r.Fc(n.tickFormat(t)),r.Db(1),r.Bc("font-size","12px"),r.Eb("dy",n.dy)("x",n.x1)("y",n.y1)("text-anchor",n.textAnchor),r.Db(1),r.Gc(" ",n.tickTrim(n.tickFormat(t))," ")}}function Mq(t,e){if(1&t&&(r.ec(),r.Qb(0,"path",6)),2&t){const t=r.fc();r.Eb("d",t.referenceAreaPath)("transform",t.gridLineTransform())}}function jq(t,e){if(1&t&&(r.ec(),r.Qb(0,"line",9)),2&t){const t=r.fc(3);r.Eb("x2",t.gridLineWidth)}}function Lq(t,e){if(1&t&&(r.ec(),r.Qb(0,"line",9)),2&t){const t=r.fc(3);r.Eb("x2",-t.gridLineWidth)}}function Fq(t,e){if(1&t&&(r.ec(),r.Ub(0,"g"),r.Cc(1,jq,1,1,"line",8),r.Cc(2,Lq,1,1,"line",8),r.Tb()),2&t){const t=r.fc(2);r.Eb("transform",t.gridLineTransform()),r.Db(1),r.lc("ngIf",t.orient===t.Orientation.Left),r.Db(1),r.lc("ngIf",t.orient===t.Orientation.Right)}}function Uq(t,e){if(1&t&&(r.ec(),r.Ub(0,"g"),r.Cc(1,Fq,3,3,"g",7),r.Tb()),2&t){const t=e.$implicit,n=r.fc();r.Eb("transform",n.transform(t)),r.Db(1),r.lc("ngIf",n.showGridLines)}}function Vq(t,e){if(1&t&&(r.ec(),r.Ub(0,"g"),r.Ub(1,"title"),r.Ec(2),r.Tb(),r.Ub(3,"text",11),r.Ec(4),r.Tb(),r.Tb()),2&t){const t=r.fc(2).$implicit,e=r.fc();r.Db(2),r.Fc(e.tickTrim(e.tickFormat(t.value))),r.Db(1),r.Eb("dy",e.dy)("y",-6)("x",e.gridLineWidth)("text-anchor",e.textAnchor),r.Db(1),r.Gc(" ",t.name," ")}}function Bq(t,e){if(1&t&&(r.ec(),r.Ub(0,"g"),r.Qb(1,"line",10),r.Cc(2,Vq,5,6,"g",7),r.Tb()),2&t){const t=r.fc().$implicit,e=r.fc();r.Eb("transform",e.transform(t.value)),r.Db(1),r.Eb("x2",e.gridLineWidth)("transform",e.gridLineTransform()),r.Db(1),r.lc("ngIf",e.showRefLabels)}}function qq(t,e){if(1&t&&(r.ec(),r.Ub(0,"g"),r.Cc(1,Bq,3,4,"g",7),r.Tb()),2&t){const t=r.fc();r.Db(1),r.lc("ngIf",t.showRefLines)}}const zq=["ngx-charts-y-axis",""];function Hq(t,e){if(1&t){const t=r.Vb();r.ec(),r.Ub(0,"g",2),r.bc("dimensionsChanged",function(e){return r.wc(t),r.fc().emitTicksWidth(e)}),r.Tb()}if(2&t){const t=r.fc();r.lc("trimTicks",t.trimTicks)("maxTickLength",t.maxTickLength)("tickFormatting",t.tickFormatting)("tickArguments",t.tickArguments)("tickValues",t.ticks)("tickStroke",t.tickStroke)("scale",t.yScale)("orient",t.yOrient)("showGridLines",t.showGridLines)("gridLineWidth",t.dims.width)("referenceLines",t.referenceLines)("showRefLines",t.showRefLines)("showRefLabels",t.showRefLabels)("height",t.dims.height)}}function Wq(t,e){if(1&t&&(r.ec(),r.Qb(0,"g",3)),2&t){const t=r.fc();r.lc("label",t.labelText)("offset",t.labelOffset)("orient",t.yOrient)("height",t.dims.height)("width",t.dims.width)}}const Kq=["ngx-charts-svg-linear-gradient",""];function Gq(t,e){if(1&t&&(r.ec(),r.Qb(0,"stop")),2&t){const t=e.$implicit;r.Bc("stop-color",t.color)("stop-opacity",t.opacity),r.Eb("offset",t.offset+"%")}}function Yq(t,e){if(1&t&&(r.Ub(0,"header",4),r.Ub(1,"span",5),r.Ec(2),r.Tb(),r.Tb()),2&t){const t=r.fc();r.Db(2),r.Fc(t.title)}}function $q(t,e){if(1&t){const t=r.Vb();r.Ub(0,"li",6),r.Ub(1,"ngx-charts-legend-entry",7),r.bc("select",function(e){return r.wc(t),r.fc().labelClick.emit(e)})("activate",function(e){return r.wc(t),r.fc().activate(e)})("deactivate",function(e){return r.wc(t),r.fc().deactivate(e)}),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit,n=r.fc();r.Db(1),r.lc("label",t.label)("formattedLabel",t.formattedLabel)("color",t.color)("isActive",n.isActive(t))}}const Qq=["tooltipTemplate"],Xq=function(t,e){return[t,e]},Jq=["ngx-charts-bar",""];function Zq(t,e){if(1&t&&(r.ec(),r.Ub(0,"defs"),r.Qb(1,"g",2),r.Tb()),2&t){const t=r.fc();r.Db(1),r.lc("orientation",t.orientation)("name",t.gradientId)("stops",t.gradientStops)}}function tz(t,e){if(1&t){const t=r.Vb();r.ec(),r.Ub(0,"g",5),r.bc("dimensionsChanged",function(e){return r.wc(t),r.fc().updateXAxisHeight(e)}),r.Tb()}if(2&t){const t=r.fc();r.lc("xScale",t.xScale)("dims",t.dims)("showLabel",t.showXAxisLabel)("labelText",t.xAxisLabel)("trimTicks",t.trimXAxisTicks)("rotateTicks",t.rotateXAxisTicks)("maxTickLength",t.maxXAxisTickLength)("tickFormatting",t.xAxisTickFormatting)("ticks",t.xAxisTicks)("xAxisOffset",t.dataLabelMaxHeight.negative)}}function ez(t,e){if(1&t){const t=r.Vb();r.ec(),r.Ub(0,"g",6),r.bc("dimensionsChanged",function(e){return r.wc(t),r.fc().updateYAxisWidth(e)}),r.Tb()}if(2&t){const t=r.fc();r.lc("yScale",t.yScale)("dims",t.dims)("showGridLines",t.showGridLines)("showLabel",t.showYAxisLabel)("labelText",t.yAxisLabel)("trimTicks",t.trimYAxisTicks)("maxTickLength",t.maxYAxisTickLength)("tickFormatting",t.yAxisTickFormatting)("ticks",t.yAxisTicks)}}const nz=["ngx-charts-series-vertical",""];function rz(t,e){if(1&t){const t=r.Vb();r.ec(),r.Ub(0,"g",2),r.bc("select",function(e){return r.wc(t),r.fc().onClick(e)})("activate",function(e){return r.wc(t),r.fc().activate.emit(e)})("deactivate",function(e){return r.wc(t),r.fc().deactivate.emit(e)}),r.Tb()}if(2&t){const t=e.$implicit,n=r.fc();r.lc("@animationState","active")("@.disabled",!n.animations)("width",t.width)("height",t.height)("x",t.x)("y",t.y)("fill",t.color)("stops",t.gradientStops)("data",t.data)("orientation","vertical")("roundEdges",t.roundEdges)("gradient",n.gradient)("ariaLabel",t.ariaLabel)("isActive",n.isActive(t.data))("tooltipDisabled",n.tooltipDisabled)("tooltipPlacement",n.tooltipPlacement)("tooltipType",n.tooltipType)("tooltipTitle",n.tooltipTemplate?void 0:t.tooltipText)("tooltipTemplate",n.tooltipTemplate)("tooltipContext",t.data)("noBarWhenZero",n.noBarWhenZero)("animations",n.animations)}}function iz(t,e){if(1&t){const t=r.Vb();r.ec(),r.Ub(0,"g",4),r.bc("dimensionsChanged",function(n){r.wc(t);const i=e.index;return r.fc(2).dataLabelHeightChanged.emit({size:n,index:i})}),r.Tb()}if(2&t){const t=e.$implicit,n=r.fc(2);r.lc("barX",t.x)("barY",t.y)("barWidth",t.width)("barHeight",t.height)("value",t.total)("valueFormatting",n.dataLabelFormatting)("orientation","vertical")}}function oz(t,e){if(1&t&&(r.ec(),r.Ub(0,"g"),r.Cc(1,iz,1,7,"g",3),r.Tb()),2&t){const t=r.fc();r.Db(1),r.lc("ngForOf",t.barsForDataLabels)("ngForTrackBy",t.trackDataLabelBy)}}const sz=["ngx-charts-bar-label",""];let az=(()=>{class t{constructor(t,e,n){this.applicationRef=t,this.componentFactoryResolver=e,this.injector=n}static setGlobalRootViewContainer(e){t.globalRootViewContainer=e}getRootViewContainer(){if(this._container)return this._container;if(t.globalRootViewContainer)return t.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return t.element?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,e){if(e){if(void 0!==e.inputs){const n=Object.getOwnPropertyNames(e.inputs);for(const r of n)t.instance[r]=e.inputs[r]}if(void 0!==e.outputs){const n=Object.getOwnPropertyNames(e.outputs);for(const r of n)t.instance[r]=e.outputs[r]}}return t}appendComponent(t,e={},n){n||(n=this.getRootViewContainer());const r=this.getComponentRootNode(n),i=new IO(r,this.componentFactoryResolver,this.applicationRef,this.injector),o=new SO(t),s=i.attach(o);return this.projectComponentBindings(s,e),s}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(r.g),r.Yb(r.j),r.Yb(r.s))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t.globalRootViewContainer=null,t})();function cz(t,e,n){let r,i,o;n=n||{};let s=null,a=0;function c(){a=!1===n.leading?0:+new Date,s=null,o=t.apply(r,i)}return function(){const u=+new Date;a||!1!==n.leading||(a=u);const l=e-(u-a);return r=this,i=arguments,l<=0?(clearTimeout(s),s=null,a=u,o=t.apply(r,i)):s||!1===n.trailing||(s=setTimeout(c,l)),o}}var uz=function(t){return t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t.Center="center",t}({});function lz(t,e,n){return n===uz.Top?t.top-7:n===uz.Bottom?t.top+t.height-e.height+7:n===uz.Center?t.top+t.height/2-e.height/2:void 0}function hz(t,e,n){return n===uz.Left?t.left-7:n===uz.Right?t.left+t.width-e.width+7:n===uz.Center?t.left+t.width/2-e.width/2:void 0}class dz{static calculateVerticalAlignment(t,e,n){let r=lz(t,e,n);return r+e.height>window.innerHeight&&(r=window.innerHeight-e.height),r}static calculateVerticalCaret(t,e,n,r){let i;r===uz.Top&&(i=t.height/2-n.height/2+7),r===uz.Bottom&&(i=e.height-t.height/2-n.height/2-7),r===uz.Center&&(i=e.height/2-n.height/2);const o=lz(t,e,r);return o+e.height>window.innerHeight&&(i+=o+e.height-window.innerHeight),i}static calculateHorizontalAlignment(t,e,n){let r=hz(t,e,n);return r+e.width>window.innerWidth&&(r=window.innerWidth-e.width),r}static calculateHorizontalCaret(t,e,n,r){let i;r===uz.Left&&(i=t.width/2-n.width/2+7),r===uz.Right&&(i=e.width-t.width/2-n.width/2-7),r===uz.Center&&(i=e.width/2-n.width/2);const o=hz(t,e,r);return o+e.width>window.innerWidth&&(i+=o+e.width-window.innerWidth),i}static shouldFlip(t,e,n,r){let i=!1;return n===uz.Right&&t.left+t.width+e.width+r>window.innerWidth&&(i=!0),n===uz.Left&&t.left-e.width-r<0&&(i=!0),n===uz.Top&&t.top-e.height-r<0&&(i=!0),n===uz.Bottom&&t.top+t.height+e.height+r>window.innerHeight&&(i=!0),i}static positionCaret(t,e,n,r,i){let o=0,s=0;return t===uz.Right?(s=-7,o=dz.calculateVerticalCaret(n,e,r,i)):t===uz.Left?(s=e.width,o=dz.calculateVerticalCaret(n,e,r,i)):t===uz.Top?(o=e.height,s=dz.calculateHorizontalCaret(n,e,r,i)):t===uz.Bottom&&(o=-7,s=dz.calculateHorizontalCaret(n,e,r,i)),{top:o,left:s}}static positionContent(t,e,n,r,i){let o=0,s=0;return t===uz.Right?(s=n.left+n.width+r,o=dz.calculateVerticalAlignment(n,e,i)):t===uz.Left?(s=n.left-e.width-r,o=dz.calculateVerticalAlignment(n,e,i)):t===uz.Top?(o=n.top-e.height-r,s=dz.calculateHorizontalAlignment(n,e,i)):t===uz.Bottom&&(o=n.top+n.height+r,s=dz.calculateHorizontalAlignment(n,e,i)),{top:o,left:s}}static determinePlacement(t,e,n,r){if(dz.shouldFlip(n,e,t,r)){if(t===uz.Right)return uz.Left;if(t===uz.Left)return uz.Right;if(t===uz.Top)return uz.Bottom;if(t===uz.Bottom)return uz.Top}return t}}let fz=(()=>{class t{constructor(t,e,n){this.element=t,this.renderer=e,this.platformId=n}get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!xt(this.platformId))return;const t=this.element.nativeElement,e=this.host.nativeElement.getBoundingClientRect();if(!e.height&&!e.width)return;const n=t.getBoundingClientRect();this.checkFlip(e,n),this.positionContent(t,e,n),this.showCaret&&this.positionCaret(e,n),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,e,n){const{top:r,left:i}=dz.positionContent(this.placement,n,e,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${r}px`),this.renderer.setStyle(t,"left",`${i}px`)}positionCaret(t,e){const n=this.caretElm.nativeElement,r=n.getBoundingClientRect(),{top:i,left:o}=dz.positionCaret(this.placement,e,t,r,this.alignment);this.renderer.setStyle(n,"top",`${i}px`),this.renderer.setStyle(n,"left",`${o}px`)}checkFlip(t,e){this.placement=dz.determinePlacement(this.placement,e,t,this.spacing)}onWindowResize(){this.position()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.F),r.Pb(r.C))},t.\u0275cmp=r.Jb({type:t,selectors:[["ngx-tooltip-content"]],viewQuery:function(t,e){if(1&t&&r.Ic(gq,1),2&t){let t;r.sc(t=r.cc())&&(e.caretElm=t.first)}},hostVars:2,hostBindings:function(t,e){1&t&&r.bc("resize",function(){return e.onWindowResize()},!1,r.vc),2&t&&r.Fb(e.cssClasses)},inputs:{placement:"placement",host:"host",showCaret:"showCaret",type:"type",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,e){1&t&&(r.Ub(0,"div"),r.Qb(1,"span",0,1),r.Ub(3,"div",2),r.Cc(4,yq,2,4,"span",3),r.Cc(5,_q,1,1,"span",4),r.Tb(),r.Tb()),2&t&&(r.Db(1),r.Gb("tooltip-caret position-",e.placement,""),r.lc("hidden",!e.showCaret),r.Db(3),r.lc("ngIf",!e.title),r.Db(1),r.lc("ngIf",e.title))},directives:[lt,vt],styles:[".ngx-charts-tooltip-content{border-radius:3px;display:block;font-weight:400;opacity:0;pointer-events:none!important;position:fixed;z-index:5000}.ngx-charts-tooltip-content.type-popover{background:#fff;border:1px solid #72809b;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);color:#060709;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{height:0;position:absolute;width:0;z-index:5001}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-bottom:7px solid transparent;border-left:7px solid #fff;border-top:7px solid transparent}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-bottom:7px solid transparent;border-right:7px solid #fff;border-top:7px solid transparent}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-bottom:7px solid #fff;border-left:7px solid transparent;border-right:7px solid transparent}.ngx-charts-tooltip-content.type-tooltip{background:rgba(0,0,0,.75);color:#fff;font-size:12px;padding:0 10px;pointer-events:auto;text-align:center}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75);border-top:7px solid transparent}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75);border-top:7px solid transparent}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-bottom:7px solid rgba(0,0,0,.75);border-left:7px solid transparent;border-right:7px solid transparent}.ngx-charts-tooltip-content .tooltip-label{display:block;font-size:1em;line-height:1em;padding:8px 5px 5px}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{height:0;position:absolute;width:0;z-index:5001}.ngx-charts-tooltip-content.position-right{transform:translate3d(10px,0,0)}.ngx-charts-tooltip-content.position-left{transform:translate3d(-10px,0,0)}.ngx-charts-tooltip-content.position-top{transform:translate3d(0,-10px,0)}.ngx-charts-tooltip-content.position-bottom{transform:translate3d(0,10px,0)}.ngx-charts-tooltip-content.animate{opacity:1;pointer-events:auto;transform:translateZ(0);transition:opacity .3s,transform .3s}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{line-height:1.2em;padding:5px 0;text-align:left}.tooltip-item .tooltip-item-color{border-radius:3px;color:#5b646b;display:inline-block;height:12px;margin-right:5px;width:12px}"],encapsulation:2}),Object(Go.__decorate)([function(t,e,n){return{configurable:!0,enumerable:n.enumerable,get:function(){return Object.defineProperty(this,e,{configurable:!0,enumerable:n.enumerable,value:cz(n.value,100,void 0)}),this[e]}}}],t.prototype,"onWindowResize",null),t})(),pz=(()=>{class t extends class{constructor(t){this.injectionService=t,this.defaults={},this.components=new Map}getByType(t=this.type){return this.components.get(t)}create(t){return this.createByType(this.type,t)}createByType(t,e){e=this.assignDefaults(e);const n=this.injectComponent(t,e);return this.register(t,n),n}destroy(t){const e=this.components.get(t.componentType);if(e&&e.length){const n=e.indexOf(t);n>-1&&(e[n].destroy(),e.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(t){const e=this.components.get(t);if(e&&e.length){let t=e.length-1;for(;t>=0;)this.destroy(e[t--])}}injectComponent(t,e){return this.injectionService.appendComponent(t,e)}assignDefaults(t){const e=Object.assign({},this.defaults.inputs),n=Object.assign({},this.defaults.outputs);return t.inputs||t.outputs||(t={inputs:t}),e&&(t.inputs=Object.assign(Object.assign({},e),t.inputs)),n&&(t.outputs=Object.assign(Object.assign({},n),t.outputs)),t}register(t,e){this.components.has(t)||this.components.set(t,[]),this.components.get(t).push(e)}}{constructor(t){super(t),this.type=fz}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(az))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();var mz=function(t){return t.Right="right",t.Below="below",t}({}),gz=function(t){return t.ScaleLegend="scaleLegend",t.Legend="legend",t}({}),vz=function(t){return t.Top="top",t.Bottom="bottom",t.Left="left",t.Right="right",t}({}),bz=function(t){return t.Start="start",t.Middle="middle",t.End="end",t}({}),yz=function(t){return t.Time="time",t.Linear="linear",t.Ordinal="ordinal",t.Quantile="quantile",t}({});let _z=(()=>{class t{constructor(){this.showLegend=!1,this.animations=!0,this.legendLabelClick=new r.n,this.legendLabelActivate=new r.n,this.legendLabelDeactivate=new r.n,this.LegendPosition=mz,this.LegendType=gz}ngOnChanges(t){this.update()}update(){let t=0;this.showLegend&&(this.legendType=this.getLegendType(),this.legendOptions&&this.legendOptions.position!==mz.Right||(t=this.legendType===gz.ScaleLegend?1:2)),this.chartWidth=Math.floor(this.view[0]*(12-t)/12),this.legendWidth=this.legendOptions&&this.legendOptions.position!==mz.Right?this.chartWidth:Math.floor(this.view[0]*t/12)}getLegendType(){return this.legendOptions.scaleType===yz.Linear?gz.ScaleLegend:gz.Legend}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["ngx-charts-chart"]],inputs:{showLegend:"showLegend",animations:"animations",legendType:"legendType",view:"view",legendOptions:"legendOptions",activeEntries:"activeEntries"},outputs:{legendLabelClick:"legendLabelClick",legendLabelActivate:"legendLabelActivate",legendLabelDeactivate:"legendLabelDeactivate"},features:[r.Cb([pz]),r.Bb],ngContentSelectors:Tq,decls:5,vars:8,consts:[[1,"ngx-charts-outer"],[1,"ngx-charts"],["class","chart-legend",3,"horizontal","valueRange","colors","height","width",4,"ngIf"],["class","chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate",4,"ngIf"],[1,"chart-legend",3,"horizontal","valueRange","colors","height","width"],[1,"chart-legend",3,"horizontal","data","title","colors","height","width","activeEntries","labelClick","labelActivate","labelDeactivate"]],template:function(t,e){1&t&&(r.kc(),r.Ub(0,"div",0),r.ec(),r.Ub(1,"svg",1),r.jc(2),r.Tb(),r.Cc(3,wq,1,5,"ngx-charts-scale-legend",2),r.Cc(4,Cq,1,7,"ngx-charts-legend",3),r.Tb()),2&t&&(r.Bc("width",e.view[0],"px"),r.lc("@animationState","active")("@.disabled",!e.animations),r.Db(1),r.Eb("width",e.chartWidth)("height",e.view[1]),r.Db(2),r.lc("ngIf",e.showLegend&&e.legendType===e.LegendType.ScaleLegend),r.Db(1),r.lc("ngIf",e.showLegend&&e.legendType===e.LegendType.Legend))},directives:function(){return[lt,Wz,zz]},encapsulation:2,data:{animation:[ZS("animationState",[oO(":enter",[nO({opacity:0}),tO("500ms 100ms",nO({opacity:1}))])])]},changeDetection:0}),t})(),wz=(()=>{class t{constructor(t,e){this.element=t,this.zone=e,this.visible=new r.n,this.isVisible=!1,this.runCheck()}destroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const t=()=>{if(!this.element)return;const{offsetHeight:e,offsetWidth:n}=this.element.nativeElement;e&&n?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),100)}))};this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t())})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.A))},t.\u0275dir=r.Kb({type:t,selectors:[["visibility-observer"]],outputs:{visible:"visible"}}),t})();function Cz(t){return"[object Date]"===toString.call(t)}let Tz=(()=>{class t{constructor(t,e,n,i){this.chartElement=t,this.zone=e,this.cd=n,this.platformId=i,this.scheme="cool",this.schemeType=yz.Ordinal,this.animations=!0,this.select=new r.n}ngOnInit(){kt(this.platformId)&&(this.animations=!1)}ngAfterViewInit(){this.bindWindowResizeEvent(),this.visibilityObserver=new wz(this.chartElement,this.zone),this.visibilityObserver.visible.subscribe(this.update.bind(this))}ngOnDestroy(){this.unbindEvents(),this.visibilityObserver&&(this.visibilityObserver.visible.unsubscribe(),this.visibilityObserver.destroy())}ngOnChanges(t){this.update()}update(){if(this.results=this.results?this.cloneData(this.results):[],this.view)this.width=this.view[0],this.height=this.view[1];else{const t=this.getContainerDims();t&&(this.width=t.width,this.height=t.height)}this.width||(this.width=600),this.height||(this.height=400),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this.cd&&this.cd.markForCheck()}getContainerDims(){let t,e;const n=this.chartElement.nativeElement;if(xt(this.platformId)&&null!==n.parentNode){const r=n.parentNode.getBoundingClientRect();t=r.width,e=r.height}return t&&e?{width:t,height:e}:null}formatDates(){for(let t=0;t<this.results.length;t++){const e=this.results[t];if(e.label=e.name,Cz(e.label)&&(e.label=e.label.toLocaleDateString()),e.series)for(let t=0;t<e.series.length;t++){const n=e.series[t];n.label=n.name,Cz(n.label)&&(n.label=n.label.toLocaleDateString())}}}unbindEvents(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}bindWindowResizeEvent(){if(!xt(this.platformId))return;const t=FO(window,"resize").pipe(rk(200)).subscribe(t=>{this.update(),this.cd&&this.cd.markForCheck()});this.resizeSubscription=t}cloneData(t){const e=[];for(const n of t){const t={name:n.name};if(void 0!==n.value&&(t.value=n.value),void 0!==n.series){t.series=[];for(const e of n.series){const n=Object.assign({},e);t.series.push(n)}}void 0!==n.extra&&(t.extra=JSON.parse(JSON.stringify(n.extra))),e.push(t)}return e}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.A),r.Pb(r.h),r.Pb(r.C))},t.\u0275cmp=r.Jb({type:t,selectors:[["base-chart"]],inputs:{scheme:"scheme",schemeType:"schemeType",animations:"animations",results:"results",view:"view",customColors:"customColors"},outputs:{select:"select"},features:[r.Bb],decls:1,vars:0,template:function(t,e){1&t&&r.Qb(0,"div")},encapsulation:2}),t})(),Ez=(()=>{class t{constructor(t){this.textHeight=25,this.margin=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}update(){switch(this.strokeWidth="0.01",this.textAnchor="middle",this.transform="",this.orient){case vz.Top:case vz.Bottom:this.y=this.offset,this.x=this.width/2;break;case vz.Left:this.y=-(this.offset+this.textHeight+this.margin),this.x=-this.height/2,this.transform="rotate(270)";break;case vz.Right:this.y=this.offset+this.margin,this.x=-this.height/2,this.transform="rotate(270)"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l))},t.\u0275cmp=r.Jb({type:t,selectors:[["g","ngx-charts-axis-label",""]],inputs:{orient:"orient",label:"label",offset:"offset",width:"width",height:"height"},features:[r.Bb],attrs:Eq,decls:2,vars:6,template:function(t,e){1&t&&(r.ec(),r.Ub(0,"text"),r.Ec(1),r.Tb()),2&t&&(r.Eb("stroke-width",e.strokeWidth)("x",e.x)("y",e.y)("text-anchor",e.textAnchor)("transform",e.transform),r.Db(1),r.Gc(" ",e.label," "))},encapsulation:2,changeDetection:0}),t})();function Sz(t,e=16){return"string"!=typeof t?"number"==typeof t?t+"":"":(t=t.trim()).length<=e?t:`${t.slice(0,e)}...`}function Oz(t,e){if(t.length>e){const n=[],r=Math.floor(t.length/e);for(let e=0;e<t.length;e++)e%r==0&&n.push(t[e]);t=n}return t}let xz=(()=>{class t{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.rotateTicks=!0,this.dimensionsChanged=new r.n,this.verticalSpacing=20,this.rotateLabels=!1,this.innerTickSize=6,this.outerTickSize=6,this.tickPadding=3,this.textAnchor=bz.Middle,this.maxTicksLength=0,this.maxAllowedLength=16,this.height=0,this.approxHeight=10}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!xt(this.platformId))return void this.dimensionsChanged.emit({height:this.approxHeight});const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().height,10);t!==this.height&&(this.height=t,this.dimensionsChanged.emit({height:this.height}),setTimeout(()=>this.updateDims()))}update(){const t=this.scale;this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(t){return"Date"===t.constructor.name?t.toLocaleDateString():t.toLocaleString()};const e=this.rotateTicks?this.getRotationAngle(this.ticks):null;this.adjustedScale=this.scale.bandwidth?function(t){return this.scale(t)+.5*this.scale.bandwidth()}:this.scale,this.textTransform="",e&&0!==e?(this.textTransform=`rotate(${e})`,this.textAnchor=bz.End,this.verticalSpacing=10):this.textAnchor=bz.Middle,setTimeout(()=>this.updateDims())}getRotationAngle(t){let e=0;this.maxTicksLength=0;for(let o=0;o<t.length;o++){const e=this.tickFormat(t[o]).toString();let n=e.length;this.trimTicks&&(n=this.tickTrim(e).length),n>this.maxTicksLength&&(this.maxTicksLength=n)}const n=7*Math.min(this.maxTicksLength,this.maxAllowedLength);let r=n;const i=Math.floor(this.width/t.length);for(;r>i&&e>-90;)e-=30,r=Math.cos(e*(Math.PI/180))*n;return this.approxHeight=Math.max(Math.abs(Math.sin(e*(Math.PI/180))*n),10),e}getTicks(){let t;const e=this.getMaxTicks(20),n=this.getMaxTicks(100);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[n]):(t=this.scale.domain(),t=Oz(t,e)),t}getMaxTicks(t){return Math.floor(this.width/t)}tickTransform(t){return"translate("+this.adjustedScale(t)+","+this.verticalSpacing+")"}gridLineTransform(){return`translate(0,${-this.verticalSpacing-5})`}tickTrim(t){return this.trimTicks?Sz(t,this.maxTickLength):t}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.C))},t.\u0275cmp=r.Jb({type:t,selectors:[["g","ngx-charts-x-axis-ticks",""]],viewQuery:function(t,e){if(1&t&&r.Ic(Sq,1),2&t){let t;r.sc(t=r.cc())&&(e.ticksElement=t.first)}},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",rotateTicks:"rotateTicks",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineHeight:"gridLineHeight",width:"width"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.Bb],attrs:Oq,decls:4,vars:2,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[4,"ngIf"],["y2","0",1,"gridline-path","gridline-path-vertical"]],template:function(t,e){1&t&&(r.ec(),r.Ub(0,"g",null,0),r.Cc(2,xq,5,7,"g",1),r.Tb(),r.Cc(3,Iq,2,2,"g",2)),2&t&&(r.Db(2),r.lc("ngForOf",e.ticks),r.Db(1),r.lc("ngForOf",e.ticks))},directives:[ct,lt],encapsulation:2,changeDetection:0}),t})(),kz=(()=>{class t{constructor(){this.rotateTicks=!0,this.showGridLines=!1,this.xOrient=vz.Bottom,this.xAxisOffset=0,this.dimensionsChanged=new r.n,this.xAxisClassName="x axis",this.labelOffset=0,this.fill="none",this.stroke="stroke",this.tickStroke="#ccc",this.strokeWidth="none",this.padding=5,this.Orientation=vz}ngOnChanges(t){this.update()}update(){this.transform=`translate(0,${this.xAxisOffset+this.padding+this.dims.height})`,void 0!==this.xAxisTickCount&&(this.tickArguments=[this.xAxisTickCount])}emitTicksHeight({height:t}){const e=t+25+5;e!==this.labelOffset&&(this.labelOffset=e,setTimeout(()=>{this.dimensionsChanged.emit({height:t})},0))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["g","ngx-charts-x-axis",""]],viewQuery:function(t,e){if(1&t&&r.Ic(xz,1),2&t){let t;r.sc(t=r.cc())&&(e.ticksComponent=t.first)}},inputs:{rotateTicks:"rotateTicks",showGridLines:"showGridLines",xOrient:"xOrient",xAxisOffset:"xAxisOffset",xScale:"xScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",showLabel:"showLabel",labelText:"labelText",ticks:"ticks",xAxisTickCount:"xAxisTickCount"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.Bb],attrs:Aq,decls:3,vars:4,consts:[["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-x-axis-ticks","",3,"trimTicks","rotateTicks","maxTickLength","tickFormatting","tickArguments","tickStroke","scale","orient","showGridLines","gridLineHeight","width","tickValues","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,e){1&t&&(r.ec(),r.Ub(0,"g"),r.Cc(1,Pq,1,12,"g",0),r.Cc(2,Dq,1,5,"g",1),r.Tb()),2&t&&(r.Eb("class",e.xAxisClassName)("transform",e.transform),r.Db(1),r.lc("ngIf",e.xScale),r.Db(1),r.lc("ngIf",e.showLabel))},directives:[lt,xz,Ez],encapsulation:2,changeDetection:0}),t})();function Iz(t,e,n,r,i,[o,s,a,c]){let u="";return u=`M${[t+i,e]}`,u+="h"+((n=0===(n=Math.floor(n))?1:n)-2*i),u+=s?`a${[i,i]} 0 0 1 ${[i,i]}`:`h${i}v${i}`,u+="v"+((r=0===(r=Math.floor(r))?1:r)-2*i),u+=c?`a${[i,i]} 0 0 1 ${[-i,i]}`:`v${i}h${-i}`,u+="h"+(2*i-n),u+=a?`a${[i,i]} 0 0 1 ${[-i,-i]}`:`h${-i}v${-i}`,u+="v"+(2*i-r),u+=o?`a${[i,i]} 0 0 1 ${[i,-i]}`:`v${-i}h${i}`,u+="z",u}let Az=(()=>{class t{constructor(t){this.platformId=t,this.tickArguments=[5],this.tickStroke="#ccc",this.trimTicks=!0,this.maxTickLength=16,this.showGridLines=!1,this.showRefLabels=!1,this.showRefLines=!1,this.dimensionsChanged=new r.n,this.innerTickSize=6,this.tickPadding=3,this.verticalSpacing=20,this.textAnchor=bz.Middle,this.width=0,this.outerTickSize=6,this.rotateLabels=!1,this.referenceLineLength=0,this.Orientation=vz}ngOnChanges(t){this.update()}ngAfterViewInit(){setTimeout(()=>this.updateDims())}updateDims(){if(!xt(this.platformId))return this.width=this.getApproximateAxisWidth(),void this.dimensionsChanged.emit({width:this.width});const t=parseInt(this.ticksElement.nativeElement.getBoundingClientRect().width,10);t!==this.width&&(this.width=t,this.dimensionsChanged.emit({width:t}),setTimeout(()=>this.updateDims()))}update(){let t;const e=this.orient===vz.Top||this.orient===vz.Right?-1:1;switch(this.tickSpacing=Math.max(this.innerTickSize,0)+this.tickPadding,t=this.scale,this.ticks=this.getTicks(),this.tickFormat=this.tickFormatting?this.tickFormatting:t.tickFormat?t.tickFormat.apply(t,this.tickArguments):function(t){return"Date"===t.constructor.name?t.toLocaleDateString():t.toLocaleString()},this.adjustedScale=t.bandwidth?function(e){return t(e)+.5*t.bandwidth()}:t,this.showRefLines&&this.referenceLines&&this.setReferencelines(),this.orient){case vz.Top:case vz.Bottom:this.transform=function(t){return"translate("+this.adjustedScale(t)+",0)"},this.textAnchor=bz.Middle,this.y2=this.innerTickSize*e,this.y1=this.tickSpacing*e,this.dy=e<0?"0em":".71em";break;case vz.Left:this.transform=function(t){return"translate(0,"+this.adjustedScale(t)+")"},this.textAnchor=bz.End,this.x2=this.innerTickSize*-e,this.x1=this.tickSpacing*-e,this.dy=".32em";break;case vz.Right:this.transform=function(t){return"translate(0,"+this.adjustedScale(t)+")"},this.textAnchor=bz.Start,this.x2=this.innerTickSize*-e,this.x1=this.tickSpacing*-e,this.dy=".32em"}setTimeout(()=>this.updateDims())}setReferencelines(){this.refMin=this.adjustedScale(Math.min.apply(null,this.referenceLines.map(t=>t.value))),this.refMax=this.adjustedScale(Math.max.apply(null,this.referenceLines.map(t=>t.value))),this.referenceLineLength=this.referenceLines.length,this.referenceAreaPath=Iz(0,this.refMax,this.gridLineWidth,this.refMin-this.refMax,0,[!1,!1,!1,!1])}getTicks(){let t;const e=this.getMaxTicks(20),n=this.getMaxTicks(50);return this.tickValues?t=this.tickValues:this.scale.ticks?t=this.scale.ticks.apply(this.scale,[n]):(t=this.scale.domain(),t=Oz(t,e)),t}getMaxTicks(t){return Math.floor(this.height/t)}tickTransform(t){return`translate(${this.adjustedScale(t)},${this.verticalSpacing})`}gridLineTransform(){return"translate(5,0)"}tickTrim(t){return this.trimTicks?Sz(t,this.maxTickLength):t}getApproximateAxisWidth(){return 7*Math.max(...this.ticks.map(t=>this.tickTrim(this.tickFormat(t)).length))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.C))},t.\u0275cmp=r.Jb({type:t,selectors:[["g","ngx-charts-y-axis-ticks",""]],viewQuery:function(t,e){if(1&t&&r.Ic(Sq,1),2&t){let t;r.sc(t=r.cc())&&(e.ticksElement=t.first)}},inputs:{tickArguments:"tickArguments",tickStroke:"tickStroke",trimTicks:"trimTicks",maxTickLength:"maxTickLength",showGridLines:"showGridLines",showRefLabels:"showRefLabels",showRefLines:"showRefLines",scale:"scale",orient:"orient",tickValues:"tickValues",tickFormatting:"tickFormatting",gridLineWidth:"gridLineWidth",height:"height",referenceLines:"referenceLines"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.Bb],attrs:Rq,decls:6,vars:4,consts:[["ticksel",""],["class","tick",4,"ngFor","ngForOf"],["class","reference-area",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"tick"],["stroke-width","0.01"],[1,"reference-area"],[4,"ngIf"],["class","gridline-path gridline-path-horizontal","x1","0",4,"ngIf"],["x1","0",1,"gridline-path","gridline-path-horizontal"],["x1","0",1,"refline-path","gridline-path-horizontal"],[1,"refline-label"]],template:function(t,e){1&t&&(r.ec(),r.Ub(0,"g",null,0),r.Cc(2,Nq,5,9,"g",1),r.Tb(),r.Cc(3,Mq,1,2,"path",2),r.Cc(4,Uq,2,2,"g",3),r.Cc(5,qq,2,1,"g",3)),2&t&&(r.Db(2),r.lc("ngForOf",e.ticks),r.Db(1),r.lc("ngIf",e.referenceLineLength>1&&e.refMax&&e.refMin&&e.showRefLines),r.Db(1),r.lc("ngForOf",e.ticks),r.Db(1),r.lc("ngForOf",e.referenceLines))},directives:[ct,lt],encapsulation:2,changeDetection:0}),t})(),Pz=(()=>{class t{constructor(){this.showGridLines=!1,this.yOrient=vz.Left,this.yAxisOffset=0,this.dimensionsChanged=new r.n,this.yAxisClassName="y axis",this.labelOffset=15,this.fill="none",this.stroke="#CCC",this.tickStroke="#CCC",this.strokeWidth=1,this.padding=5}ngOnChanges(t){this.update()}update(){this.offset=-(this.yAxisOffset+this.padding),this.yOrient===vz.Right?(this.labelOffset=65,this.transform=`translate(${this.offset+this.dims.width} , 0)`):(this.offset=this.offset,this.transform=`translate(${this.offset} , 0)`),void 0!==this.yAxisTickCount&&(this.tickArguments=[this.yAxisTickCount])}emitTicksWidth({width:t}){t!==this.labelOffset&&this.yOrient===vz.Right?(this.labelOffset=t+this.labelOffset,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0)):t!==this.labelOffset&&(this.labelOffset=t,setTimeout(()=>{this.dimensionsChanged.emit({width:t})},0))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["g","ngx-charts-y-axis",""]],viewQuery:function(t,e){if(1&t&&r.Ic(Az,1),2&t){let t;r.sc(t=r.cc())&&(e.ticksComponent=t.first)}},inputs:{showGridLines:"showGridLines",yOrient:"yOrient",yAxisOffset:"yAxisOffset",yScale:"yScale",dims:"dims",trimTicks:"trimTicks",maxTickLength:"maxTickLength",tickFormatting:"tickFormatting",ticks:"ticks",showLabel:"showLabel",labelText:"labelText",yAxisTickCount:"yAxisTickCount",referenceLines:"referenceLines",showRefLines:"showRefLines",showRefLabels:"showRefLabels"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.Bb],attrs:zq,decls:3,vars:4,consts:[["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged",4,"ngIf"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width",4,"ngIf"],["ngx-charts-y-axis-ticks","",3,"trimTicks","maxTickLength","tickFormatting","tickArguments","tickValues","tickStroke","scale","orient","showGridLines","gridLineWidth","referenceLines","showRefLines","showRefLabels","height","dimensionsChanged"],["ngx-charts-axis-label","",3,"label","offset","orient","height","width"]],template:function(t,e){1&t&&(r.ec(),r.Ub(0,"g"),r.Cc(1,Hq,1,14,"g",0),r.Cc(2,Wq,1,5,"g",1),r.Tb()),2&t&&(r.Eb("class",e.yAxisClassName)("transform",e.transform),r.Db(1),r.lc("ngIf",e.yScale),r.Db(1),r.lc("ngIf",e.showLabel))},directives:[lt,Az,Ez],encapsulation:2,changeDetection:0}),t})(),Dz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Ot]]}),t})();var Rz=function(t){return t[t.popover="popover"]="popover",t[t.tooltip="tooltip"]="tooltip",t}({}),Nz=function(t){return t[t.all="all"]="all",t[t.focus="focus"]="focus",t[t.mouseover="mouseover"]="mouseover",t}({});let Mz=(()=>{class t{constructor(t,e,n){this.tooltipService=t,this.viewContainerRef=e,this.renderer=n,this.tooltipCssClass="",this.tooltipTitle="",this.tooltipAppendToBody=!0,this.tooltipSpacing=10,this.tooltipDisabled=!1,this.tooltipShowCaret=!0,this.tooltipPlacement=uz.Top,this.tooltipAlignment=uz.Center,this.tooltipType=Rz.popover,this.tooltipCloseOnClickOutside=!0,this.tooltipCloseOnMouseLeave=!0,this.tooltipHideTimeout=300,this.tooltipShowTimeout=100,this.tooltipShowEvent=Nz.all,this.tooltipImmediateExit=!1,this.show=new r.n,this.hide=new r.n}get listensForFocus(){return this.tooltipShowEvent===Nz.all||this.tooltipShowEvent===Nz.focus}get listensForHover(){return this.tooltipShowEvent===Nz.all||this.tooltipShowEvent===Nz.mouseover}ngOnDestroy(){this.hideTooltip(!0)}onFocus(){this.listensForFocus&&this.showTooltip()}onBlur(){this.listensForFocus&&this.hideTooltip(!0)}onMouseEnter(){this.listensForHover&&this.showTooltip()}onMouseLeave(t){if(this.listensForHover&&this.tooltipCloseOnMouseLeave){if(clearTimeout(this.timeout),this.component&&this.component.instance.element.nativeElement.contains(t))return;this.hideTooltip(this.tooltipImmediateExit)}}onMouseClick(){this.listensForHover&&this.hideTooltip(!0)}showTooltip(t){if(this.component||this.tooltipDisabled)return;const e=t?0:this.tooltipShowTimeout+(navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?300:0);clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.tooltipService.destroyAll();const t=this.createBoundOptions();this.component=this.tooltipService.create(t),setTimeout(()=>{this.component&&this.addHideListeners(this.component.instance.element.nativeElement)},10),this.show.emit(!0)},e)}addHideListeners(t){this.mouseEnterContentEvent=this.renderer.listen(t,"mouseenter",()=>{clearTimeout(this.timeout)}),this.tooltipCloseOnMouseLeave&&(this.mouseLeaveContentEvent=this.renderer.listen(t,"mouseleave",()=>{this.hideTooltip(this.tooltipImmediateExit)})),this.tooltipCloseOnClickOutside&&(this.documentClickEvent=this.renderer.listen("window","click",e=>{t.contains(e.target)||this.hideTooltip()}))}hideTooltip(t=!1){if(!this.component)return;const e=()=>{this.mouseLeaveContentEvent&&this.mouseLeaveContentEvent(),this.mouseEnterContentEvent&&this.mouseEnterContentEvent(),this.documentClickEvent&&this.documentClickEvent(),this.hide.emit(!0),this.tooltipService.destroy(this.component),this.component=void 0};clearTimeout(this.timeout),t?e():this.timeout=setTimeout(e,this.tooltipHideTimeout)}createBoundOptions(){return{title:this.tooltipTitle,template:this.tooltipTemplate,host:this.viewContainerRef.element,placement:this.tooltipPlacement,alignment:this.tooltipAlignment,type:this.tooltipType,showCaret:this.tooltipShowCaret,cssClass:this.tooltipCssClass,spacing:this.tooltipSpacing,context:this.tooltipContext}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(pz),r.Pb(r.R),r.Pb(r.F))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngx-tooltip",""]],hostBindings:function(t,e){1&t&&r.bc("focusin",function(){return e.onFocus()})("blur",function(){return e.onBlur()})("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(t){return e.onMouseLeave(t.target)})("click",function(){return e.onMouseClick()})},inputs:{tooltipCssClass:"tooltipCssClass",tooltipTitle:"tooltipTitle",tooltipAppendToBody:"tooltipAppendToBody",tooltipSpacing:"tooltipSpacing",tooltipDisabled:"tooltipDisabled",tooltipShowCaret:"tooltipShowCaret",tooltipPlacement:"tooltipPlacement",tooltipAlignment:"tooltipAlignment",tooltipType:"tooltipType",tooltipCloseOnClickOutside:"tooltipCloseOnClickOutside",tooltipCloseOnMouseLeave:"tooltipCloseOnMouseLeave",tooltipHideTimeout:"tooltipHideTimeout",tooltipShowTimeout:"tooltipShowTimeout",tooltipShowEvent:"tooltipShowEvent",tooltipImmediateExit:"tooltipImmediateExit",tooltipTemplate:"tooltipTemplate",tooltipContext:"tooltipContext"},outputs:{show:"show",hide:"hide"}}),t})(),jz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[az,pz],imports:[[Ot]]}),t})();function Lz(t){return t instanceof Date?t.toLocaleDateString():t.toLocaleString()}const Fz={};function Uz(){let t=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4);return t=`a${t}`,Fz[t]?Uz():(Fz[t]=!0,t)}var Vz=function(t){return t.Vertical="vertical",t.Horizontal="horizontal",t}({});let Bz,qz=(()=>{class t{constructor(){this.orientation=Vz.Vertical}ngOnChanges(t){this.x1="0%",this.x2="0%",this.y1="0%",this.y2="0%",this.orientation===Vz.Horizontal?this.x2="100%":this.orientation===Vz.Vertical&&(this.y1="100%")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["g","ngx-charts-svg-linear-gradient",""]],inputs:{orientation:"orientation",name:"name",stops:"stops"},features:[r.Bb],attrs:Kq,decls:2,vars:6,consts:[[3,"id"],[3,"stop-color","stop-opacity",4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.ec(),r.Ub(0,"linearGradient",0),r.Cc(1,Gq,1,5,"stop",1),r.Tb()),2&t&&(r.lc("id",e.name),r.Eb("x1",e.x1)("y1",e.y1)("x2",e.x2)("y2",e.y2),r.Db(1),r.lc("ngForOf",e.stops))},directives:[ct],encapsulation:2,changeDetection:0}),t})();"undefined"!=typeof window?Bz=window:"undefined"!=typeof global&&(Bz=global);let zz=(()=>{class t{constructor(t){this.cd=t,this.horizontal=!1,this.labelClick=new r.n,this.labelActivate=new r.n,this.labelDeactivate=new r.n,this.legendEntries=[]}ngOnChanges(t){this.update()}update(){this.cd.markForCheck(),this.legendEntries=this.getLegendEntries()}getLegendEntries(){const t=[];for(const e of this.data){const n=Lz(e);-1===t.findIndex(t=>t.label===n)&&t.push({label:e,formattedLabel:n,color:this.colors.getColor(e)})}return t}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(e=>t.label===e.name)}activate(t){this.labelActivate.emit(t)}deactivate(t){this.labelDeactivate.emit(t)}trackBy(t,e){return e.label}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.h))},t.\u0275cmp=r.Jb({type:t,selectors:[["ngx-charts-legend"]],inputs:{horizontal:"horizontal",data:"data",title:"title",colors:"colors",height:"height",width:"width",activeEntries:"activeEntries"},outputs:{labelClick:"labelClick",labelActivate:"labelActivate",labelDeactivate:"labelDeactivate"},features:[r.Bb],decls:5,vars:9,consts:[["class","legend-title",4,"ngIf"],[1,"legend-wrap"],[1,"legend-labels"],["class","legend-label",4,"ngFor","ngForOf","ngForTrackBy"],[1,"legend-title"],[1,"legend-title-text"],[1,"legend-label"],[3,"label","formattedLabel","color","isActive","select","activate","deactivate"]],template:function(t,e){1&t&&(r.Ub(0,"div"),r.Cc(1,Yq,3,1,"header",0),r.Ub(2,"div",1),r.Ub(3,"ul",2),r.Cc(4,$q,2,4,"li",3),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Bc("width",e.width,"px"),r.Db(1),r.lc("ngIf",(null==e.title?null:e.title.length)>0),r.Db(2),r.Bc("max-height",e.height-45,"px"),r.Hb("horizontal-legend",e.horizontal),r.Db(1),r.lc("ngForOf",e.legendEntries)("ngForTrackBy",e.trackBy))},directives:function(){return[lt,ct,Hz]},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .legend-title{font-size:14px;font-weight:700;margin-bottom:5px;margin-left:10px;overflow:hidden;white-space:nowrap}.chart-legend li,.chart-legend ul{list-style:none;margin:0;padding:0}.chart-legend .horizontal-legend li{display:inline-block}.chart-legend .legend-wrap{width:calc(100% - 10px)}.chart-legend .legend-labels{background:rgba(0,0,0,.05);border-radius:3px;float:left;line-height:85%;list-style:none;overflow-x:hidden;overflow-y:auto;text-align:left;white-space:nowrap;width:100%}.chart-legend .legend-label{color:#afb7c8;cursor:pointer;font-size:90%;margin:8px}.chart-legend .legend-label:hover{color:#000;transition:.2s}.chart-legend .legend-label .active .legend-label-text{color:#000}.chart-legend .legend-label-color{border-radius:3px;color:#5b646b;display:inline-block;height:15px;margin-right:5px;width:15px}.chart-legend .legend-label-text{font-size:12px;line-height:15px;vertical-align:top;width:calc(100% - 20px)}.chart-legend .legend-label-text,.chart-legend .legend-title-text{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chart-legend .legend-title-text{line-height:16px;vertical-align:bottom}"],encapsulation:2,changeDetection:0}),t})(),Hz=(()=>{class t{constructor(){this.isActive=!1,this.select=new r.n,this.activate=new r.n,this.deactivate=new r.n,this.toggle=new r.n}get trimmedLabel(){return this.formattedLabel||"(empty)"}onMouseEnter(){this.activate.emit({name:this.label})}onMouseLeave(){this.deactivate.emit({name:this.label})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["ngx-charts-legend-entry"]],hostBindings:function(t,e){1&t&&r.bc("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{isActive:"isActive",color:"color",label:"label",formattedLabel:"formattedLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",toggle:"toggle"},decls:4,vars:6,consts:[["tabindex","-1",3,"title","click"],[1,"legend-label-color",3,"click"],[1,"legend-label-text"]],template:function(t,e){1&t&&(r.Ub(0,"span",0),r.bc("click",function(){return e.select.emit(e.formattedLabel)}),r.Ub(1,"span",1),r.bc("click",function(){return e.toggle.emit(e.formattedLabel)}),r.Tb(),r.Ub(2,"span",2),r.Ec(3),r.Tb(),r.Tb()),2&t&&(r.Hb("active",e.isActive),r.lc("title",e.formattedLabel),r.Db(1),r.Bc("background-color",e.color),r.Db(2),r.Gc(" ",e.trimmedLabel," "))},encapsulation:2,changeDetection:0}),t})(),Wz=(()=>{class t{constructor(){this.horizontal=!1}ngOnChanges(t){const e=this.gradientString(this.colors.range(),this.colors.domain());this.gradient=`linear-gradient(to ${this.horizontal?"right":"bottom"}, ${e})`}gradientString(t,e){e.push(1);const n=[];return t.reverse().forEach((t,r)=>{n.push(`${t} ${Math.round(100*e[r])}%`)}),n.join(", ")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["ngx-charts-scale-legend"]],inputs:{horizontal:"horizontal",valueRange:"valueRange",colors:"colors",height:"height",width:"width"},features:[r.Bb],decls:8,vars:10,consts:[[1,"scale-legend"],[1,"scale-legend-label"],[1,"scale-legend-wrap"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"span"),r.Ec(3),r.Tb(),r.Tb(),r.Qb(4,"div",2),r.Ub(5,"div",1),r.Ub(6,"span"),r.Ec(7),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Bc("height",e.horizontal?void 0:e.height,"px")("width",e.width,"px"),r.Hb("horizontal-legend",e.horizontal),r.Db(3),r.Fc(e.valueRange[1].toLocaleString()),r.Db(1),r.Bc("background",e.gradient),r.Db(3),r.Fc(e.valueRange[0].toLocaleString()))},styles:[".chart-legend{display:inline-block;padding:0;width:auto!important}.chart-legend .scale-legend{display:flex;flex-direction:column;text-align:center}.chart-legend .scale-legend-wrap{border-radius:5px;display:inline-block;flex:1;margin:0 auto;width:30px}.chart-legend .scale-legend-label{font-size:12px}.chart-legend .horizontal-legend.scale-legend{flex-direction:row}.chart-legend .horizontal-legend .scale-legend-wrap{height:30px;margin:0 16px;width:auto}"],encapsulation:2,changeDetection:0}),t})(),Kz=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Ot,Dz,jz],Ot,Dz,jz]}),t})(),Gz=[{name:"vivid",selectable:!0,group:yz.Ordinal,domain:["#647c8a","#3f51b5","#2196f3","#00b862","#afdf0a","#a7b61a","#f3e562","#ff9800","#ff5722","#ff4514"]},{name:"natural",selectable:!0,group:yz.Ordinal,domain:["#bf9d76","#e99450","#d89f59","#f2dfa7","#a5d7c6","#7794b1","#afafaf","#707160","#ba9383","#d9d5c3"]},{name:"cool",selectable:!0,group:yz.Ordinal,domain:["#a8385d","#7aa3e5","#a27ea8","#aae3f5","#adcded","#a95963","#8796c0","#7ed3ed","#50abcc","#ad6886"]},{name:"fire",selectable:!0,group:yz.Ordinal,domain:["#ff3d00","#bf360c","#ff8f00","#ff6f00","#ff5722","#e65100","#ffca28","#ffab00"]},{name:"solar",selectable:!0,group:yz.Linear,domain:["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00"]},{name:"air",selectable:!0,group:yz.Linear,domain:["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b"]},{name:"aqua",selectable:!0,group:yz.Linear,domain:["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064"]},{name:"flame",selectable:!1,group:yz.Ordinal,domain:["#A10A28","#D3342D","#EF6D49","#FAAD67","#FDDE90","#DBED91","#A9D770","#6CBA67","#2C9653","#146738"]},{name:"ocean",selectable:!1,group:yz.Ordinal,domain:["#1D68FB","#33C0FC","#4AFFFE","#AFFFFF","#FFFC63","#FDBD2D","#FC8A25","#FA4F1E","#FA141B","#BA38D1"]},{name:"forest",selectable:!1,group:yz.Ordinal,domain:["#55C22D","#C1F33D","#3CC099","#AFFFFF","#8CFC9D","#76CFFA","#BA60FB","#EE6490","#C42A1C","#FC9F32"]},{name:"horizon",selectable:!1,group:yz.Ordinal,domain:["#2597FB","#65EBFD","#99FDD0","#FCEE4B","#FEFCFA","#FDD6E3","#FCB1A8","#EF6F7B","#CB96E8","#EFDEE0"]},{name:"neons",selectable:!1,group:yz.Ordinal,domain:["#FF3333","#FF33FF","#CC33FF","#0000FF","#33CCFF","#33FFFF","#33FF66","#CCFF33","#FFCC00","#FF6600"]},{name:"picnic",selectable:!1,group:yz.Ordinal,domain:["#FAC51D","#66BD6D","#FAA026","#29BB9C","#E96B56","#55ACD2","#B7332F","#2C83C9","#9166B8","#92E7E8"]},{name:"night",selectable:!1,group:yz.Ordinal,domain:["#2B1B5A","#501356","#183356","#28203F","#391B3C","#1E2B3C","#120634","#2D0432","#051932","#453080","#75267D","#2C507D","#4B3880","#752F7D","#35547D"]},{name:"nightLights",selectable:!1,group:yz.Ordinal,domain:["#4e31a5","#9c25a7","#3065ab","#57468b","#904497","#46648b","#32118d","#a00fb3","#1052a2","#6e51bd","#b63cc3","#6c97cb","#8671c1","#b455be","#7496c3"]}];class Yz{constructor(t,e,n,r){"string"==typeof t&&(t=Gz.find(e=>e.name===t)),this.colorDomain=t.domain,this.scaleType=e,this.domain=n,this.customColors=r,this.scale=this.generateColorScheme(t,e,this.domain)}generateColorScheme(t,e,n){let r;if("string"==typeof t&&(t=Gz.find(e=>e.name===t)),e===yz.Quantile)r=$B().range(t.domain).domain(n);else if(e===yz.Ordinal)r=KB().range(t.domain).domain(n);else if(e===yz.Linear){const e=[...t.domain];1===e.length&&(e.push(e[0]),this.colorDomain=e);const n=HB(0,1,1/e.length);r=zB().domain(n).range(e)}return r}getColor(t){if(null==t)throw new Error("Value can not be null");if(this.scaleType===yz.Linear){const e=zB().domain(this.domain).range([0,1]);return this.scale(e(t))}{if("function"==typeof this.customColors)return this.customColors(t);const e=t.toString();let n;return this.customColors&&this.customColors.length>0&&(n=this.customColors.find(t=>t.name.toLowerCase()===e.toLowerCase())),n?n.value:this.scale(t)}}getLinearGradientStops(t,e){void 0===e&&(e=this.domain[0]);const n=zB().domain(this.domain).range([0,1]),r=GB().domain(this.colorDomain).range([0,1]),i=this.getColor(t),o=n(e),s=this.getColor(e),a=n(t);let c=1,u=o;const l=[];for(l.push({color:s,offset:o,originalOffset:o,opacity:1});u<a&&c<this.colorDomain.length;){const t=this.colorDomain[c],e=r(t);if(e<=o)c++;else{if(e.toFixed(4)>=(a-r.bandwidth()).toFixed(4))break;l.push({color:t,offset:e,opacity:1}),u=e,c++}}if(l[l.length-1].offset<100&&l.push({color:i,offset:a,opacity:1}),a===o)l[0].offset=0,l[1].offset=100;else if(100!==l[l.length-1].offset)for(const h of l)h.offset=(h.offset-o)/(a-o)*100;return l}}let $z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Kz]]}),t})();var Qz=function(t){return t.Vertical="vertical",t.Horizontal="horizontal",t}({});let Xz=(()=>{class t{constructor(t){this.roundEdges=!0,this.gradient=!1,this.offset=0,this.isActive=!1,this.animations=!0,this.noBarWhenZero=!0,this.select=new r.n,this.activate=new r.n,this.deactivate=new r.n,this.hasGradient=!1,this.hideBar=!1,this.element=t.nativeElement}ngOnChanges(t){t.roundEdges&&this.loadAnimation(),this.update()}update(){this.gradientId="grad"+Uz().toString(),this.gradientFill=`url(#${this.gradientId})`,this.gradient||this.stops?(this.gradientStops=this.getGradient(),this.hasGradient=!0):this.hasGradient=!1,this.updatePathEl(),this.checkToHideBar()}loadAnimation(){this.path=this.getStartingPath(),setTimeout(this.update.bind(this),100)}updatePathEl(){const t=(n=this.element,"string"==typeof n?new yL([[document.querySelector(n)]],[document.documentElement]):new yL([[n]],bL)).select(".bar"),e=this.getPath();var n;this.animations?t.transition().duration(500).attr("d",e):t.attr("d",e)}getGradient(){return this.stops?this.stops:[{offset:0,color:this.fill,opacity:this.getStartOpacity()},{offset:100,color:this.fill,opacity:1}]}getStartingPath(){if(!this.animations)return this.getPath();let t,e=this.getRadius();return this.roundEdges?this.orientation===Qz.Vertical?(e=Math.min(this.height,e),t=Iz(this.x,this.y+this.height,this.width,1,0,this.edges)):this.orientation===Qz.Horizontal&&(e=Math.min(this.width,e),t=Iz(this.x,this.y,1,this.height,0,this.edges)):this.orientation===Qz.Vertical?t=Iz(this.x,this.y+this.height,this.width,1,0,this.edges):this.orientation===Qz.Horizontal&&(t=Iz(this.x,this.y,1,this.height,0,this.edges)),t}getPath(){let t,e=this.getRadius();return this.roundEdges?"vertical"===this.orientation?(e=Math.min(this.height,e),t=Iz(this.x,this.y,this.width,this.height,e,this.edges)):"horizontal"===this.orientation&&(e=Math.min(this.width,e),t=Iz(this.x,this.y,this.width,this.height,e,this.edges)):t=Iz(this.x,this.y,this.width,this.height,e,this.edges),t}getRadius(){let t=0;return this.roundEdges&&this.height>5&&this.width>5&&(t=Math.floor(Math.min(5,this.height/2,this.width/2))),t}getStartOpacity(){return this.roundEdges?.2:.5}get edges(){let t=[!1,!1,!1,!1];return this.roundEdges&&(this.orientation===Qz.Vertical?t=this.data.value>0?[!0,!0,!1,!1]:[!1,!1,!0,!0]:this.orientation===Qz.Horizontal&&(t=this.data.value>0?[!1,!0,!1,!0]:[!0,!1,!0,!1])),t}onMouseEnter(){this.activate.emit(this.data)}onMouseLeave(){this.deactivate.emit(this.data)}checkToHideBar(){this.hideBar=this.noBarWhenZero&&(this.orientation===Qz.Vertical&&0===this.height||this.orientation===Qz.Horizontal&&0===this.width)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l))},t.\u0275cmp=r.Jb({type:t,selectors:[["g","ngx-charts-bar",""]],hostBindings:function(t,e){1&t&&r.bc("mouseenter",function(){return e.onMouseEnter()})("mouseleave",function(){return e.onMouseLeave()})},inputs:{roundEdges:"roundEdges",gradient:"gradient",offset:"offset",isActive:"isActive",animations:"animations",noBarWhenZero:"noBarWhenZero",fill:"fill",data:"data",width:"width",height:"height",x:"x",y:"y",orientation:"orientation",stops:"stops",ariaLabel:"ariaLabel"},outputs:{select:"select",activate:"activate",deactivate:"deactivate"},features:[r.Bb],attrs:Jq,decls:2,vars:8,consts:[[4,"ngIf"],["stroke","none","role","img","tabIndex","-1",1,"bar",3,"click"],["ngx-charts-svg-linear-gradient","",3,"orientation","name","stops"]],template:function(t,e){1&t&&(r.Cc(0,Zq,2,3,"defs",0),r.ec(),r.Ub(1,"path",1),r.bc("click",function(){return e.select.emit(e.data)}),r.Tb()),2&t&&(r.lc("ngIf",e.hasGradient),r.Db(1),r.Hb("active",e.isActive)("hidden",e.hideBar),r.Eb("d",e.path)("aria-label",e.ariaLabel)("fill",e.hasGradient?e.gradientFill:e.fill))},directives:[lt,qz],encapsulation:2,changeDetection:0}),t})(),Jz=(()=>{class t extends Tz{constructor(){super(...arguments),this.legend=!1,this.legendTitle="Legend",this.legendPosition=mz.Right,this.tooltipDisabled=!1,this.showGridLines=!0,this.activeEntries=[],this.trimXAxisTicks=!0,this.trimYAxisTicks=!0,this.rotateXAxisTicks=!0,this.maxXAxisTickLength=16,this.maxYAxisTickLength=16,this.barPadding=8,this.roundDomains=!1,this.roundEdges=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.activate=new r.n,this.deactivate=new r.n,this.margin=[10,20,10,20],this.xAxisHeight=0,this.yAxisWidth=0,this.dataLabelMaxHeight={negative:0,positive:0}}update(){super.update(),this.showDataLabel||(this.dataLabelMaxHeight={negative:0,positive:0}),this.margin=[10+this.dataLabelMaxHeight.positive,20,10+this.dataLabelMaxHeight.negative,20],this.dims=function({width:t,height:e,margins:n,showXAxis:r=!1,showYAxis:i=!1,xAxisHeight:o=0,yAxisWidth:s=0,showXLabel:a=!1,showYLabel:c=!1,showLegend:u=!1,legendType:l=yz.Ordinal,legendPosition:h=mz.Right,columns:d=12}){let f=n[3],p=t,m=e-n[0]-n[2];if(u&&h===mz.Right&&(d-=l===yz.Ordinal?2:1),p=p*d/12,p=p-n[1]-n[3],r&&(m-=5,m-=o,a)&&(m-=30),i&&(p-=5,p-=s,f+=s,f+=10,c)){const t=30;p-=t,f+=t}return p=Math.max(0,p),m=Math.max(0,m),{width:Math.floor(p),height:Math.floor(m),xOffset:Math.floor(f)}}({width:this.width,height:this.height,margins:this.margin,showXAxis:this.xAxis,showYAxis:this.yAxis,xAxisHeight:this.xAxisHeight,yAxisWidth:this.yAxisWidth,showXLabel:this.showXAxisLabel,showYLabel:this.showYAxisLabel,showLegend:this.legend,legendType:this.schemeType,legendPosition:this.legendPosition}),this.formatDates(),this.showDataLabel&&(this.dims.height-=this.dataLabelMaxHeight.negative),this.xScale=this.getXScale(),this.yScale=this.getYScale(),this.setColors(),this.legendOptions=this.getLegendOptions(),this.transform=`translate(${this.dims.xOffset} , ${this.margin[0]+this.dataLabelMaxHeight.negative})`}getXScale(){this.xDomain=this.getXDomain();const t=this.xDomain.length/(this.dims.width/this.barPadding+1);return GB().range([0,this.dims.width]).paddingInner(t).domain(this.xDomain)}getYScale(){this.yDomain=this.getYDomain();const t=zB().range([this.dims.height,0]).domain(this.yDomain);return this.roundDomains?t.nice():t}getXDomain(){return this.results.map(t=>t.label)}getYDomain(){const t=this.results.map(t=>t.value);let e=this.yScaleMin?Math.min(this.yScaleMin,...t):Math.min(0,...t);this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(e=Math.min(e,...this.yAxisTicks));let n=this.yScaleMax?Math.max(this.yScaleMax,...t):Math.max(0,...t);return this.yAxisTicks&&!this.yAxisTicks.some(isNaN)&&(n=Math.max(n,...this.yAxisTicks)),[e,n]}onClick(t){this.select.emit(t)}setColors(){let t;t=this.schemeType===yz.Ordinal?this.xDomain:this.yDomain,this.colors=new Yz(this.scheme,this.schemeType,t,this.customColors)}getLegendOptions(){const t={scaleType:this.schemeType,colors:void 0,domain:[],title:void 0,position:this.legendPosition};return t.scaleType===yz.Ordinal?(t.domain=this.xDomain,t.colors=this.colors,t.title=this.legendTitle):(t.domain=this.yDomain,t.colors=this.colors.scale),t}updateYAxisWidth({width:t}){this.yAxisWidth=t,this.update()}updateXAxisHeight({height:t}){this.xAxisHeight=t,this.update()}onDataLabelMaxHeightChanged(t){t.size.negative?this.dataLabelMaxHeight.negative=Math.max(this.dataLabelMaxHeight.negative,t.size.height):this.dataLabelMaxHeight.positive=Math.max(this.dataLabelMaxHeight.positive,t.size.height),t.index===this.results.length-1&&setTimeout(()=>this.update())}onActivate(t,e=!1){t=this.results.find(n=>e?n.label===t.name:n.name===t.name),this.activeEntries.findIndex(e=>e.name===t.name&&e.value===t.value&&e.series===t.series)>-1||(this.activeEntries=[t,...this.activeEntries],this.activate.emit({value:t,entries:this.activeEntries}))}onDeactivate(t,e=!1){t=this.results.find(n=>e?n.label===t.name:n.name===t.name);const n=this.activeEntries.findIndex(e=>e.name===t.name&&e.value===t.value&&e.series===t.series);this.activeEntries.splice(n,1),this.activeEntries=[...this.activeEntries],this.deactivate.emit({value:t,entries:this.activeEntries})}}return t.\u0275fac=function(e){return Zz(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["ngx-charts-bar-vertical"]],contentQueries:function(t,e,n){if(1&t&&r.Ib(n,Qq,1),2&t){let t;r.sc(t=r.cc())&&(e.tooltipTemplate=t.first)}},inputs:{legend:"legend",legendTitle:"legendTitle",legendPosition:"legendPosition",tooltipDisabled:"tooltipDisabled",showGridLines:"showGridLines",activeEntries:"activeEntries",trimXAxisTicks:"trimXAxisTicks",trimYAxisTicks:"trimYAxisTicks",rotateXAxisTicks:"rotateXAxisTicks",maxXAxisTickLength:"maxXAxisTickLength",maxYAxisTickLength:"maxYAxisTickLength",barPadding:"barPadding",roundDomains:"roundDomains",roundEdges:"roundEdges",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",xAxis:"xAxis",yAxis:"yAxis",showXAxisLabel:"showXAxisLabel",showYAxisLabel:"showYAxisLabel",xAxisLabel:"xAxisLabel",yAxisLabel:"yAxisLabel",gradient:"gradient",schemeType:"schemeType",xAxisTickFormatting:"xAxisTickFormatting",yAxisTickFormatting:"yAxisTickFormatting",xAxisTicks:"xAxisTicks",yAxisTicks:"yAxisTicks",yScaleMax:"yScaleMax",yScaleMin:"yScaleMin",dataLabelFormatting:"dataLabelFormatting"},outputs:{activate:"activate",deactivate:"deactivate"},features:[r.Ab],decls:5,vars:25,consts:[[3,"view","showLegend","legendOptions","activeEntries","animations","legendLabelClick","legendLabelActivate","legendLabelDeactivate"],[1,"bar-chart","chart"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged",4,"ngIf"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged",4,"ngIf"],["ngx-charts-series-vertical","",3,"xScale","yScale","colors","series","dims","gradient","tooltipDisabled","tooltipTemplate","showDataLabel","dataLabelFormatting","activeEntries","roundEdges","animations","noBarWhenZero","activate","deactivate","select","dataLabelHeightChanged"],["ngx-charts-x-axis","",3,"xScale","dims","showLabel","labelText","trimTicks","rotateTicks","maxTickLength","tickFormatting","ticks","xAxisOffset","dimensionsChanged"],["ngx-charts-y-axis","",3,"yScale","dims","showGridLines","showLabel","labelText","trimTicks","maxTickLength","tickFormatting","ticks","dimensionsChanged"]],template:function(t,e){1&t&&(r.Ub(0,"ngx-charts-chart",0),r.bc("legendLabelClick",function(t){return e.onClick(t)})("legendLabelActivate",function(t){return e.onActivate(t,!0)})("legendLabelDeactivate",function(t){return e.onDeactivate(t,!0)}),r.ec(),r.Ub(1,"g",1),r.Cc(2,tz,1,10,"g",2),r.Cc(3,ez,1,9,"g",3),r.Ub(4,"g",4),r.bc("activate",function(t){return e.onActivate(t)})("deactivate",function(t){return e.onDeactivate(t)})("select",function(t){return e.onClick(t)})("dataLabelHeightChanged",function(t){return e.onDataLabelMaxHeightChanged(t)}),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.lc("view",r.qc(22,Xq,e.width,e.height))("showLegend",e.legend)("legendOptions",e.legendOptions)("activeEntries",e.activeEntries)("animations",e.animations),r.Db(1),r.Eb("transform",e.transform),r.Db(1),r.lc("ngIf",e.xAxis),r.Db(1),r.lc("ngIf",e.yAxis),r.Db(1),r.lc("xScale",e.xScale)("yScale",e.yScale)("colors",e.colors)("series",e.results)("dims",e.dims)("gradient",e.gradient)("tooltipDisabled",e.tooltipDisabled)("tooltipTemplate",e.tooltipTemplate)("showDataLabel",e.showDataLabel)("dataLabelFormatting",e.dataLabelFormatting)("activeEntries",e.activeEntries)("roundEdges",e.roundEdges)("animations",e.animations)("noBarWhenZero",e.noBarWhenZero))},directives:function(){return[_z,lt,nH,kz,Pz]},styles:[".ngx-charts{float:left;overflow:visible}.ngx-charts .arc,.ngx-charts .bar,.ngx-charts .circle{cursor:pointer}.ngx-charts .arc.active,.ngx-charts .arc:hover,.ngx-charts .bar.active,.ngx-charts .bar:hover,.ngx-charts .card.active,.ngx-charts .card:hover,.ngx-charts .cell.active,.ngx-charts .cell:hover{opacity:.8;transition:opacity .1s ease-in-out}.ngx-charts .arc:focus,.ngx-charts .bar:focus,.ngx-charts .card:focus,.ngx-charts .cell:focus{outline:none}.ngx-charts .arc.hidden,.ngx-charts .bar.hidden,.ngx-charts .card.hidden,.ngx-charts .cell.hidden{display:none}.ngx-charts g:focus{outline:none}.ngx-charts .area-series.inactive,.ngx-charts .line-series-range.inactive,.ngx-charts .line-series.inactive,.ngx-charts .polar-series-area.inactive,.ngx-charts .polar-series-path.inactive{opacity:.2;transition:opacity .1s ease-in-out}.ngx-charts .line-highlight{display:none}.ngx-charts .line-highlight.active{display:block}.ngx-charts .area{opacity:.6}.ngx-charts .circle:hover{cursor:pointer}.ngx-charts .label{font-size:12px;font-weight:400}.ngx-charts .tooltip-anchor{fill:#000}.ngx-charts .gridline-path{fill:none;stroke:#ddd;stroke-width:1}.ngx-charts .refline-path{stroke:#a8b2c7;stroke-dasharray:5;stroke-dashoffset:5;stroke-width:1}.ngx-charts .refline-label{font-size:9px}.ngx-charts .reference-area{fill:#000;fill-opacity:.05}.ngx-charts .gridline-path-dotted{fill:none;stroke:#ddd;stroke-dasharray:1,20;stroke-dashoffset:3;stroke-width:1}.ngx-charts .grid-panel rect{fill:none}.ngx-charts .grid-panel.odd rect{fill:rgba(0,0,0,.05)}"],encapsulation:2,changeDetection:0}),t})();const Zz=r.Wb(Jz);var tH=function(t){return t.Standard="standard",t.Normalized="normalized",t.Stacked="stacked",t}({}),eH=function(t){return t.positive="positive",t.negative="negative",t}({});let nH=(()=>{class t{constructor(){this.type=tH.Standard,this.tooltipDisabled=!1,this.animations=!0,this.showDataLabel=!1,this.noBarWhenZero=!0,this.select=new r.n,this.activate=new r.n,this.deactivate=new r.n,this.dataLabelHeightChanged=new r.n,this.barsForDataLabels=[]}ngOnChanges(t){this.update()}update(){let t;this.updateTooltipSettings(),this.series.length&&(t=this.xScale.bandwidth()),t=Math.round(t);const e=Math.max(this.yScale.domain()[0],0),n={[eH.positive]:0,[eH.negative]:0};let r,i=eH.positive;this.type===tH.Normalized&&(r=this.series.map(t=>t.value).reduce((t,e)=>t+e,0)),this.bars=this.series.map((o,s)=>{let a=o.value;const c=this.getLabel(o),u=Lz(c);i=a>0?eH.positive:eH.negative;const l={value:a,label:c,roundEdges:this.roundEdges,data:o,width:t,formattedLabel:u,height:0,x:0,y:0};if(this.type===tH.Standard)l.height=Math.abs(this.yScale(a)-this.yScale(e)),l.x=this.xScale(c),l.y=this.yScale(a<0?0:a);else if(this.type===tH.Stacked){const t=n[i],e=t+a;n[i]+=a,l.height=this.yScale(t)-this.yScale(e),l.x=0,l.y=this.yScale(e),l.offset0=t,l.offset1=e}else if(this.type===tH.Normalized){let t=n[i],e=t+a;n[i]+=a,r>0?(t=100*t/r,e=100*e/r):(t=0,e=0),l.height=this.yScale(t)-this.yScale(e),l.x=0,l.y=this.yScale(e),l.offset0=t,l.offset1=e,a=(e-t).toFixed(2)+"%"}this.colors.scaleType===yz.Ordinal?l.color=this.colors.getColor(c):this.type===tH.Standard?(l.color=this.colors.getColor(a),l.gradientStops=this.colors.getLinearGradientStops(a)):(l.color=this.colors.getColor(l.offset1),l.gradientStops=this.colors.getLinearGradientStops(l.offset1,l.offset0));let h=u;return l.ariaLabel=u+" "+a.toLocaleString(),this.seriesName&&(h=`${this.seriesName} \u2022 ${u}`,l.data.series=this.seriesName,l.ariaLabel=this.seriesName+" "+l.ariaLabel),l.tooltipText=this.tooltipDisabled?void 0:`\n        <span class="tooltip-label">${function(t){return t.toLocaleString().replace(/[&'`"<>]/g,t=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[t]))}(h)}</span>\n        <span class="tooltip-val">${this.dataLabelFormatting?this.dataLabelFormatting(a):a.toLocaleString()}</span>\n      `,l}),this.updateDataLabels()}updateDataLabels(){if(this.type===tH.Stacked){this.barsForDataLabels=[];const t={};t.series=this.seriesName;const e=this.series.map(t=>t.value).reduce((t,e)=>e>0?t+e:t,0),n=this.series.map(t=>t.value).reduce((t,e)=>e<0?t+e:t,0);t.total=e+n,t.x=0,t.y=0,t.height=this.yScale(t.total>0?e:n),t.width=this.xScale.bandwidth(),this.barsForDataLabels.push(t)}else this.barsForDataLabels=this.series.map(t=>{const e={};return e.series=this.seriesName?this.seriesName:t.label,e.total=t.value,e.x=this.xScale(t.label),e.y=this.yScale(0),e.height=this.yScale(e.total)-this.yScale(0),e.width=this.xScale.bandwidth(),e})}updateTooltipSettings(){this.tooltipPlacement=this.tooltipDisabled?void 0:uz.Top,this.tooltipType=this.tooltipDisabled?void 0:Rz.tooltip}isActive(t){return!!this.activeEntries&&void 0!==this.activeEntries.find(e=>t.name===e.name&&t.series===e.series)}onClick(t){this.select.emit(t)}getLabel(t){return t.label?t.label:t.name}trackBy(t,e){return e.label}trackDataLabelBy(t,e){return t+"#"+e.series+"#"+e.total}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["g","ngx-charts-series-vertical",""]],inputs:{type:"type",tooltipDisabled:"tooltipDisabled",animations:"animations",showDataLabel:"showDataLabel",noBarWhenZero:"noBarWhenZero",dims:"dims",series:"series",xScale:"xScale",yScale:"yScale",colors:"colors",gradient:"gradient",activeEntries:"activeEntries",seriesName:"seriesName",tooltipTemplate:"tooltipTemplate",roundEdges:"roundEdges",dataLabelFormatting:"dataLabelFormatting"},outputs:{select:"select",activate:"activate",deactivate:"deactivate",dataLabelHeightChanged:"dataLabelHeightChanged"},features:[r.Bb],attrs:nz,decls:2,vars:3,consts:[["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["ngx-charts-bar","","ngx-tooltip","",3,"width","height","x","y","fill","stops","data","orientation","roundEdges","gradient","ariaLabel","isActive","tooltipDisabled","tooltipPlacement","tooltipType","tooltipTitle","tooltipTemplate","tooltipContext","noBarWhenZero","animations","select","activate","deactivate"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged",4,"ngFor","ngForOf","ngForTrackBy"],["ngx-charts-bar-label","",3,"barX","barY","barWidth","barHeight","value","valueFormatting","orientation","dimensionsChanged"]],template:function(t,e){1&t&&(r.Cc(0,rz,1,22,"g",0),r.Cc(1,oz,2,2,"g",1)),2&t&&(r.lc("ngForOf",e.bars)("ngForTrackBy",e.trackBy),r.Db(1),r.lc("ngIf",e.showDataLabel))},directives:function(){return[ct,lt,Xz,Mz,rH]},encapsulation:2,data:{animation:[ZS("animationState",[oO(":leave",[nO({opacity:1}),tO(500,nO({opacity:0}))])])]},changeDetection:0}),t})(),rH=(()=>{class t{constructor(t){this.dimensionsChanged=new r.n,this.horizontalPadding=2,this.verticalPadding=5,this.element=t.nativeElement}ngOnChanges(t){this.update()}getSize(){return{height:this.element.getBoundingClientRect().height,width:this.element.getBoundingClientRect().width,negative:this.value<0}}ngAfterViewInit(){this.dimensionsChanged.emit(this.getSize())}update(){this.formatedValue=this.valueFormatting?this.valueFormatting(this.value):Lz(this.value),"horizontal"===this.orientation?(this.x=this.barX+this.barWidth,this.value<0?(this.x=this.x-this.horizontalPadding,this.textAnchor="end"):(this.x=this.x+this.horizontalPadding,this.textAnchor="start"),this.y=this.barY+this.barHeight/2):(this.x=this.barX+this.barWidth/2,this.y=this.barY+this.barHeight,this.value<0?(this.y=this.y+this.verticalPadding,this.textAnchor="end"):(this.y=this.y-this.verticalPadding,this.textAnchor="start"),this.transform=`rotate(-45, ${this.x} , ${this.y})`)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l))},t.\u0275cmp=r.Jb({type:t,selectors:[["g","ngx-charts-bar-label",""]],inputs:{value:"value",valueFormatting:"valueFormatting",barX:"barX",barY:"barY",barWidth:"barWidth",barHeight:"barHeight",orientation:"orientation"},outputs:{dimensionsChanged:"dimensionsChanged"},features:[r.Bb],attrs:sz,decls:2,vars:5,consts:[["alignment-baseline","middle",1,"textDataLabel"]],template:function(t,e){1&t&&(r.ec(),r.Ub(0,"text",0),r.Ec(1),r.Tb()),2&t&&(r.Eb("text-anchor",e.textAnchor)("transform",e.transform)("x",e.x)("y",e.y),r.Db(1),r.Gc(" ",e.formatedValue," "))},styles:[".textDataLabel[_ngcontent-%COMP%]{font-size:11px}"],changeDetection:0}),t})(),iH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Kz]]}),t})(),oH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Kz]]}),t})(),sH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Kz]]}),t})(),aH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Kz]]}),t})();Math;let cH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Kz]]}),t})(),uH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Kz,cH,aH]]}),t})(),lH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Kz]]}),t})(),hH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Kz]]}),t})(),dH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Kz,cH,iH]]}),t})(),fH=(()=>{class t{constructor(){"undefined"!=typeof SVGElement&&void 0===SVGElement.prototype.contains&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[Kz,$z,iH,oH,sH,aH,uH,lH,cH,hH,dH]}),t})();function pH(t,e){1&t&&(r.Ub(0,"div",2),r.Ub(1,"strong"),r.Ec(2,"There are no reviews..."),r.Tb(),r.Tb())}function mH(t,e){if(1&t&&(r.Ub(0,"div",3),r.Ub(1,"div",4),r.Qb(2,"ngx-charts-bar-vertical",5),r.Tb(),r.Tb()),2&t){const t=r.fc();r.Db(2),r.lc("scheme",t.colorScheme)("results",t.chartItems)("gradient",!0)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxisLabel",t.xAxisLabel)("yAxisLabel",t.yAxisLabel)("showGridLines",!0)}}let gH=(()=>{class t{constructor(){this.chartItems=[],this.xAxisLabel="Stars",this.yAxisLabel="No of reviews",this.reviewError=!1,this.colorScheme={domain:["#F3A807","#F3A807","#F3A807"]}}ngOnInit(){if(this.movie&&this.movie.reviews&&this.movie.reviews.length>0)for(let t=1;t<=10;t++){const e=this.movie.reviews.filter(e=>e.rating===t).length;this.chartItems.push({name:t+" stars",value:e})}else this.reviewError=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-movie-details-chart-tab"]],inputs:{movie:"movie"},decls:2,vars:2,consts:[["class","noReviews",4,"ngIf"],["class","placeholder",4,"ngIf"],[1,"noReviews"],[1,"placeholder"],[1,"chart"],[3,"scheme","results","gradient","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","showGridLines"]],template:function(t,e){1&t&&(r.Cc(0,pH,3,0,"div",0),r.Cc(1,mH,3,10,"div",1)),2&t&&(r.lc("ngIf",e.reviewError),r.Db(1),r.lc("ngIf",!e.reviewError))},directives:[lt,Jz],styles:[".placeholder[_ngcontent-%COMP%]{display:flex;justify-content:center;height:30rem}.chart[_ngcontent-%COMP%]{height:100%;width:75%}.noReviews[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;margin-top:1rem}"]}),t})();function vH(t,e){1&t&&(r.Ub(0,"div",3),r.Ub(1,"strong"),r.Ec(2,"The person has not acted / directed in any movie..."),r.Tb(),r.Tb())}function bH(t,e){1&t&&(r.Ub(0,"div",4),r.Ec(1,"Acted"),r.Tb())}function yH(t,e){if(1&t&&(r.Ub(0,"div",5),r.Ub(1,"div",6),r.Qb(2,"ngx-charts-bar-vertical",7),r.Tb(),r.Tb()),2&t){const t=r.fc();r.Db(2),r.lc("scheme",t.colorScheme)("results",t.chartItemsActor)("gradient",!0)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxisLabel",t.xAxisLabel)("yAxisLabel",t.yAxisLabel)("showGridLines",!0)}}function _H(t,e){1&t&&(r.Ub(0,"div",4),r.Ec(1,"Directed"),r.Tb())}function wH(t,e){if(1&t&&(r.Ub(0,"div",5),r.Ub(1,"div",6),r.Qb(2,"ngx-charts-bar-vertical",7),r.Tb(),r.Tb()),2&t){const t=r.fc();r.Db(2),r.lc("scheme",t.colorScheme)("results",t.chartItemsDirector)("gradient",!0)("xAxis",!0)("yAxis",!0)("showXAxisLabel",!0)("showYAxisLabel",!0)("xAxisLabel",t.xAxisLabel)("yAxisLabel",t.yAxisLabel)("showGridLines",!0)}}let CH=(()=>{class t{constructor(){this.chartItemsActor=[],this.chartItemsDirector=[],this.xAxisLabel="Movies",this.yAxisLabel="Rating",this.colorScheme={domain:["#F3A807","#F3A807","#F3A807"]}}ngOnInit(){this.errorActor=this.crewMember&&this.crewMember.actedInMovies&&this.crewMember.actedInMovies.length>0,this.errorDirector=this.crewMember&&this.crewMember.directedMovies&&this.crewMember.directedMovies.length>0,this.errorActor&&this.crewMember.actedInMovies.forEach(t=>{t.totalRatings&&t.totalRatings.averageRating&&this.chartItemsActor.push({name:t.title,value:t.totalRatings.averageRating})}),this.errorDirector&&this.crewMember.directedMovies.forEach(t=>{t.totalRatings&&t.totalRatings.averageRating&&this.chartItemsDirector.push({name:t.title,value:t.totalRatings.averageRating})})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-crew-stats-tab"]],inputs:{crewMember:"crewMember"},decls:5,vars:5,consts:[["class","noMovies",4,"ngIf"],["class","title has-text-centered",4,"ngIf"],["class","placeholder",4,"ngIf"],[1,"noMovies"],[1,"title","has-text-centered"],[1,"placeholder"],[1,"chart"],[3,"scheme","results","gradient","xAxis","yAxis","showXAxisLabel","showYAxisLabel","xAxisLabel","yAxisLabel","showGridLines"]],template:function(t,e){1&t&&(r.Cc(0,vH,3,0,"div",0),r.Cc(1,bH,2,0,"div",1),r.Cc(2,yH,3,10,"div",2),r.Cc(3,_H,2,0,"div",1),r.Cc(4,wH,3,10,"div",2)),2&t&&(r.lc("ngIf",!e.errorActor&&!e.errorDirector),r.Db(1),r.lc("ngIf",e.errorActor),r.Db(1),r.lc("ngIf",e.errorActor),r.Db(1),r.lc("ngIf",e.errorDirector),r.Db(1),r.lc("ngIf",e.errorDirector))},directives:[lt,Jz],styles:[".noMovies[_ngcontent-%COMP%]{border:1px solid #000;text-align:center;margin-top:1rem}.placeholder[_ngcontent-%COMP%]{display:flex;justify-content:center;height:30rem}.chart[_ngcontent-%COMP%]{height:100%;width:75%}"]}),t})(),TH=(()=>{class t{constructor(){this.tabs=[{title:gO.MOVIE_PLOT,active:!0,icon:"./assets/plot-icon.png",orderNumber:0,component:nk},{title:gO.MOVIE_DETAILS,active:!1,icon:"./assets/details-icon.png",orderNumber:1,component:SM},{title:gO.MOVIE_CREW,active:!1,icon:"./assets/crew-icon.png",orderNumber:2,component:PM},{title:gO.MOVIE_STATS,active:!1,icon:"./assets/stats-icon.png",orderNumber:4,component:gH},{title:gO.MOVIE_REVIEWS,active:!1,icon:"./assets/comment-icon.png",orderNumber:3,component:dM}],this.crewTabs=[{title:gO.CREW_DESCRIPTION,active:!0,icon:"./assets/user-icon.png",orderNumber:0,component:jM},{title:gO.CREW_DIRECTOR,active:!1,icon:"./assets/crew-icon.png",orderNumber:1,component:rj},{title:gO.CREW_ACTOR,active:!1,icon:"./assets/actor.png",orderNumber:2,component:aj},{title:gO.CREW_STATS,active:!1,icon:"./assets/stats-icon.png",orderNumber:3,component:CH}]}tabs$(){return Object(le.a)(this.tabs.sort((t,e)=>t.orderNumber<e.orderNumber?-1:t.orderNumber>e.orderNumber?1:0))}crewTabs$(){return Object(le.a)(this.crewTabs.sort((t,e)=>t.orderNumber<e.orderNumber?-1:t.orderNumber>e.orderNumber?1:0))}getTabByOrderNumber(t){let e;return this.tabs$().subscribe(n=>{e=n.find(e=>e.orderNumber===t)}),e}getCrewTabByOrderNumber(t){let e;return this.crewTabs$().subscribe(n=>{e=n.find(e=>e.orderNumber===t)}),e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const EH=["tabContent"];function SH(t,e){if(1&t){const t=r.Vb();r.Ub(0,"li",4),r.bc("click",function(){r.wc(t);const n=e.$implicit;return r.fc().changeTab(n.orderNumber)}),r.Ub(1,"div"),r.Qb(2,"img",5),r.Tb(),r.Ub(3,"div"),r.Ec(4),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit;r.Hb("active",t.active),r.Db(2),r.lc("src",t.icon,r.zc),r.Db(2),r.Gc(" ",t.title," ")}}function OH(t,e){}let xH=(()=>{class t{constructor(t,e,n){this.resolver=t,this.tabsProvider=e,this.changeDetectorReference=n,this.tabs=[],e.tabs$().subscribe(t=>this.tabs=t)}ngAfterViewInit(){const t=this.tabsProvider.getTabByOrderNumber(0),e=this.resolver.resolveComponentFactory(t.component);this.componentRef=this.container.createComponent(e),this.componentRef.instance.movie=this.movie,this.changeDetectorReference.detectChanges()}getTabs(){return this.tabs}changeTab(t){this.tabs=this.tabs.map((e,n)=>Object.assign(Object.assign({},e),n===t?{active:!0}:{active:!1})),this.container.clear();const e=this.tabsProvider.getTabByOrderNumber(t),n=this.resolver.resolveComponentFactory(e.component);this.componentRef=this.container.createComponent(n),this.componentRef.instance.movie=this.movie}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.j),r.Pb(TH),r.Pb(r.h))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-movie-details-tabs"]],viewQuery:function(t,e){if(1&t&&r.Ic(EH,1,r.R),2&t){let t;r.sc(t=r.cc())&&(e.container=t.first)}},inputs:{movie:"movie"},decls:6,vars:1,consts:[[1,"tabs"],[1,"selection"],["class","tab",3,"active","click",4,"ngFor","ngForOf"],["tabContent",""],[1,"tab",3,"click"],[1,"icon",3,"src"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"ul"),r.Cc(3,SH,5,4,"li",2),r.Tb(),r.Tb(),r.Cc(4,OH,0,0,"ng-template",null,3,r.Dc),r.Tb()),2&t&&(r.Db(3),r.lc("ngForOf",e.getTabs()))},directives:[ct],styles:[".tabs[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;padding:3rem;margin:3rem auto;background:#fff;border-radius:.25rem;white-space:pre-line}.tab-content[_ngcontent-%COMP%]{margin-top:1rem}.tab[_ngcontent-%COMP%]{display:inline-block;justify-content:center;align-items:center;margin:0 0 -1px;padding:1rem 1.5rem;text-align:center;border:1px solid transparent;cursor:pointer}.icon[_ngcontent-%COMP%]{margin-right:.6rem}.tab.active[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;border-top:1px solid #ddd;border-color:#000 #ddd #fff;border-style:solid;border-width:2px 1px 1px}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})();function kH(t,e){if(1&t&&(r.Ub(0,"div",8),r.Ub(1,"div",9),r.Ub(2,"div"),r.Ec(3),r.Tb(),r.Ub(4,"div"),r.Ub(5,"figure",10),r.Qb(6,"img",11),r.Tb(),r.Tb(),r.Tb(),r.Ub(7,"div",12),r.Ec(8),r.Tb(),r.Tb()),2&t){const t=r.fc().ngIf,e=r.fc();r.Db(3),r.Gc("Average Rating: ",t.totalRatings.averageRating,"/10"),r.Db(3),r.mc("src",e.getStarURL(),r.zc),r.Db(2),r.Gc("Total votes: ",t.totalRatings.votes,"")}}function IH(t,e){if(1&t){const t=r.Vb();r.Ub(0,"section",1),r.Ub(1,"div",2),r.Ec(2),r.Tb(),r.Cc(3,kH,9,3,"div",3),r.Ub(4,"div",4),r.Ub(5,"iframe",5),r.bc("load",function(){return r.wc(t),r.fc().onLoad()}),r.Tb(),r.Tb(),r.Ub(6,"div",6),r.Qb(7,"app-movie-details-tabs",7),r.Tb(),r.Tb()}if(2&t){const t=e.ngIf,n=r.fc();r.Db(2),r.Fc(t.title),r.Db(1),r.lc("ngIf",n.ratingError),r.Db(2),r.lc("src",n.getSecureMovieURL(),r.yc),r.Db(2),r.lc("movie",t)}}let AH=(()=>{class t{constructor(t,e,n,r){this.route=t,this.movieService=e,this.overlayService=n,this.sanitizer=r,this.ratingError=!1}ngOnInit(){this.overlayService.getSpinner$().next(!0),this.movie$=this.route.paramMap.pipe(_n(t=>this.movieService.getMovie$(t.get(gO.MOVIE_URL_PARAMETER)))),this.movie$.subscribe(t=>{t&&(this.secureMovieURL=this.secureYoutubeTrailerURL(null==t?void 0:t.trailerYoutubeVideoId),t.totalRatings&&t.totalRatings.averageRating&&t.totalRatings.votes&&(this.ratingError=!0))})}getMovie$(){return this.movie$}onLoad(){this.overlayService.getSpinner$().next(!1)}secureYoutubeTrailerURL(t){return this.sanitizer.bypassSecurityTrustResourceUrl(gO.YTB_IFRAME_BASE_URL+t)}getSecureMovieURL(){return this.secureMovieURL}getStarURL(){return gO.STAR}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ri),r.Pb(Zx),r.Pb(Qx),r.Pb(ie))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-details-page"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"title","has-text-centered"],["class","box has-background-black has-text-white rating-container",4,"ngIf"],[1,"block-iframe"],["allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",1,"has-text-centered",3,"src","load"],[1,"block-tabs"],[1,"tabs",3,"movie"],[1,"box","has-background-black","has-text-white","rating-container"],[1,"star"],[1,"image","is-16x16"],[3,"src"],[1,"has-text-centered"]],template:function(t,e){1&t&&(r.Cc(0,IH,8,4,"section",0),r.gc(1,"async")),2&t&&r.lc("ngIf",r.hc(1,1,e.getMovie$()))},directives:[lt,xH],pipes:[Tt],styles:["iframe[_ngcontent-%COMP%]{width:70%;height:100%;border-radius:3rem}.block-iframe[_ngcontent-%COMP%]{align-items:center;height:30rem;margin-top:1rem}.block-iframe[_ngcontent-%COMP%], .block-tabs[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}.tabs[_ngcontent-%COMP%]{width:90%;height:100%}.title[_ngcontent-%COMP%]{color:#fff;cursor:default;margin-top:1rem}.rating-container[_ngcontent-%COMP%]{width:30%;margin:auto}.rating-container[_ngcontent-%COMP%], .star[_ngcontent-%COMP%]{align-items:center;justify-content:center}.star[_ngcontent-%COMP%]{display:flex}.box[_ngcontent-%COMP%]{cursor:default}"]}),t})(),PH=(()=>{class t{constructor(){}validateEmail(t){return!!t&&new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$").test(t)}validatePassword(t){return!!t&&t.length>5}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function DH(t,e){1&t&&(r.Ub(0,"div"),r.Ec(1,"Email is incorrect."),r.Tb())}function RH(t,e){1&t&&(r.Ub(0,"div"),r.Ec(1,"Password should be more than 5 characters. "),r.Tb())}function NH(t,e){if(1&t&&(r.Ub(0,"div",23),r.Cc(1,DH,2,0,"div",24),r.Cc(2,RH,2,0,"div",24),r.Tb()),2&t){const t=r.fc();r.Db(1),r.lc("ngIf",t.emailError),r.Db(1),r.lc("ngIf",t.passwordError)}}let MH=(()=>{class t{constructor(t,e,n){this.authService=t,this.fb=e,this.validation=n,this.userIcon=Ko.USER_ICON,this.passwordIcon=Ko.PASSWORD_ICON,this.googleIcon=Ko.GOOGLE_ICON,this.appIcon=Ko.APP_ICON,this.emailError=!1,this.passwordError=!1,this.signUpPath=Ko.SIGN_UP_URL,this.forgotPasswordPath=Ko.FORGOT_PASSWORD_URL}ngOnInit(){}signInWithOneAccount(){this.authService.SignIn("test@email.com","123456")}validateEmail(){return this.validation.validateEmail(this.email)}validatePassword(){return this.validation.validatePassword(this.password)}loginValidator(){return this.validatePassword()&&this.validateEmail()}onSubmit(){this.loginValidator()?(this.passwordError=!1,this.emailError=!1,this.authService.SignIn(this.email,this.password)):(this.emailError=!this.validateEmail(),this.passwordError=!this.validatePassword())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(KS),r.Pb(XR),r.Pb(PH))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-sign-in"]],decls:43,vars:9,consts:[[1,"hero-body"],[1,"container"],[1,"columns","is-centered"],[1,"column","is-5-tablet","is-4-desktop","is-3-widescreen"],[1,"box"],[1,"title"],[1,"icon-title"],[3,"src"],[1,"field"],[1,"label"],[1,"control","has-icons-left"],["type","email","placeholder","Email",1,"input",3,"ngModel","ngModelChange"],[1,"icon","is-left"],[1,"icon-dim",3,"src"],["type","password","placeholder","Password",1,"input",3,"ngModel","ngModelChange"],["class","invalid",4,"ngIf"],[1,"login-opt"],[1,"button-style"],[1,"button",3,"click"],[1,"icon-dim-google",3,"src"],[1,"options"],[3,"routerLink"],[1,"redirect",3,"routerLink"],[1,"invalid"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Ub(3,"div",3),r.Ub(4,"div",4),r.Ub(5,"div",5),r.Ec(6," Movie Finder Login"),r.Tb(),r.Ub(7,"div",6),r.Qb(8,"img",7),r.Tb(),r.Ub(9,"div",8),r.Ub(10,"label",9),r.Ec(11,"Email"),r.Tb(),r.Ub(12,"div",10),r.Ub(13,"input",11),r.bc("ngModelChange",function(t){return e.email=t}),r.Tb(),r.Ub(14,"div",12),r.Qb(15,"img",13),r.Tb(),r.Tb(),r.Tb(),r.Ub(16,"div",8),r.Ub(17,"label",9),r.Ec(18,"Password"),r.Tb(),r.Ub(19,"div",10),r.Ub(20,"input",14),r.bc("ngModelChange",function(t){return e.password=t}),r.Tb(),r.Ub(21,"div",12),r.Qb(22,"img",13),r.Tb(),r.Tb(),r.Tb(),r.Cc(23,NH,3,2,"div",15),r.Ub(24,"div",16),r.Ub(25,"div",17),r.Ub(26,"button",18),r.bc("click",function(){return e.onSubmit()}),r.Ec(27," Login "),r.Tb(),r.Tb(),r.Ub(28,"div",17),r.Ub(29,"button",18),r.bc("click",function(){return e.signInWithOneAccount()}),r.Ec(30," Login in development "),r.Tb(),r.Tb(),r.Ub(31,"div",17),r.Ub(32,"button",18),r.bc("click",function(){return e.authService.GoogleAuth()}),r.Ub(33,"div",12),r.Qb(34,"img",19),r.Tb(),r.Ub(35,"div"),r.Ec(36," Login with Google "),r.Tb(),r.Tb(),r.Tb(),r.Ub(37,"div",20),r.Ub(38,"span",21),r.Ec(39,"Forgot Password?"),r.Tb(),r.Tb(),r.Ub(40,"div",20),r.Ub(41,"span",22),r.Ec(42,"Don't have an account? Sign Up"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(8),r.mc("src",e.appIcon,r.zc),r.Db(5),r.lc("ngModel",e.email),r.Db(2),r.mc("src",e.userIcon,r.zc),r.Db(5),r.lc("ngModel",e.password),r.Db(2),r.mc("src",e.passwordIcon,r.zc),r.Db(1),r.lc("ngIf",e.emailError||e.passwordError),r.Db(11),r.mc("src",e.googleIcon,r.zc),r.Db(4),r.mc("routerLink",e.forgotPasswordPath),r.Db(3),r.mc("routerLink",e.signUpPath))},directives:[zD,aR,FR,lt,So],styles:[".column[_ngcontent-%COMP%]{width:50%}.login-opt[_ngcontent-%COMP%]{text-align:center}.icon-dim[_ngcontent-%COMP%]{height:50%}.icon-dim-google[_ngcontent-%COMP%]{height:80%}.button-style[_ngcontent-%COMP%]{margin-bottom:1rem;color:#000}.button-style[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#ff8c00}.options[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:.5rem}.options[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{text-decoration:underline}.title[_ngcontent-%COMP%]{text-align:center}.icon-title[_ngcontent-%COMP%]{height:4rem;width:4rem;margin-left:auto;margin-right:auto;display:block}.hero-body[_ngcontent-%COMP%]{position:fixed;top:13%;width:100%}.invalid[_ngcontent-%COMP%]{color:red;font-style:italic;margin-top:1rem;margin-bottom:1rem}"]}),t})();function jH(t,e){1&t&&(r.Ub(0,"div"),r.Ec(1,"Email is incorrect."),r.Tb())}function LH(t,e){1&t&&(r.Ub(0,"div"),r.Ec(1,"Password should be more than 5 characters. "),r.Tb())}function FH(t,e){1&t&&(r.Ub(0,"div"),r.Ec(1,"Passwords should match. "),r.Tb())}function UH(t,e){if(1&t&&(r.Ub(0,"div",22),r.Cc(1,jH,2,0,"div",23),r.Cc(2,LH,2,0,"div",23),r.Cc(3,FH,2,0,"div",23),r.Tb()),2&t){const t=r.fc();r.Db(1),r.lc("ngIf",t.emailError),r.Db(1),r.lc("ngIf",t.passwordError),r.Db(1),r.lc("ngIf",t.matchingError)}}let VH=(()=>{class t{constructor(t,e){this.authService=t,this.validation=e,this.appIcon=Ko.APP_ICON,this.userIcon=Ko.USER_ICON,this.passwordIcon=Ko.PASSWORD_ICON,this.googleIcon=Ko.GOOGLE_ICON,this.emailError=!1,this.passwordError=!1,this.matchingError=!1,this.signInPath=Ko.SIGN_IN_URL}ngOnInit(){}validateEmail(){return this.validation.validateEmail(this.email)}validatePassword1(){return this.validation.validatePassword(this.password1)}validatePassword2(){return this.validation.validatePassword(this.password2)}validatePasswords(){return this.password1===this.password2}loginValidator(){return this.validatePasswords()&&this.validateEmail()&&this.validatePassword1()}onSubmit(){this.loginValidator()?(this.passwordError=!1,this.emailError=!1,this.matchingError=!1,this.authService.SignUp(this.email,this.password1)):(this.emailError=!this.validateEmail(),this.passwordError=!this.validatePassword1(),this.matchingError=!this.validatePasswords())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(KS),r.Pb(PH))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-sign-up"]],decls:44,vars:10,consts:[[1,"hero-body"],[1,"container"],[1,"columns","is-centered"],[1,"column","is-5-tablet","is-4-desktop","is-3-widescreen"],[1,"box"],[1,"title"],[1,"icon-title"],[3,"src"],[1,"field"],[1,"label"],[1,"control","has-icons-left"],["type","email","placeholder","Email","required","",1,"input",3,"ngModel","ngModelChange"],[1,"icon","is-left"],[1,"icon-dim",3,"src"],["type","password","placeholder","Password","required","",1,"input",3,"ngModel","ngModelChange"],["class","invalid",4,"ngIf"],[1,"login-opt"],[1,"button-style"],[1,"button",3,"click"],[1,"icon-dim-google",3,"src"],[1,"options"],[3,"routerLink"],[1,"invalid"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Ub(3,"div",3),r.Ub(4,"div",4),r.Ub(5,"div",5),r.Ec(6," Movie Finder Sign Up"),r.Tb(),r.Ub(7,"div",6),r.Qb(8,"img",7),r.Tb(),r.Ub(9,"div",8),r.Ub(10,"label",9),r.Ec(11,"Email"),r.Tb(),r.Ub(12,"div",10),r.Ub(13,"input",11),r.bc("ngModelChange",function(t){return e.email=t}),r.Tb(),r.Ub(14,"div",12),r.Qb(15,"img",13),r.Tb(),r.Tb(),r.Tb(),r.Ub(16,"div",8),r.Ub(17,"label",9),r.Ec(18,"Password"),r.Tb(),r.Ub(19,"div",10),r.Ub(20,"input",14),r.bc("ngModelChange",function(t){return e.password1=t}),r.Tb(),r.Ub(21,"div",12),r.Qb(22,"img",13),r.Tb(),r.Tb(),r.Tb(),r.Ub(23,"div",8),r.Ub(24,"label",9),r.Ec(25,"Repeat Password"),r.Tb(),r.Ub(26,"div",10),r.Ub(27,"input",14),r.bc("ngModelChange",function(t){return e.password2=t}),r.Tb(),r.Ub(28,"div",12),r.Qb(29,"img",13),r.Tb(),r.Tb(),r.Tb(),r.Cc(30,UH,4,3,"div",15),r.Ub(31,"div",16),r.Ub(32,"div",17),r.Ub(33,"button",18),r.bc("click",function(){return e.onSubmit()}),r.Ec(34," Sign Up "),r.Tb(),r.Tb(),r.Ub(35,"div",17),r.Ub(36,"button",18),r.bc("click",function(){return e.authService.GoogleAuth()}),r.Ub(37,"div",12),r.Qb(38,"img",19),r.Tb(),r.Ub(39,"div"),r.Ec(40," Continue with Google "),r.Tb(),r.Tb(),r.Tb(),r.Ub(41,"div",20),r.Ub(42,"span",21),r.Ec(43,"Already have an account? Log In."),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(8),r.mc("src",e.appIcon,r.zc),r.Db(5),r.lc("ngModel",e.email),r.Db(2),r.mc("src",e.userIcon,r.zc),r.Db(5),r.lc("ngModel",e.password1),r.Db(2),r.mc("src",e.passwordIcon,r.zc),r.Db(5),r.lc("ngModel",e.password2),r.Db(2),r.mc("src",e.passwordIcon,r.zc),r.Db(1),r.lc("ngIf",e.emailError||e.matchingError||e.passwordError),r.Db(8),r.mc("src",e.googleIcon,r.zc),r.Db(4),r.mc("routerLink",e.signInPath))},directives:[zD,GR,aR,FR,lt,So],styles:[".column[_ngcontent-%COMP%]{width:50%}.login-opt[_ngcontent-%COMP%]{text-align:center}.icon-dim[_ngcontent-%COMP%]{height:50%}.icon-dim-google[_ngcontent-%COMP%]{height:80%}.button-style[_ngcontent-%COMP%]{margin-bottom:1rem;color:#000}.button-style[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#ff8c00}.options[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:.5rem}.options[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{text-decoration:underline}.title[_ngcontent-%COMP%]{text-align:center}.icon-title[_ngcontent-%COMP%]{height:4rem;width:4rem;margin-left:auto;margin-right:auto;display:block}.hero-body[_ngcontent-%COMP%]{position:fixed;top:13%;width:100%}.invalid[_ngcontent-%COMP%]{color:red;font-style:italic;margin-top:1rem;margin-bottom:1rem}"]}),t})();function BH(t,e){1&t&&(r.Ub(0,"div",21),r.Ec(1,"Email is incorrect."),r.Tb())}let qH=(()=>{class t{constructor(t,e){this.authService=t,this.validation=e,this.appIcon=Ko.APP_ICON,this.userIcon=Ko.USER_ICON,this.emailError=!1,this.signInPath=Ko.SIGN_IN_URL}ngOnInit(){}validateEmail(){return this.validation.validateEmail(this.email)}onSubmit(){this.validateEmail()?(this.emailError=!1,this.authService.ForgotPassword(this.email)):this.emailError=!this.validateEmail()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(KS),r.Pb(PH))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-forgot-password"]],decls:27,vars:5,consts:[[1,"hero-body"],[1,"container"],[1,"columns","is-centered"],[1,"column","is-5-tablet","is-4-desktop","is-3-widescreen"],["action","",1,"box"],[1,"title"],[1,"icon-title"],[3,"src"],[1,"label","has-text-centered"],[1,"field"],[1,"label"],[1,"control","has-icons-left"],["type","email","placeholder","Email","required","",1,"input",3,"ngModel","ngModelChange"],[1,"icon","is-left"],[1,"icon-dim",3,"src"],["class","invalid",4,"ngIf"],[1,"login-opt"],[1,"button-style"],[1,"button",3,"click"],[1,"options"],[3,"routerLink"],[1,"invalid"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"div",2),r.Ub(3,"div",3),r.Ub(4,"div",4),r.Ub(5,"div",5),r.Ec(6," Movie Finder Reset Password "),r.Tb(),r.Ub(7,"div",6),r.Qb(8,"img",7),r.Tb(),r.Qb(9,"br"),r.Ub(10,"label",8),r.Ec(11,"Please enter your email address to request a password reset."),r.Tb(),r.Ub(12,"div",9),r.Ub(13,"label",10),r.Ec(14,"Email"),r.Tb(),r.Ub(15,"div",11),r.Ub(16,"input",12),r.bc("ngModelChange",function(t){return e.email=t}),r.Tb(),r.Ub(17,"div",13),r.Qb(18,"img",14),r.Tb(),r.Tb(),r.Tb(),r.Cc(19,BH,2,0,"div",15),r.Ub(20,"div",16),r.Ub(21,"div",17),r.Ub(22,"button",18),r.bc("click",function(){return e.onSubmit()}),r.Ec(23," Reset password "),r.Tb(),r.Tb(),r.Ub(24,"div",19),r.Ub(25,"span",20),r.Ec(26,"Go back to Log In"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Db(8),r.mc("src",e.appIcon,r.zc),r.Db(8),r.lc("ngModel",e.email),r.Db(2),r.mc("src",e.userIcon,r.zc),r.Db(1),r.lc("ngIf",e.emailError),r.Db(6),r.mc("routerLink",e.signInPath))},directives:[zD,GR,aR,FR,lt,So],styles:[".column[_ngcontent-%COMP%]{width:50%}.login-opt[_ngcontent-%COMP%]{text-align:center}.icon-dim[_ngcontent-%COMP%]{height:50%}.icon-dim-google[_ngcontent-%COMP%]{height:80%}.button-style[_ngcontent-%COMP%]{margin-bottom:1rem;color:#000}.button-style[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#ff8c00}.options[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:.5rem}.options[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{text-decoration:underline}.title[_ngcontent-%COMP%]{text-align:center}.icon-title[_ngcontent-%COMP%]{height:4rem;width:4rem;margin-left:auto;margin-right:auto;display:block}.hero-body[_ngcontent-%COMP%]{position:fixed;top:13%;width:100%}.invalid[_ngcontent-%COMP%]{color:red;font-style:italic;margin-top:1rem;margin-bottom:1rem}"]}),t})(),zH=(()=>{class t{constructor(t,e){this.client=t,this.auth=e}getCrewMember$(t){return this.client.get(vO.GET_CREW_MEMBER_BY_ID+t).pipe(Pn(t=>(401===t.status&&this.auth.SignOut(),console.log(t),gn.a)))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Me),r.Yb(KS))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const HH=["tabContent"];function WH(t,e){if(1&t){const t=r.Vb();r.Ub(0,"li",4),r.bc("click",function(){r.wc(t);const n=e.$implicit;return r.fc().changeTab(n.orderNumber)}),r.Ub(1,"div"),r.Qb(2,"img",5),r.Tb(),r.Ub(3,"div"),r.Ec(4),r.Tb(),r.Tb()}if(2&t){const t=e.$implicit;r.Hb("active",t.active),r.Db(2),r.lc("src",t.icon,r.zc),r.Db(2),r.Gc(" ",t.title," ")}}function KH(t,e){}let GH=(()=>{class t{constructor(t,e,n){this.resolver=t,this.tabsProvider=e,this.changeDetectorReference=n,this.tabs=[],e.crewTabs$().subscribe(t=>this.tabs=t)}ngAfterViewInit(){const t=this.tabsProvider.getCrewTabByOrderNumber(0),e=this.resolver.resolveComponentFactory(t.component);this.componentRef=this.container.createComponent(e),this.componentRef.instance.crewMember=this.crewMember,this.changeDetectorReference.detectChanges()}getTabs(){return this.tabs}changeTab(t){this.tabs=this.tabs.map((e,n)=>Object.assign(Object.assign({},e),n===t?{active:!0}:{active:!1})),this.container.clear();const e=this.tabsProvider.getCrewTabByOrderNumber(t),n=this.resolver.resolveComponentFactory(e.component);this.componentRef=this.container.createComponent(n),this.componentRef.instance.crewMember=this.crewMember}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.j),r.Pb(TH),r.Pb(r.h))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-crew-details-tabs"]],viewQuery:function(t,e){if(1&t&&r.Ic(HH,1,r.R),2&t){let t;r.sc(t=r.cc())&&(e.container=t.first)}},inputs:{crewMember:"crewMember"},decls:6,vars:1,consts:[[1,"tabs"],[1,"selection"],["class","tab",3,"active","click",4,"ngFor","ngForOf"],["tabContent",""],[1,"tab",3,"click"],[1,"icon",3,"src"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"div",1),r.Ub(2,"ul"),r.Cc(3,WH,5,4,"li",2),r.Tb(),r.Tb(),r.Cc(4,KH,0,0,"ng-template",null,3,r.Dc),r.Tb()),2&t&&(r.Db(3),r.lc("ngForOf",e.getTabs()))},directives:[ct],styles:[".tabs[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;height:100%;padding:3rem;margin:3rem auto;background:#fff;border-radius:.25rem;white-space:pre-line}.tab-content[_ngcontent-%COMP%]{margin-top:1rem}.tab[_ngcontent-%COMP%]{display:inline-block;justify-content:center;align-items:center;margin:0 0 -1px;padding:1rem 1.5rem;text-align:center;border:1px solid transparent;cursor:pointer}.icon[_ngcontent-%COMP%]{margin-right:.6rem}.tab.active[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;border-top:1px solid #ddd;border-color:#000 #ddd #fff;border-style:solid;border-width:2px 1px 1px}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})();function YH(t,e){if(1&t&&(r.Ub(0,"section",1),r.Ub(1,"div",2),r.Ec(2),r.Tb(),r.Ub(3,"div",3),r.Qb(4,"img",4),r.Tb(),r.Ub(5,"div",5),r.Qb(6,"app-crew-details-tabs",6),r.Tb(),r.Tb()),2&t){const t=e.ngIf;r.Db(2),r.Fc(t.name),r.Db(2),r.mc("src",t.imageUrl,r.zc),r.Db(2),r.lc("crewMember",t)}}const $H=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"sign-in",component:MH},{path:"sign-up",component:VH},{path:"forgot-password",component:qH},{path:"dashboard",component:Jx,canActivate:[GS]},{path:"details/:idString",component:AH,canActivate:[GS]},{path:"crew-details/:idString",component:(()=>{class t{constructor(t,e,n){this.route=t,this.crewService=e,this.overlayService=n}ngOnInit(){this.overlayService.getSpinner$().next(!0),this.crewMember$=this.route.paramMap.pipe(_n(t=>this.crewService.getCrewMember$(t.get(gO.MOVIE_URL_PARAMETER)).pipe(Object(be.a)(t=>(this.overlayService.getSpinner$().next(!1),t)))),Pn(()=>(this.overlayService.getSpinner$().next(!1),gn.a)))}getCrewMember$(){return this.crewMember$}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ri),r.Pb(zH),r.Pb(Qx))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-crew-details-page"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"title","has-text-centered"],[1,"image-placeholder"],[3,"src"],[1,"block-tabs"],[1,"tabs",3,"crewMember"]],template:function(t,e){1&t&&(r.Cc(0,YH,7,3,"section",0),r.gc(1,"async")),2&t&&r.lc("ngIf",r.hc(1,1,e.getCrewMember$()))},directives:[lt,GH],pipes:[Tt],styles:[".block-tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.tabs[_ngcontent-%COMP%]{width:90%;height:100%}.title[_ngcontent-%COMP%]{color:#fff;cursor:default;margin-top:1rem}.image-placeholder[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),t})(),canActivate:[GS]},{path:"**",redirectTo:"/dashboard"}];let QH=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Lo.forRoot($H)],Lo]}),t})(),XH=(()=>{class t{constructor(t,e){this.client=t,this.auth=e,this.searchEndpoint=vO.GET_SEARCH}getSearchedMovies$(t){return this.client.get(this.searchEndpoint,{params:{q:t,type:"0",max:"10",offset:"0"}}).pipe(Pn(t=>(401===t.status&&(console.log(t),this.auth.SignOut()),Object(le.a)([]))))}getSearchedCrewMembers$(t){return this.client.get(this.searchEndpoint,{params:{q:t,type:"1",max:"10",offset:"0"}}).pipe(Pn(t=>(401===t.status&&(console.log(t),this.auth.SignOut()),Object(le.a)([]))))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Me),r.Yb(KS))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const JH=["*",[["mat-toolbar-row"]]],ZH=["*","mat-toolbar-row"];class tW{constructor(t){this._elementRef=t}}const eW=yP(tW);let nW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),rW=(()=>{class t extends eW{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(GO),r.Pb(s))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Ib(n,nW,1),2&t){let t;r.sc(t=r.cc())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.Hb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.Ab],ngContentSelectors:ZH,decls:2,vars:0,template:function(t,e){1&t&&(r.kc(JH),r.jc(0),r.jc(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),iW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[vP],vP]}),t})();const oW=tx({passive:!0});let sW=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return gn.a;const e=jO(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new Je.a,i="cdk-text-field-autofilled",o=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",o,oW),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",o,oW)}}),r}stopMonitoring(t){const e=jO(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(GO),r.Yb(r.A))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(GO),Object(r.Yb)(r.A))},token:t,providedIn:"root"}),t})(),aW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[YO]]}),t})();const cW=new r.r("MAT_INPUT_VALUE_ACCESSOR"),uW=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let lW=0;class hW{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const dW=CP(hW);let fW=(()=>{class t extends dW{constructor(t,e,n,r,i,o,s,a,c,u){super(o,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=u,this._uid="mat-input-"+lW++,this.focused=!1,this.stateChanges=new Je.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>QO().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=s||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=DO(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=DO(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&QO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=DO(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){uW.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(GO),r.Pb(oR,10),r.Pb(MR,8),r.Pb(WR,8),r.Pb(EP),r.Pb(cW,10),r.Pb(sW),r.Pb(r.A),r.Pb(ND,8))},t.\u0275dir=r.Kb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.bc("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Xb("disabled",e.disabled)("required",e.required),r.Eb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),r.Hb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.Cb([{provide:ED,useExisting:t}]),r.Ab,r.Bb]}),t})(),pW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[EP],imports:[[aW,jD,vP],aW,jD]}),t})();var mW=n("WMd4");class gW{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new vW(t,this.delay,this.scheduler))}}class vW extends pe.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(vW.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new bW(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(mW.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(mW.a.createComplete()),this.unsubscribe()}}class bW{constructor(t,e){this.time=t,this.notification=e}}const yW=["panel"];function _W(t,e){if(1&t&&(r.Ub(0,"div",0,1),r.jc(2),r.Tb()),2&t){const t=e.id,n=r.fc();r.lc("id",n.id)("ngClass",n._classList),r.Eb("aria-label",n.ariaLabel||null)("aria-labelledby",n._getPanelAriaLabelledby(t))}}const wW=["*"];let CW=0;class TW{constructor(t,e){this.source=t,this.option=e}}class EW{}const SW=_P(EW),OW=new r.r("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}});let xW=(()=>{class t extends SW{constructor(t,e,n,i){super(),this._changeDetectorRef=t,this._elementRef=e,this._activeOptionChanges=Yn.a.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new r.n,this.opened=new r.n,this.closed=new r.n,this.optionActivated=new r.n,this._classList={},this.id="mat-autocomplete-"+CW++,this.inertGroups=(null==i?void 0:i.SAFARI)||!1,this._autoActiveFirstOption=!!n.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(t){this._autoActiveFirstOption=DO(t)}set classList(t){this._classList=t&&t.length?function(t,e=/\s+/){const n=[];if(null!=t){const r=Array.isArray(t)?t:`${t}`.split(e);for(const t of r){const e=`${t}`.trim();e&&n.push(e)}}return n}(t).reduce((t,e)=>(t[e]=!0,t),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new wk(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(t=>{this.optionActivated.emit({source:this,option:this.options.toArray()[t]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(t){const e=new TW(this,t);this.optionSelected.emit(e)}_getPanelAriaLabelledby(t){return this.ariaLabel?null:this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_setVisibilityClasses(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.h),r.Pb(r.l),r.Pb(OW),r.Pb(GO))},t.\u0275dir=r.Kb({type:t,viewQuery:function(t,e){if(1&t&&(r.Ic(r.M,3),r.Ic(yW,1)),2&t){let t;r.sc(t=r.cc())&&(e.template=t.first),r.sc(t=r.cc())&&(e.panel=t.first)}},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[r.Ab]}),t})(),kW=(()=>{class t extends xW{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return t.\u0275fac=function(e){return IW(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,n){if(1&t&&(r.Ib(n,HP,1),r.Ib(n,YP,1)),2&t){let t;r.sc(t=r.cc())&&(e.optionGroups=t),r.sc(t=r.cc())&&(e.options=t)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[r.Cb([{provide:UP,useExisting:t}]),r.Ab],ngContentSelectors:wW,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(r.kc(),r.Cc(0,_W,3,4,"ng-template"))},directives:[st],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),t})();const IW=r.Wb(kW),AW=new r.r("mat-autocomplete-scroll-strategy"),PW={provide:AW,deps:[zx],useFactory:function(t){return()=>t.scrollStrategies.reposition()}},DW={provide:VD,useExisting:Object(r.V)(()=>NW),multi:!0};let RW=(()=>{class t{constructor(t,e,n,r,i,o,s,a,c,u,l){this._element=t,this._overlay=e,this._viewContainerRef=n,this._zone=r,this._changeDetectorRef=i,this._dir=s,this._formField=a,this._document=c,this._viewportRuler=u,this._defaults=l,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=Yn.a.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new Je.a,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=vn(()=>this.autocomplete&&this.autocomplete.options?Object(pS.a)(...this.autocomplete.options.map(t=>t.onSelectionChange)):this._zone.onStable.pipe(En(1),_n(()=>this.optionSelections))),this._scrollStrategy=o}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(t){this._autocompleteDisabled=DO(t)}ngAfterViewInit(){const t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular(()=>t.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return Object(pS.a)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(me(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(me(()=>this._overlayAttached)):Object(le.a)()).pipe(Object(be.a)(t=>t instanceof KP?t:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return Object(pS.a)(FO(this._document,"click"),FO(this._document,"auxclick"),FO(this._document,"touchend")).pipe(me(t=>{const e=this._isInsideShadowRoot&&t.composedPath?t.composedPath()[0]:t.target,n=this._formField?this._formField._elementRef.nativeElement:null,r=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&e!==this._element.nativeElement&&(!n||!n.contains(e))&&(!r||!r.contains(e))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(e)}))}writeValue(t){Promise.resolve(null).then(()=>this._setTriggerValue(t))}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this._element.nativeElement.disabled=t}_handleKeydown(t){const e=t.keyCode;if(27!==e||px(t)||t.preventDefault(),this.activeOption&&13===e&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){const n=this.autocomplete._keyManager.activeItem,r=e===fx||40===e;this.panelOpen||9===e?this.autocomplete._keyManager.onKeydown(t):r&&this._canOpen()&&this.openPanel(),(r||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(t){let e=t.target,n=e.value;"number"===e.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(t=!1){this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const t=this._zone.onStable.pipe(En(1)),e=this.autocomplete.options.changes.pipe(Object(Kn.a)(()=>this._positionStrategy.reapplyLastPosition()),function(t,e=iS.a){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new gW(r,e))}(0));return Object(pS.a)(t,e).pipe(_n(()=>{const t=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),t!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),En(1)).subscribe(t=>this._setValueAndClose(t))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(t){const e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,n=null!=e?e:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}_setValueAndClose(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}_clearPreviousSelectedOption(t){this.autocomplete.options.forEach(e=>{e!==t&&e.selected&&e.deselect()})}_attachOverlay(){var t;null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!nx(this._element.nativeElement));let e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new OO(this.autocomplete.template,this._viewContainerRef,{id:null===(t=this._formField)||void 0===t?void 0:t.getLabelId()}),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,e.keydownEvents().subscribe(t=>{(27===t.keyCode&&!px(t)||t.keyCode===fx&&px(t,"altKey"))&&(this._resetActiveItem(),this._closeKeyEventStream.next(),t.stopPropagation(),t.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&e&&e.updateSize({width:this._getPanelWidth()})})),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const n=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&n!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var t;return new Tx({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(t=this._defaults)||void 0===t?void 0:t.overlayPanelClass})}_getOverlayPosition(){const t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}_setStrategyPositions(t){const e=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],n=this._aboveClass,r=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:n},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:n}];let i;i="above"===this.position?r:"below"===this.position?e:[...e,...r],t.withPositions(i)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const t=this.autocomplete;t.autoActiveFirstOption?t._keyManager.setFirstItemActive():t._keyManager.setActiveItem(-1)}_canOpen(){const t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}_getWindow(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}_scrollToOption(t){const e=this.autocomplete,n=$P(t,e.options,e.optionGroups);if(0===t&&1===n)e._setScrollTop(0);else if(e.panel){const n=e.options.toArray()[t];if(n){const t=n._getHostElement(),r=QP(t.offsetTop,t.offsetHeight,e._getScrollTop(),e.panel.nativeElement.offsetHeight);e._setScrollTop(r)}}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(zx),r.Pb(r.R),r.Pb(r.A),r.Pb(r.h),r.Pb(AW),r.Pb(ix,8),r.Pb(ND,9),r.Pb(s,8),r.Pb(cx),r.Pb(OW,8))},t.\u0275dir=r.Kb({type:t,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[r.Bb]}),t})(),NW=(()=>{class t extends RW{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return t.\u0275fac=function(e){return MW(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&r.bc("focusin",function(){return e._handleFocus()})("blur",function(){return e._onTouched()})("input",function(t){return e._handleInput(t)})("keydown",function(t){return e._handleKeydown(t)}),2&t&&r.Eb("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[r.Cb([DW]),r.Ab]}),t})();const MW=r.Wb(NW);let jW=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[PW],imports:[[$x,XP,vP,Ot],ux,XP,vP]}),t})();var LW=n("z6cu"),FW=n("w1tV");const UW=["*"];function VW(t){return Error(`Unable to find icon with the name "${t}"`)}function BW(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function qW(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class zW{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let HW=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new zW(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const o=this._sanitizer.sanitize(r.J.HTML,n);if(!o)throw qW(n);return this._addSvgIconConfig(t,e,new zW("",o,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new zW(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.J.HTML,e);if(!i)throw qW(e);return this._addSvgIconSetConfig(t,new zW("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.J.RESOURCE_URL,t);if(!e)throw BW(t);const n=this._cachedIconsByUrl.get(e);return n?Object(le.a)(WW(n)):this._loadSvgIconFromConfig(new zW(t,null)).pipe(Object(Kn.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(be.a)(t=>WW(t)))}getNamedSvgIcon(t,e=""){const n=KW(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(LW.a)(VW(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(le.a)(WW(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(be.a)(t=>WW(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(le.a)(n):FD(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Pn(e=>{const n=this._sanitizer.sanitize(r.J.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(le.a)(null)})))).pipe(Object(be.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw VW(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Kn.a)(e=>t.svgText=e),Object(be.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(le.a)(null):this._fetchIcon(t).pipe(Object(Kn.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,o=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(r.J.RESOURCE_URL,n);if(!s)throw BW(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe($n(()=>this._inProgressUrlFetches.delete(s)),Object(FW.a)());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(KW(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new zW(i.url,null,i.options):new zW(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(Me,8),r.Yb(ie),r.Yb(s,8),r.Yb(r.m))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Yb)(Me,8),Object(r.Yb)(ie),Object(r.Yb)(s,8),Object(r.Yb)(r.m))},token:t,providedIn:"root"}),t})();function WW(t){return t.cloneNode(!0)}function KW(t,e){return t+":"+e}class GW{constructor(t){this._elementRef=t}}const YW=yP(GW),$W=new r.r("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.W)(s),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),QW=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],XW=QW.map(t=>`[${t}]`).join(", "),JW=/^url\(['"]?#(.*?)['"]?\)$/;let ZW=(()=>{class t extends YW{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Yn.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=DO(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(XW),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)QW.forEach(t=>{const i=e[r],o=i.getAttribute(t),s=o?o.match(JW):null;if(s){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:s[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(En(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(HW),r.Zb("aria-hidden"),r.Pb($W),r.Pb(r.m))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Eb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Hb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.Ab],ngContentSelectors:UW,decls:1,vars:0,template:function(t,e){1&t&&(r.kc(),r.jc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),tK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[vP],vP]}),t})();function eK(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-option",16),r.bc("click",function(){return r.wc(t),r.fc().optionChanged()}),r.Ec(1),r.Tb()}if(2&t){const t=e.$implicit;r.lc("value",t),r.Db(1),r.Gc(" ",t," ")}}function nK(t,e){if(1&t){const t=r.Vb();r.Ub(0,"mat-option",17),r.bc("click",function(){return r.wc(t),r.fc().navigateToSearchedItem()}),r.Ec(1),r.Tb()}if(2&t){const t=e.$implicit;r.lc("value",t),r.Db(1),r.Gc(" ",t," ")}}let rK=(()=>{class t{constructor(t,e,n,r){this.router=t,this.auth=e,this.searchProvider=n,this.spinner=r,this.searchIcon=Ko.SEARCH_ICON,this.chartsPath=Ko.CHARTS_URL,this.myPlaceHolder="Search for more than three characters",this.myControl=new AR,this.options=[],this.categories=["Movies","Crew Members"],this.selectedCategory="Movies",this.searchedMovies=[],this.searchedCrewMembers=[]}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe(xn(""),Object(be.a)(t=>(void 0===this.findMovieByString(t)&&this.selectedCategory===this.categories[0]||void 0===this.findCrewMemberByString(t)&&this.selectedCategory===this.categories[1])&&(this.spinner.getSpinner$().next(!1),this.options=[],this.searchedMovies=[],this.searchedCrewMembers=[],this.myControl&&this.myControl.value&&this.myControl.value.length>3)?this.filter(t):[]))}filter(t){return this.spinner.getSpinner$().next(!0),"Movies"===this.selectedCategory?this.searchProvider.getSearchedMovies$(t).subscribe(t=>{this.searchedMovies.push(...t),this.searchedMovies.forEach(t=>this.options.push(t.title)),this.spinner.getSpinner$().next(!1)}):"Crew Members"===this.selectedCategory&&this.searchProvider.getSearchedCrewMembers$(t).subscribe(t=>{this.searchedCrewMembers.push(...t),this.searchedCrewMembers.forEach(t=>this.options.push(t.name)),this.spinner.getSpinner$().next(!1)}),this.options=[]}optionChanged(){this.searchedMovies=[],this.searchedCrewMembers=[],this.searchQuery=""}findMovieByString(t){return this.searchedMovies.find(e=>e.title===t)}findCrewMemberByString(t){return this.searchedCrewMembers.find(e=>e.name===t)}navigateToSearchedItem(){this.selectedCategory===this.categories[0]&&this.searchedMovies.find(t=>{t.title===this.searchQuery&&(this.searchQuery="",this.router.navigate([vO.BASE_DETAILS_URL,t.idString]))}),this.selectedCategory===this.categories[1]&&this.searchedCrewMembers.find(t=>{t.name===this.searchQuery&&(this.searchQuery="",this.router.navigate([vO.CREW_DETAILS_URL,t.id]))})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Eo),r.Pb(KS),r.Pb(XH),r.Pb(Qx))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-toolbar"]],decls:24,vars:11,consts:[[1,"toolbar"],[1,"app-title-placeholder",3,"click"],[1,"categories"],["placeholder","Category",1,"select-class",3,"ngModel","ngModelChange"],["class","searchedOptions",3,"value","click",4,"ngFor","ngForOf"],[1,"searchForm"],[1,"inputForm",3,"floatLabel"],["matInput","","type","text","aria-label","Number",1,"input-class",3,"ngModel","placeholder","formControl","matAutocomplete","ngModelChange"],["auto","matAutocomplete"],[3,"value","click",4,"ngFor","ngForOf"],[1,"search-icon"],["aria-hidden","false"],[3,"src"],[1,"button-group"],[1,"button"],[1,"button",3,"click"],[1,"searchedOptions",3,"value","click"],[3,"value","click"]],template:function(t,e){if(1&t&&(r.Ub(0,"mat-toolbar",0),r.Ub(1,"div",1),r.bc("click",function(){return e.router.navigate([e.chartsPath])}),r.Ec(2,"Movie Finder"),r.Tb(),r.Ub(3,"div",2),r.Ub(4,"mat-select",3),r.bc("ngModelChange",function(t){return e.selectedCategory=t}),r.Cc(5,eK,2,2,"mat-option",4),r.Tb(),r.Tb(),r.Ub(6,"div",5),r.Ub(7,"form"),r.Ub(8,"mat-form-field",6),r.Ub(9,"input",7),r.bc("ngModelChange",function(t){return e.searchQuery=t}),r.Tb(),r.Ub(10,"mat-autocomplete",null,8),r.Cc(12,nK,2,2,"mat-option",9),r.gc(13,"async"),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Ub(14,"div",10),r.Ub(15,"mat-icon",11),r.Qb(16,"img",12),r.Tb(),r.Tb(),r.Ub(17,"div",13),r.Ub(18,"button",14),r.Ec(19," Watchlist "),r.Tb(),r.Ub(20,"button",14),r.Ec(21," Favorite Actors "),r.Tb(),r.Ub(22,"button",15),r.bc("click",function(){return e.auth.SignOut()}),r.Ec(23," Logout "),r.Tb(),r.Tb(),r.Tb()),2&t){const t=r.tc(11);r.Db(4),r.lc("ngModel",e.selectedCategory),r.Db(1),r.lc("ngForOf",e.categories),r.Db(3),r.lc("floatLabel","never"),r.Db(1),r.mc("placeholder",e.myPlaceHolder),r.lc("ngModel",e.searchQuery)("formControl",e.myControl)("matAutocomplete",t),r.Db(3),r.lc("ngForOf",r.hc(13,9,e.filteredOptions)),r.Db(4),r.mc("src",e.searchIcon,r.zc)}},directives:[rW,bN,aR,FR,ct,UR,cR,MR,MD,fW,zD,NW,zR,kW,ZW,YP],pipes:[Tt],styles:[".app-title-placeholder[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;color:#fff;font-size:2rem;font-weight:600;line-height:1.125;margin-right:2rem;cursor:pointer}.toolbar[_ngcontent-%COMP%]{display:flex;height:4rem;width:100%;background-color:#4a4a4a}.search-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;display:flex;justify-content:center;align-items:center;background-color:#fff}.button[_ngcontent-%COMP%]{cursor:pointer;padding:1rem;height:100%;margin-left:1.5rem;background-color:#4a4a4a;color:#fff}.button-group[_ngcontent-%COMP%]{display:flex;margin-left:auto;height:80%}.searchForm[_ngcontent-%COMP%]{width:45%;height:100%;margin-right:0}.inputForm[_ngcontent-%COMP%]{width:100%}.input-class[_ngcontent-%COMP%]{background-color:#fff;height:3rem}  .mat-form-field-underline{display:none}  .mat-form-field-infix{border-top:0}  .mat-form-field-label{margin-top:.7rem;margin-left:1rem}.categories[_ngcontent-%COMP%]{width:10rem;background-color:#fff;margin-right:2rem}  .mat-option .mat-focus-indicator .ng-star-inserted{cursor:pointer}"]}),t})();function iK(t,e){1&t&&r.Qb(0,"app-toolbar")}let oK=(()=>{class t{constructor(t){this.auth=t,this.title="movies-web-client"}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(KS))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-root"]],decls:3,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(r.Ub(0,"body"),r.Cc(1,iK,1,0,"app-toolbar",0),r.Qb(2,"router-outlet"),r.Tb()),2&t&&(r.Db(1),r.lc("ngIf",e.auth.loginStatus))},directives:[lt,xo,rK],styles:["body[_ngcontent-%COMP%]{min-height:100vh;background-color:#1e1e1e}"]}),t})();const sK={apiKey:"AIzaSyAPDrF3QZgy0Ugpt7QObLuuyQYdEe71H_0",authDomain:"sep6-3e33f.firebaseapp.com",databaseURL:"https://sep6-3e33f-default-rtdb.europe-west1.firebasedatabase.app",projectId:"sep6-3e33f",storageBucket:"sep6-3e33f.appspot.com",messagingSenderId:"475689474726",appId:"1:475689474726:web:2894f95c246ccbe3963267"};let aK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[vP,Ot],vP]}),t})(),cK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[vP],vP]}),t})(),uK=(()=>{class t{constructor(t){this.auth=t}intercept(t,e){return t=t.clone({setHeaders:{"Content-Type":"application/json; charset=utf-8",Accept:"application/json",Authorization:"Bearer "+this.auth.getToken()}}),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Yb(KS))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),lK=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t,bootstrap:[oK]}),t.\u0275inj=r.Mb({providers:[KS,{provide:Le,useClass:uK,multi:!0}],imports:[[ue,Qe,QH,lP,dS.a.initializeApp(sK),IS,WS,aK,$x,QN,$R,QR,jD,iW,cK,XP,jW,pW,tK,_N,ZM,fH]]}),t})();Object(r.U)(),ae().bootstrapModule(lK).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(o.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);